{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///exobot.js","webpack:///webpack/bootstrap 781fc622a54d04513170","webpack:///./src/plugins/chat.js","webpack:///./src/user.js","webpack:///./src/adapters/adapter.js","webpack:///./src/plugins/plugin.js","webpack:///./src/messages/message.js","webpack:///./src/messages/text.js","webpack:///./src/messages/presence.js","webpack:///external \"node-uuid\"","webpack:///./src/adapters/index.js","webpack:///./src/db.js","webpack:///./src/plugins/index.js","webpack:////Users/jack/projects/~/log/lib/log.js","webpack:///external \"babel-polyfill\"","webpack:///external \"eventemitter3\"","webpack:///external \"superagent\"","webpack:///external \"superagent-promise-plugin\"","webpack:///./src/adapters/adapters/discord.js","webpack:///./src/adapters/adapters/shell.js","webpack:///./src/adapters/adapters/slack.js","webpack:///./src/adapters/adapters/twitch.js","webpack:///./src/exobot.js","webpack:///./src/plugins/event.js","webpack:///./src/plugins/http.js","webpack:///./src/plugins/plugins/db.js","webpack:///./src/plugins/plugins/giphy.js","webpack:///./src/plugins/plugins/greetings.js","webpack:///./src/plugins/plugins/help.js","webpack:///./src/plugins/plugins/points.js","webpack:///external \"@slack/client\"","webpack:///external \"cryptr\"","webpack:///external \"discord.io\"","webpack:///external \"events\"","webpack:///external \"fs-extra\"","webpack:///external \"lowdb\"","webpack:///external \"readline\"","webpack:///external \"tmi.js\"","webpack:///external \"underscore-db\"","webpack:///external \"util\""],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_7__","__WEBPACK_EXTERNAL_MODULE_13__","__WEBPACK_EXTERNAL_MODULE_14__","__WEBPACK_EXTERNAL_MODULE_15__","__WEBPACK_EXTERNAL_MODULE_16__","__WEBPACK_EXTERNAL_MODULE_31__","__WEBPACK_EXTERNAL_MODULE_32__","__WEBPACK_EXTERNAL_MODULE_33__","__WEBPACK_EXTERNAL_MODULE_34__","__WEBPACK_EXTERNAL_MODULE_35__","__WEBPACK_EXTERNAL_MODULE_36__","__WEBPACK_EXTERNAL_MODULE_37__","__WEBPACK_EXTERNAL_MODULE_38__","__WEBPACK_EXTERNAL_MODULE_39__","__WEBPACK_EXTERNAL_MODULE_40__","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","p","s","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","__WEBPACK_IMPORTED_MODULE_0__plugin__","__WEBPACK_IMPORTED_MODULE_1__messages_text__","_extends","assign","target","arguments","length","source","key","hasOwnProperty","_createClass","defineProperties","props","descriptor","defineProperty","protoProps","staticProps","DEFAULT_REGEXP","ChatPlugin","_Plugin","_this","getPrototypeOf","regexp","respondFunctions","listenFunctions","bot","_this2","botNameRegex","RegExp","name","alias","emitter","on","forEach","v","process","validation","response","message","_this3","isResponder","undefined","text","validateBotName","direct","exec","validate","res","_text","Promise","then","t","newMessage","emit","adapter","regex","fn","bind","push","User","id","__WEBPACK_IMPORTED_MODULE_0_node_uuid__","__WEBPACK_IMPORTED_MODULE_0_node_uuid___default","__esModule","get","__WEBPACK_IMPORTED_MODULE_2__messages_presence__","Adapter","options","status","STATUS","UNINITIALIZED","Error","CONNECTING","listen","send","_ref","user","channel","whisper","_ref2","prependNameForWhisper","receive","_ref3","type","TYPES","ENTER","_ref4","LEAVE","console","log","pong","CONNECTED","DISCONNECTED","RECONNECTING","ERROR","_asyncToGenerator","gen","apply","resolve","reject","step","arg","info","error","done","err","Plugin","help","_requiresDatabase","database","_x2","_x3","ref","regeneratorRuntime","mark","_callee","defaultValue","val","wrap","_context","prev","next","databaseInitialized","db","set","stop","_callee2","_context2","abrupt","Message","_ref$id","__WEBPACK_IMPORTED_MODULE_0__message__","TextMessage","_Message","_ref$whisper","PresenceMessage","__WEBPACK_IMPORTED_MODULE_0__adapter__","__WEBPACK_IMPORTED_MODULE_1__adapters__","adapters","__WEBPACK_IMPORTED_MODULE_0_cryptr__","__WEBPACK_IMPORTED_MODULE_0_cryptr___default","__WEBPACK_IMPORTED_MODULE_1_lowdb__","__WEBPACK_IMPORTED_MODULE_1_lowdb___default","__WEBPACK_IMPORTED_MODULE_2_fs_extra__","__WEBPACK_IMPORTED_MODULE_2_fs_extra___default","__WEBPACK_IMPORTED_MODULE_3_underscore_db__","__WEBPACK_IMPORTED_MODULE_3_underscore_db___default","deserialize","cryptr","str","decrypted","decrypt","obj","JSON","parse","serialize","stringify","encrypted","encrypt","read","readFile","path","data","e","write","writeFile","readLocal","a","ensureFile","writeLocal","DB","dbPath","_ref$readFile","_ref$writeFile","storage","format","sent","_","mixin","_x","__WEBPACK_IMPORTED_MODULE_1__presence__","__WEBPACK_IMPORTED_MODULE_2__text__","__WEBPACK_IMPORTED_MODULE_1__chat__","__WEBPACK_IMPORTED_MODULE_2__event__","__WEBPACK_IMPORTED_MODULE_3__http__","__WEBPACK_IMPORTED_MODULE_4__plugins__","plugins","fmt","EventEmitter","Log","level","stream","toUpperCase","DEBUG","stdout","readable","EMERGENCY","ALERT","CRITICAL","WARNING","NOTICE","INFO","buf","setEncoding","chunk","split","map","line","captures","match","date","Date","levelString","msg","levelStr","args","emergency","alert","critical","warning","notice","debug","__WEBPACK_IMPORTED_MODULE_0_discord_io__","__WEBPACK_IMPORTED_MODULE_0_discord_io___default","__WEBPACK_IMPORTED_MODULE_1__adapter__","__WEBPACK_IMPORTED_MODULE_2__user__","_get","object","property","receiver","Function","desc","getOwnPropertyDescriptor","parent","getter","EVENTS","ready","presence","disconnected","DiscordAdapter","_Adapter","token","botId","username","channels","discordReady","client","setPresence","game","discordDisconnected","Client","autorun","keys","discordEvent","mappedFn","_bot$emitter","_len","Array","_key","concat","sendMessage","to","userId","directMessages","gameName","rawEvent","d","channel_id","__WEBPACK_IMPORTED_MODULE_0__shell__","__WEBPACK_IMPORTED_MODULE_1__discord__","__WEBPACK_IMPORTED_MODULE_2__twitch__","__WEBPACK_IMPORTED_MODULE_3__slack__","__WEBPACK_IMPORTED_MODULE_0_readline__","__WEBPACK_IMPORTED_MODULE_0_readline___default","SHELL","SHELL_USER","ShellAdapter","rl","createInterface","input","stdin","output","question","answer","prompt","_defineProperty","__WEBPACK_IMPORTED_MODULE_0__slack_client__","__WEBPACK_IMPORTED_MODULE_0__slack_client___default","_EVENTS","RTM","RTM_CONNECTION_OPENED","AUTHENTICATED","DISCONNECT","UNABLE_TO_RTM_START","ATTEMPTING_RECONNECT","MESSAGE","Slack","slackConnecting","slackConnected","slackAuthenticated","slackDisconnected","slackUnableToStart","slackReconnecting","slackMessage","activeUserId","slackUser","dataStore","getUserById","logLevel","slackEvent","start","__WEBPACK_IMPORTED_MODULE_0_tmi_js__","__WEBPACK_IMPORTED_MODULE_0_tmi_js___default","connecting","connected","logon","reconnect","chat","emoteonly","join","part","mods","ping","roomstate","slowmode","subscribers","subscription","timeout","TwitchAdapter","oauthPassword","_ref$channels","_initialiseProps","identity","password","secure","logger","warn","connection","cluster","connect","twitchEvent","say","twitchConnecting","twitchConnected","twitchLogon","twitchDisconnected","twitchReconnect","twitchChat","twitchUser","twitchEmoteonly","twitchJoin","enter","twitchPart","leave","twitchPing","twitchWhisper","receiveWhisper","twitchPong","twitchRoomstate","twitchSlowmode","twitchSubscribers","twitchSubscription","twitchTimeout","twitchMods","twitchNotice","__WEBPACK_IMPORTED_MODULE_0_babel_polyfill__","__WEBPACK_IMPORTED_MODULE_0_babel_polyfill___default","__WEBPACK_IMPORTED_MODULE_1_eventemitter3__","__WEBPACK_IMPORTED_MODULE_1_eventemitter3___default","__WEBPACK_IMPORTED_MODULE_2_log__","__WEBPACK_IMPORTED_MODULE_2_log___default","__WEBPACK_IMPORTED_MODULE_3_superagent__","__WEBPACK_IMPORTED_MODULE_3_superagent___default","__WEBPACK_IMPORTED_MODULE_4_superagent_promise_plugin__","__WEBPACK_IMPORTED_MODULE_4_superagent_promise_plugin___default","__WEBPACK_IMPORTED_MODULE_5__db__","__WEBPACK_IMPORTED_MODULE_6__adapters__","__WEBPACK_IMPORTED_MODULE_7__messages__","__WEBPACK_IMPORTED_MODULE_8__plugins__","__WEBPACK_IMPORTED_MODULE_9__user__","__WEBPACK_IMPORT_KEY__","indexOf","http","patch","Exobot","initLog","initAdapters","initPlugins","initDB","plugin","register","slice","toLowerCase","addAdapter","addPlugin","setInterval","logProcess","memoryUsage","cpuUsage","EventPlugin","HTTPPlugin","__WEBPACK_IMPORTED_MODULE_0__chat__","DBPlugin","_ChatPlugin","respond","dump","clear","getState","setState","initializePlugins","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","_s","_i","Symbol","iterator","isArray","ENDPOINT","GiphyPlugin","apiKey","giphy","body","search","query","q","api_key","parseInt","Math","random","images","original","url","t0","GREETINGS","FAREWELLS","botname","list","GreetingPlugin","_Object$getPrototypeO","_temp","_ret","greeting","includes","farewell","randomGreeting","randomFarewell","HelpPlugin","pluginHelp","filter","__WEBPACK_IMPORTED_MODULE_0__greetings__","__WEBPACK_IMPORTED_MODULE_1__help__","__WEBPACK_IMPORTED_MODULE_2__points__","__WEBPACK_IMPORTED_MODULE_3__db__","__WEBPACK_IMPORTED_MODULE_4__giphy__","nameToId","replace","changePoints","tops","score","things","points","reasonId","existingReason","reason","trim","buildPoints","reasons","updateTops","scores","_ref4$","n","min","_x4","_callee3","_ref5","reasonKeys","_ref6","_context3","r","_callee4","_context4","orderBy"],"mappings":"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","file":"exobot.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"node-uuid\"), require(\"babel-polyfill\"), require(\"eventemitter3\"), require(\"superagent\"), require(\"superagent-promise-plugin\"), require(\"@slack/client\"), require(\"cryptr\"), require(\"discord.io\"), require(\"events\"), require(\"fs-extra\"), require(\"lowdb\"), require(\"readline\"), require(\"tmi.js\"), require(\"underscore-db\"), require(\"util\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"node-uuid\", \"babel-polyfill\", \"eventemitter3\", \"superagent\", \"superagent-promise-plugin\", \"@slack/client\", \"cryptr\", \"discord.io\", \"events\", \"fs-extra\", \"lowdb\", \"readline\", \"tmi.js\", \"underscore-db\", \"util\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"exobot.js\"] = factory(require(\"node-uuid\"), require(\"babel-polyfill\"), require(\"eventemitter3\"), require(\"superagent\"), require(\"superagent-promise-plugin\"), require(\"@slack/client\"), require(\"cryptr\"), require(\"discord.io\"), require(\"events\"), require(\"fs-extra\"), require(\"lowdb\"), require(\"readline\"), require(\"tmi.js\"), require(\"underscore-db\"), require(\"util\"));\n\telse\n\t\troot[\"exobot.js\"] = factory(root[\"node-uuid\"], root[\"babel-polyfill\"], root[\"eventemitter3\"], root[\"superagent\"], root[\"superagent-promise-plugin\"], root[\"@slack/client\"], root[\"cryptr\"], root[\"discord.io\"], root[\"events\"], root[\"fs-extra\"], root[\"lowdb\"], root[\"readline\"], root[\"tmi.js\"], root[\"underscore-db\"], root[\"util\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_7__, __WEBPACK_EXTERNAL_MODULE_13__, __WEBPACK_EXTERNAL_MODULE_14__, __WEBPACK_EXTERNAL_MODULE_15__, __WEBPACK_EXTERNAL_MODULE_16__, __WEBPACK_EXTERNAL_MODULE_31__, __WEBPACK_EXTERNAL_MODULE_32__, __WEBPACK_EXTERNAL_MODULE_33__, __WEBPACK_EXTERNAL_MODULE_34__, __WEBPACK_EXTERNAL_MODULE_35__, __WEBPACK_EXTERNAL_MODULE_36__, __WEBPACK_EXTERNAL_MODULE_37__, __WEBPACK_EXTERNAL_MODULE_38__, __WEBPACK_EXTERNAL_MODULE_39__, __WEBPACK_EXTERNAL_MODULE_40__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"node-uuid\"), require(\"babel-polyfill\"), require(\"eventemitter3\"), require(\"superagent\"), require(\"superagent-promise-plugin\"), require(\"@slack/client\"), require(\"cryptr\"), require(\"discord.io\"), require(\"events\"), require(\"fs-extra\"), require(\"lowdb\"), require(\"readline\"), require(\"tmi.js\"), require(\"underscore-db\"), require(\"util\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"node-uuid\", \"babel-polyfill\", \"eventemitter3\", \"superagent\", \"superagent-promise-plugin\", \"@slack/client\", \"cryptr\", \"discord.io\", \"events\", \"fs-extra\", \"lowdb\", \"readline\", \"tmi.js\", \"underscore-db\", \"util\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"exobot.js\"] = factory(require(\"node-uuid\"), require(\"babel-polyfill\"), require(\"eventemitter3\"), require(\"superagent\"), require(\"superagent-promise-plugin\"), require(\"@slack/client\"), require(\"cryptr\"), require(\"discord.io\"), require(\"events\"), require(\"fs-extra\"), require(\"lowdb\"), require(\"readline\"), require(\"tmi.js\"), require(\"underscore-db\"), require(\"util\"));\n\telse\n\t\troot[\"exobot.js\"] = factory(root[\"node-uuid\"], root[\"babel-polyfill\"], root[\"eventemitter3\"], root[\"superagent\"], root[\"superagent-promise-plugin\"], root[\"@slack/client\"], root[\"cryptr\"], root[\"discord.io\"], root[\"events\"], root[\"fs-extra\"], root[\"lowdb\"], root[\"readline\"], root[\"tmi.js\"], root[\"underscore-db\"], root[\"util\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_7__, __WEBPACK_EXTERNAL_MODULE_13__, __WEBPACK_EXTERNAL_MODULE_14__, __WEBPACK_EXTERNAL_MODULE_15__, __WEBPACK_EXTERNAL_MODULE_16__, __WEBPACK_EXTERNAL_MODULE_31__, __WEBPACK_EXTERNAL_MODULE_32__, __WEBPACK_EXTERNAL_MODULE_33__, __WEBPACK_EXTERNAL_MODULE_34__, __WEBPACK_EXTERNAL_MODULE_35__, __WEBPACK_EXTERNAL_MODULE_36__, __WEBPACK_EXTERNAL_MODULE_37__, __WEBPACK_EXTERNAL_MODULE_38__, __WEBPACK_EXTERNAL_MODULE_39__, __WEBPACK_EXTERNAL_MODULE_40__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 22);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__plugin__ = __webpack_require__(3);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__messages_text__ = __webpack_require__(5);\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t\n\t\n\t\n\tvar DEFAULT_REGEXP = /.+/;\n\t\n\tvar ChatPlugin = function (_Plugin) {\n\t  _inherits(ChatPlugin, _Plugin);\n\t\n\t  function ChatPlugin() {\n\t    _classCallCheck(this, ChatPlugin);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(ChatPlugin).call(this));\n\t\n\t    _this.regexp = DEFAULT_REGEXP;\n\t    _this.respondFunctions = [];\n\t    _this.listenFunctions = [];\n\t    return _this;\n\t  }\n\t\n\t  _createClass(ChatPlugin, [{\n\t    key: 'register',\n\t    value: function register(bot) {\n\t      var _this2 = this;\n\t\n\t      this.bot = bot;\n\t      this.botNameRegex = new RegExp('^(?:(?:' + bot.name + '|' + bot.alias + ')[,\\\\s:.-]*)(.+)');\n\t\n\t      bot.emitter.on('receive-message', function (m) {\n\t        _this2.respondFunctions.forEach(function (v) {\n\t          return _this2.process(v[0], v[1], m, true);\n\t        });\n\t        _this2.listenFunctions.forEach(function (v) {\n\t          return _this2.process(v[0], v[1], m);\n\t        });\n\t      });\n\t    }\n\t  }, {\n\t    key: 'process',\n\t    value: function process(validation, response, message) {\n\t      var _this3 = this;\n\t\n\t      var isResponder = arguments.length <= 3 || arguments[3] === undefined ? false : arguments[3];\n\t\n\t      if (isResponder) {\n\t        var text = this.validateBotName(message);\n\t\n\t        if (text) {\n\t          message = new /* harmony import */__WEBPACK_IMPORTED_MODULE_1__messages_text__[\"a\"](_extends({}, message, { text: text, direct: true }));\n\t        } else {\n\t          return;\n\t        }\n\t      }\n\t\n\t      if (validation.exec) {\n\t        validation = this.validate(validation);\n\t      }\n\t\n\t      var res = validation(message);\n\t\n\t      if (res) {\n\t        var _text = response(res, message);\n\t\n\t        if (_text) {\n\t          if (_text instanceof Promise) {\n\t            _text.then(function (t) {\n\t              var newMessage = new /* harmony import */__WEBPACK_IMPORTED_MODULE_1__messages_text__[\"a\"](_extends({}, message, { text: t }));\n\t              _this3.bot.emitter.emit('send-message:' + message.adapter, newMessage);\n\t            });\n\t          } else {\n\t            var newMessage = new /* harmony import */__WEBPACK_IMPORTED_MODULE_1__messages_text__[\"a\"](_extends({}, message, { text: _text }));\n\t            this.bot.emitter.emit('send-message:' + message.adapter, newMessage);\n\t          }\n\t        }\n\t      }\n\t    }\n\t  }, {\n\t    key: 'validate',\n\t    value: function validate(regex) {\n\t      return function (message) {\n\t        return regex.exec(message.text);\n\t      };\n\t    }\n\t  }, {\n\t    key: 'validateBotName',\n\t    value: function validateBotName(message) {\n\t      var exec = this.botNameRegex.exec(message.text);\n\t      if (!exec) {\n\t        return;\n\t      }\n\t\n\t      return exec[1];\n\t    }\n\t  }, {\n\t    key: 'respond',\n\t    value: function respond(validation, fn) {\n\t      if (fn) {\n\t        fn = fn.bind(this);\n\t      }\n\t      this.respondFunctions.push([validation, fn]);\n\t    }\n\t  }, {\n\t    key: 'listen',\n\t    value: function listen(validation, fn) {\n\t      if (fn) {\n\t        fn = fn.bind(this);\n\t      }\n\t      this.listenFunctions.push([validation, fn]);\n\t    }\n\t  }]);\n\t\n\t  return ChatPlugin;\n\t}(/* harmony import */__WEBPACK_IMPORTED_MODULE_0__plugin__[\"a\"]);\n\t\n\t/* harmony default export */ exports[\"a\"] = ChatPlugin;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar User = function User(name) {\n\t  var id = arguments.length <= 1 || arguments[1] === undefined ? name : arguments[1];\n\t\n\t  _classCallCheck(this, User);\n\t\n\t  this.name = name;\n\t  this.id = id;\n\t};\n\t\n\t/* harmony default export */ exports[\"a\"] = User;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_node_uuid__ = __webpack_require__(7);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_node_uuid___default = __WEBPACK_IMPORTED_MODULE_0_node_uuid__ && __WEBPACK_IMPORTED_MODULE_0_node_uuid__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_0_node_uuid__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_0_node_uuid__; }\n\t/* harmony import */ Object.defineProperty(__WEBPACK_IMPORTED_MODULE_0_node_uuid___default, 'a', { get: __WEBPACK_IMPORTED_MODULE_0_node_uuid___default });\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__messages_text__ = __webpack_require__(5);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__messages_presence__ = __webpack_require__(6);\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t\n\t\n\t\n\t\n\t\n\tvar Adapter = function () {\n\t  function Adapter() {\n\t    var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\t\n\t    _classCallCheck(this, Adapter);\n\t\n\t    this.options = options;\n\t    this.id = options.id || /* harmony import */__WEBPACK_IMPORTED_MODULE_0_node_uuid__[\"v4\"].bind()();\n\t    this.status = Adapter.STATUS.UNINITIALIZED;\n\t  }\n\t\n\t  _createClass(Adapter, [{\n\t    key: 'register',\n\t    value: function register(bot) {\n\t      if (!bot) {\n\t        throw new Error('No bot passed to register; fatal.');\n\t      }\n\t\n\t      this.bot = bot;\n\t\n\t      this.status = Adapter.STATUS.CONNECTING;\n\t      this.listen();\n\t    }\n\t  }, {\n\t    key: 'listen',\n\t    value: function listen() {\n\t      if (!this.bot) {\n\t        throw new Error('No bot to listen on; fatal.');\n\t      }\n\t      this.bot.emitter.on('send-message:' + this.id, this.send.bind(this));\n\t    }\n\t  }, {\n\t    key: 'receive',\n\t    value: function receive(_ref) {\n\t      var user = _ref.user;\n\t      var text = _ref.text;\n\t      var channel = _ref.channel;\n\t      var whisper = _ref.whisper;\n\t\n\t      var message = new /* harmony import */__WEBPACK_IMPORTED_MODULE_1__messages_text__[\"a\"]({ user: user, text: text, channel: channel, whisper: whisper, adapter: this.id });\n\t      this.bot.emitter.emit('receive-message', message);\n\t    }\n\t  }, {\n\t    key: 'receiveWhisper',\n\t    value: function receiveWhisper(_ref2) {\n\t      var user = _ref2.user;\n\t      var text = _ref2.text;\n\t      var channel = _ref2.channel;\n\t\n\t      text = this.bot.prependNameForWhisper(text);\n\t      this.receive({ user: user, text: text, channel: channel, whisper: true });\n\t    }\n\t  }, {\n\t    key: 'enter',\n\t    value: function enter(_ref3) {\n\t      var user = _ref3.user;\n\t      var channel = _ref3.channel;\n\t\n\t      var message = new /* harmony import */__WEBPACK_IMPORTED_MODULE_2__messages_presence__[\"a\"]({\n\t        user: user,\n\t        channel: channel,\n\t        adapter: this.id,\n\t        type: /* harmony import */__WEBPACK_IMPORTED_MODULE_2__messages_presence__[\"a\"].TYPES.ENTER\n\t      });\n\t\n\t      this.bot.emitter.emit('enter', message);\n\t    }\n\t  }, {\n\t    key: 'leave',\n\t    value: function leave(_ref4) {\n\t      var user = _ref4.user;\n\t      var channel = _ref4.channel;\n\t\n\t      var message = new /* harmony import */__WEBPACK_IMPORTED_MODULE_2__messages_presence__[\"a\"]({\n\t        user: user,\n\t        channel: channel,\n\t        adapter: this.id,\n\t        type: /* harmony import */__WEBPACK_IMPORTED_MODULE_2__messages_presence__[\"a\"].TYPES.LEAVE\n\t      });\n\t\n\t      this.bot.emitter.emit('leave', message);\n\t    }\n\t  }, {\n\t    key: 'send',\n\t    value: function send(message) {\n\t      console.log(message.text);\n\t    }\n\t  }, {\n\t    key: 'ping',\n\t    value: function ping() {\n\t      this.pong();\n\t    }\n\t  }, {\n\t    key: 'pong',\n\t    value: function pong() {\n\t      console.log('Ping received, this.pong() not implemented.');\n\t    }\n\t  }]);\n\t\n\t  return Adapter;\n\t}();\n\t\n\tAdapter.STATUS = {\n\t  UNINITIALIZED: 0,\n\t  CONNECTING: 1,\n\t  CONNECTED: 2,\n\t  DISCONNECTED: 3,\n\t  RECONNECTING: 4,\n\t  ERROR: 5\n\t};\n\t/* harmony default export */ exports[\"a\"] = Adapter;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { return step(\"next\", value); }, function (err) { return step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Plugin = function () {\n\t  function Plugin() {\n\t    var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\t\n\t    _classCallCheck(this, Plugin);\n\t\n\t    this.help = undefined;\n\t    this._requiresDatabase = false;\n\t\n\t    this.options = options;\n\t  }\n\t\n\t  _createClass(Plugin, [{\n\t    key: 'register',\n\t    value: function register(bot) {\n\t      if (!bot) {\n\t        throw new Error('No bot passed to register; fatal.');\n\t      }\n\t\n\t      this.bot = bot;\n\t    }\n\t  }, {\n\t    key: 'listen',\n\t    value: function listen() {\n\t      if (!this.bot) {\n\t        throw new Error('No bot to listen on; fatal.');\n\t      }\n\t    }\n\t  }, {\n\t    key: 'database',\n\t    value: function () {\n\t      var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(name, defaultValue) {\n\t        var val;\n\t        return regeneratorRuntime.wrap(function _callee$(_context) {\n\t          while (1) {\n\t            switch (_context.prev = _context.next) {\n\t              case 0:\n\t                _context.next = 2;\n\t                return this.databaseInitialized();\n\t\n\t              case 2:\n\t                val = this.bot.db.get(name).value();\n\t\n\t\n\t                if (typeof val === 'undefined') {\n\t                  this.bot.db.set(name, defaultValue).value();\n\t                }\n\t\n\t              case 4:\n\t              case 'end':\n\t                return _context.stop();\n\t            }\n\t          }\n\t        }, _callee, this);\n\t      }));\n\t\n\t      function database(_x2, _x3) {\n\t        return ref.apply(this, arguments);\n\t      }\n\t\n\t      return database;\n\t    }()\n\t  }, {\n\t    key: 'databaseInitialized',\n\t    value: function () {\n\t      var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n\t        var _this = this;\n\t\n\t        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n\t          while (1) {\n\t            switch (_context2.prev = _context2.next) {\n\t              case 0:\n\t                this._requiresDatabase = true;\n\t\n\t                if (!(this._requiresDatabase && this.bot.db)) {\n\t                  _context2.next = 3;\n\t                  break;\n\t                }\n\t\n\t                return _context2.abrupt('return', true);\n\t\n\t              case 3:\n\t                return _context2.abrupt('return', new Promise(function (resolve) {\n\t                  _this.bot.emitter.on('dbLoaded', resolve);\n\t                }));\n\t\n\t              case 4:\n\t              case 'end':\n\t                return _context2.stop();\n\t            }\n\t          }\n\t        }, _callee2, this);\n\t      }));\n\t\n\t      function databaseInitialized() {\n\t        return ref.apply(this, arguments);\n\t      }\n\t\n\t      return databaseInitialized;\n\t    }()\n\t  }]);\n\t\n\t  return Plugin;\n\t}();\n\t\n\t/* harmony default export */ exports[\"a\"] = Plugin;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_node_uuid__ = __webpack_require__(7);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_node_uuid___default = __WEBPACK_IMPORTED_MODULE_0_node_uuid__ && __WEBPACK_IMPORTED_MODULE_0_node_uuid__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_0_node_uuid__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_0_node_uuid__; }\n\t/* harmony import */ Object.defineProperty(__WEBPACK_IMPORTED_MODULE_0_node_uuid___default, 'a', { get: __WEBPACK_IMPORTED_MODULE_0_node_uuid___default });\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t\n\t\n\tvar Message = function Message(_ref) {\n\t  var user = _ref.user;\n\t  var channel = _ref.channel;\n\t  var adapter = _ref.adapter;\n\t  var _ref$id = _ref.id;\n\t  var id = _ref$id === undefined ? /* harmony import */__WEBPACK_IMPORTED_MODULE_0_node_uuid__[\"v4\"].bind()() : _ref$id;\n\t\n\t  _classCallCheck(this, Message);\n\t\n\t  this.user = user;\n\t  this.channel = channel;\n\t  this.adapter = adapter;\n\t  this.id = id;\n\t};\n\t\n\t/* harmony default export */ exports[\"a\"] = Message;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__message__ = __webpack_require__(4);\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t\n\t\n\tvar TextMessage = function (_Message) {\n\t  _inherits(TextMessage, _Message);\n\t\n\t  function TextMessage(_ref) {\n\t    var text = _ref.text;\n\t    var _ref$whisper = _ref.whisper;\n\t    var whisper = _ref$whisper === undefined ? false : _ref$whisper;\n\t\n\t    _classCallCheck(this, TextMessage);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(TextMessage).apply(this, arguments));\n\t\n\t    _this.text = text;\n\t    _this.whisper = whisper;\n\t    return _this;\n\t  }\n\t\n\t  return TextMessage;\n\t}(/* harmony import */__WEBPACK_IMPORTED_MODULE_0__message__[\"a\"]);\n\t\n\t/* harmony default export */ exports[\"a\"] = TextMessage;\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__message__ = __webpack_require__(4);\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t\n\t\n\tvar PresenceMessage = function (_Message) {\n\t  _inherits(PresenceMessage, _Message);\n\t\n\t  function PresenceMessage(_ref) {\n\t    var type = _ref.type;\n\t\n\t    _classCallCheck(this, PresenceMessage);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(PresenceMessage).apply(this, arguments));\n\t\n\t    _this.type = type;\n\t    return _this;\n\t  }\n\t\n\t  return PresenceMessage;\n\t}(/* harmony import */__WEBPACK_IMPORTED_MODULE_0__message__[\"a\"]);\n\t\n\tPresenceMessage.TYPES = {\n\t  ENTER: 0,\n\t  LEAVE: 1\n\t};\n\t/* harmony default export */ exports[\"a\"] = PresenceMessage;\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"node-uuid\");\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__adapter__ = __webpack_require__(2);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__adapters__ = __webpack_require__(18);\n\t/* harmony reexport */ if(Object.prototype.hasOwnProperty.call(__WEBPACK_IMPORTED_MODULE_0__adapter__, \"a\")) Object.defineProperty(exports, \"Adapter\", {configurable: false, enumerable: true, get: function() { return __WEBPACK_IMPORTED_MODULE_0__adapter__[\"a\"]; }});\n\t\n\t\n\t\n\tvar adapters = /* harmony namespace import */ __WEBPACK_IMPORTED_MODULE_1__adapters__;\n\t/* harmony export */ Object.defineProperty(exports, \"adapters\", {configurable: false, enumerable: true, get: function() { return adapters; }});\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_cryptr__ = __webpack_require__(32);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_cryptr___default = __WEBPACK_IMPORTED_MODULE_0_cryptr__ && __WEBPACK_IMPORTED_MODULE_0_cryptr__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_0_cryptr__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_0_cryptr__; }\n\t/* harmony import */ Object.defineProperty(__WEBPACK_IMPORTED_MODULE_0_cryptr___default, 'a', { get: __WEBPACK_IMPORTED_MODULE_0_cryptr___default });\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lowdb__ = __webpack_require__(36);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lowdb___default = __WEBPACK_IMPORTED_MODULE_1_lowdb__ && __WEBPACK_IMPORTED_MODULE_1_lowdb__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_1_lowdb__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_1_lowdb__; }\n\t/* harmony import */ Object.defineProperty(__WEBPACK_IMPORTED_MODULE_1_lowdb___default, 'a', { get: __WEBPACK_IMPORTED_MODULE_1_lowdb___default });\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_fs_extra__ = __webpack_require__(35);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_fs_extra___default = __WEBPACK_IMPORTED_MODULE_2_fs_extra__ && __WEBPACK_IMPORTED_MODULE_2_fs_extra__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_2_fs_extra__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_2_fs_extra__; }\n\t/* harmony import */ Object.defineProperty(__WEBPACK_IMPORTED_MODULE_2_fs_extra___default, 'a', { get: __WEBPACK_IMPORTED_MODULE_2_fs_extra___default });\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_underscore_db__ = __webpack_require__(39);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_underscore_db___default = __WEBPACK_IMPORTED_MODULE_3_underscore_db__ && __WEBPACK_IMPORTED_MODULE_3_underscore_db__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_3_underscore_db__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_3_underscore_db__; }\n\t/* harmony import */ Object.defineProperty(__WEBPACK_IMPORTED_MODULE_3_underscore_db___default, 'a', { get: __WEBPACK_IMPORTED_MODULE_3_underscore_db___default });\n\tfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { return step(\"next\", value); }, function (err) { return step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\t\n\t\n\t\n\t\n\t\n\t\n\tvar deserialize = function deserialize(cryptr) {\n\t  return function (str) {\n\t    if (!str) {\n\t      return {};\n\t    }\n\t    var decrypted = cryptr.decrypt(str);\n\t    var obj = JSON.parse(decrypted);\n\t    return obj;\n\t  };\n\t};/* unused harmony export deserialize */\n\t\n\tvar serialize = function serialize(cryptr) {\n\t  return function (obj) {\n\t    var str = JSON.stringify(obj);\n\t    var encrypted = cryptr.encrypt(str);\n\t    return encrypted;\n\t  };\n\t};/* unused harmony export serialize */\n\t\n\tvar read = function read(readFile) {\n\t  return function (path, deserialize) {\n\t    return new Promise(function (resolve, reject) {\n\t      readFile(path).then(function (data) {\n\t        try {\n\t          resolve(deserialize(data));\n\t        } catch (e) {\n\t          reject(e);\n\t        }\n\t      });\n\t    });\n\t  };\n\t};/* unused harmony export read */\n\t\n\tvar write = function write(writeFile) {\n\t  return function (path, obj, serialize) {\n\t    return new Promise(function (resolve, reject) {\n\t      try {\n\t        var data = serialize(obj);\n\t        writeFile(path, data).then(resolve, reject);\n\t      } catch (e) {\n\t        reject(e);\n\t      }\n\t    });\n\t  };\n\t};/* unused harmony export write */\n\t\n\tvar readLocal = function readLocal(path) {\n\t  return new Promise(function (resolve, reject) {\n\t    /* harmony import */__WEBPACK_IMPORTED_MODULE_2_fs_extra___default.a.ensureFile(path, function (err) {\n\t      if (err) {\n\t        return reject(err);\n\t      }\n\t      /* harmony import */__WEBPACK_IMPORTED_MODULE_2_fs_extra___default.a.readFile(path, 'utf8', function (err, data) {\n\t        if (err) {\n\t          return reject(err);\n\t        }\n\t        return resolve(data);\n\t      });\n\t    });\n\t  });\n\t};/* unused harmony export readLocal */\n\t\n\tvar writeLocal = function writeLocal(path, data) {\n\t  return new Promise(function (resolve, reject) {\n\t    /* harmony import */__WEBPACK_IMPORTED_MODULE_2_fs_extra___default.a.ensureFile(path, function (err) {\n\t      if (err) {\n\t        return reject(err);\n\t      }\n\t      /* harmony import */__WEBPACK_IMPORTED_MODULE_2_fs_extra___default.a.writeFile(path, data, 'utf8', function (err) {\n\t        if (err) {\n\t          return reject(err);\n\t        }\n\t        return resolve(data);\n\t      });\n\t    });\n\t  });\n\t};/* unused harmony export writeLocal */\n\t\n\tvar DB = function () {\n\t  var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(_ref) {\n\t    var path = _ref.path;\n\t    var key = _ref.key;\n\t    var _ref$readFile = _ref.readFile;\n\t    var readFile = _ref$readFile === undefined ? readLocal : _ref$readFile;\n\t    var _ref$writeFile = _ref.writeFile;\n\t    var writeFile = _ref$writeFile === undefined ? writeLocal : _ref$writeFile;\n\t    var cryptr, dbPath, db;\n\t    return regeneratorRuntime.wrap(function _callee$(_context) {\n\t      while (1) {\n\t        switch (_context.prev = _context.next) {\n\t          case 0:\n\t            cryptr = new /* harmony import */__WEBPACK_IMPORTED_MODULE_0_cryptr___default.a(key || name);\n\t            dbPath = path || './data/' + name + '.json';\n\t            _context.next = 4;\n\t            return new /* harmony import */__WEBPACK_IMPORTED_MODULE_1_lowdb___default.a(dbPath, {\n\t              storage: {\n\t                read: read(readFile),\n\t                write: write(writeFile)\n\t              },\n\t              format: {\n\t                deserialize: deserialize(cryptr),\n\t                serialize: serialize(cryptr)\n\t              }\n\t            });\n\t\n\t          case 4:\n\t            db = _context.sent;\n\t\n\t\n\t            db._.mixin(/* harmony import */__WEBPACK_IMPORTED_MODULE_3_underscore_db___default.a);\n\t            return _context.abrupt('return', db);\n\t\n\t          case 7:\n\t          case 'end':\n\t            return _context.stop();\n\t        }\n\t      }\n\t    }, _callee, this);\n\t  }));\n\t\n\t  return function DB(_x) {\n\t    return ref.apply(this, arguments);\n\t  };\n\t}();\n\t/* harmony export */ Object.defineProperty(exports, \"a\", {configurable: false, enumerable: true, get: function() { return DB; }});\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__message__ = __webpack_require__(4);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__presence__ = __webpack_require__(6);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__text__ = __webpack_require__(5);\n\t/* harmony reexport */ if(Object.prototype.hasOwnProperty.call(__WEBPACK_IMPORTED_MODULE_0__message__, \"a\")) Object.defineProperty(exports, \"Message\", {configurable: false, enumerable: true, get: function() { return __WEBPACK_IMPORTED_MODULE_0__message__[\"a\"]; }});\n\t/* harmony reexport */ if(Object.prototype.hasOwnProperty.call(__WEBPACK_IMPORTED_MODULE_1__presence__, \"a\")) Object.defineProperty(exports, \"PresenceMessage\", {configurable: false, enumerable: true, get: function() { return __WEBPACK_IMPORTED_MODULE_1__presence__[\"a\"]; }});\n\t/* harmony reexport */ if(Object.prototype.hasOwnProperty.call(__WEBPACK_IMPORTED_MODULE_2__text__, \"a\")) Object.defineProperty(exports, \"TextMessage\", {configurable: false, enumerable: true, get: function() { return __WEBPACK_IMPORTED_MODULE_2__text__[\"a\"]; }});\n\t\n\t\n\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__plugin__ = __webpack_require__(3);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__chat__ = __webpack_require__(0);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__event__ = __webpack_require__(23);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__http__ = __webpack_require__(24);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__plugins__ = __webpack_require__(29);\n\t/* harmony reexport */ if(Object.prototype.hasOwnProperty.call(__WEBPACK_IMPORTED_MODULE_0__plugin__, \"a\")) Object.defineProperty(exports, \"Plugin\", {configurable: false, enumerable: true, get: function() { return __WEBPACK_IMPORTED_MODULE_0__plugin__[\"a\"]; }});\n\t/* harmony reexport */ if(Object.prototype.hasOwnProperty.call(__WEBPACK_IMPORTED_MODULE_1__chat__, \"a\")) Object.defineProperty(exports, \"ChatPlugin\", {configurable: false, enumerable: true, get: function() { return __WEBPACK_IMPORTED_MODULE_1__chat__[\"a\"]; }});\n\t/* harmony reexport */ if(Object.prototype.hasOwnProperty.call(__WEBPACK_IMPORTED_MODULE_2__event__, \"a\")) Object.defineProperty(exports, \"EventPlugin\", {configurable: false, enumerable: true, get: function() { return __WEBPACK_IMPORTED_MODULE_2__event__[\"a\"]; }});\n\t/* harmony reexport */ if(Object.prototype.hasOwnProperty.call(__WEBPACK_IMPORTED_MODULE_3__http__, \"a\")) Object.defineProperty(exports, \"HTTPPlugin\", {configurable: false, enumerable: true, get: function() { return __WEBPACK_IMPORTED_MODULE_3__http__[\"a\"]; }});\n\t\n\t\n\t\n\t\n\t\n\t\n\tvar plugins = /* harmony namespace import */ __WEBPACK_IMPORTED_MODULE_4__plugins__;\n\t/* harmony export */ Object.defineProperty(exports, \"plugins\", {configurable: false, enumerable: true, get: function() { return plugins; }});\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*!\n\t * Log.js\n\t * Copyright(c) 2010 TJ Holowaychuk <tj@vision-media.ca>\n\t * MIT Licensed\n\t */\n\t\n\t/**\n\t * Module dependencies.\n\t */\n\t\n\tvar fmt = __webpack_require__(40).format;\n\tvar EventEmitter = __webpack_require__(34).EventEmitter;\n\t\n\t/**\n\t * Initialize a `Loggeer` with the given log `level` defaulting\n\t * to __DEBUG__ and `stream` defaulting to _stdout_.\n\t *\n\t * @param {Number} level\n\t * @param {Object} stream\n\t * @api public\n\t */\n\t\n\tvar Log = exports = module.exports = function Log(level, stream){\n\t  if ('string' == typeof level) level = exports[level.toUpperCase()];\n\t  this.level = level || exports.DEBUG;\n\t  this.stream = stream || process.stdout;\n\t  if (this.stream.readable) this.read();\n\t};\n\t\n\t/**\n\t * System is unusable.\n\t *\n\t * @type Number\n\t */\n\t\n\texports.EMERGENCY = 0;\n\t\n\t/**\n\t * Action must be taken immediately.\n\t *\n\t * @type Number\n\t */\n\t\n\texports.ALERT = 1;\n\t\n\t/**\n\t * Critical condition.\n\t *\n\t * @type Number\n\t */\n\t\n\texports.CRITICAL = 2;\n\t\n\t/**\n\t * Error condition.\n\t *\n\t * @type Number\n\t */\n\t\n\texports.ERROR = 3;\n\t\n\t/**\n\t * Warning condition.\n\t *\n\t * @type Number\n\t */\n\t\n\texports.WARNING = 4;\n\t\n\t/**\n\t * Normal but significant condition.\n\t *\n\t * @type Number\n\t */\n\t\n\texports.NOTICE = 5;\n\t\n\t/**\n\t * Purely informational message.\n\t *\n\t * @type Number\n\t */\n\t\n\texports.INFO = 6;\n\t\n\t/**\n\t * Application debug messages.\n\t *\n\t * @type Number\n\t */\n\t\n\texports.DEBUG = 7;\n\t\n\t/**\n\t * prototype.\n\t */\n\t\n\tLog.prototype = {\n\t\n\t  /**\n\t   * Start emitting \"line\" events.\n\t   *\n\t   * @api public\n\t   */\n\t\n\t  read: function(){\n\t    var buf = ''\n\t      , self = this\n\t      , stream = this.stream;\n\t\n\t    stream.setEncoding('utf8');\n\t    stream.on('data', function(chunk){\n\t      buf += chunk;\n\t      if ('\\n' != buf[buf.length - 1]) return;\n\t      buf.split('\\n').map(function(line){\n\t        if (!line.length) return;\n\t        try {\n\t          var captures = line.match(/^\\[([^\\]]+)\\] (\\w+) (.*)/);\n\t          var obj = {\n\t              date: new Date(captures[1])\n\t            , level: exports[captures[2]]\n\t            , levelString: captures[2]\n\t            , msg: captures[3]\n\t          };\n\t          self.emit('line', obj);\n\t        } catch (err) {\n\t          // Ignore\n\t        }\n\t      });\n\t      buf = '';\n\t    });\n\t\n\t    stream.on('end', function(){\n\t      self.emit('end');\n\t    });\n\t  },\n\t\n\t  /**\n\t   * Log output message.\n\t   *\n\t   * @param  {String} levelStr\n\t   * @param  {Array} args\n\t   * @api private\n\t   */\n\t\n\t  log: function(levelStr, args) {\n\t    if (exports[levelStr] <= this.level) {\n\t      var msg = fmt.apply(null, args);\n\t      this.stream.write(\n\t          '[' + new Date + ']'\n\t        + ' ' + levelStr\n\t        + ' ' + msg\n\t        + '\\n'\n\t      );\n\t    }\n\t  },\n\t\n\t  /**\n\t   * Log emergency `msg`.\n\t   *\n\t   * @param  {String} msg\n\t   * @api public\n\t   */\n\t\n\t  emergency: function(msg){\n\t    this.log('EMERGENCY', arguments);\n\t  },\n\t\n\t  /**\n\t   * Log alert `msg`.\n\t   *\n\t   * @param  {String} msg\n\t   * @api public\n\t   */\n\t\n\t  alert: function(msg){\n\t    this.log('ALERT', arguments);\n\t  },\n\t\n\t  /**\n\t   * Log critical `msg`.\n\t   *\n\t   * @param  {String} msg\n\t   * @api public\n\t   */\n\t\n\t  critical: function(msg){\n\t    this.log('CRITICAL', arguments);\n\t  },\n\t\n\t  /**\n\t   * Log error `msg`.\n\t   *\n\t   * @param  {String} msg\n\t   * @api public\n\t   */\n\t\n\t  error: function(msg){\n\t    this.log('ERROR', arguments);\n\t  },\n\t\n\t  /**\n\t   * Log warning `msg`.\n\t   *\n\t   * @param  {String} msg\n\t   * @api public\n\t   */\n\t\n\t  warning: function(msg){\n\t    this.log('WARNING', arguments);\n\t  },\n\t\n\t  /**\n\t   * Log notice `msg`.\n\t   *\n\t   * @param  {String} msg\n\t   * @api public\n\t   */\n\t\n\t  notice: function(msg){\n\t    this.log('NOTICE', arguments);\n\t  },\n\t\n\t  /**\n\t   * Log info `msg`.\n\t   *\n\t   * @param  {String} msg\n\t   * @api public\n\t   */\n\t\n\t  info: function(msg){\n\t    this.log('INFO', arguments);\n\t  },\n\t\n\t  /**\n\t   * Log debug `msg`.\n\t   *\n\t   * @param  {String} msg\n\t   * @api public\n\t   */\n\t\n\t  debug: function(msg){\n\t    this.log('DEBUG', arguments);\n\t  }\n\t};\n\t\n\t/**\n\t * Inherit from `EventEmitter`.\n\t */\n\t\n\tLog.prototype.__proto__ = EventEmitter.prototype;\n\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"babel-polyfill\");\n\n/***/ },\n/* 14 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"eventemitter3\");\n\n/***/ },\n/* 15 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"superagent\");\n\n/***/ },\n/* 16 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"superagent-promise-plugin\");\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_discord_io__ = __webpack_require__(33);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_discord_io___default = __WEBPACK_IMPORTED_MODULE_0_discord_io__ && __WEBPACK_IMPORTED_MODULE_0_discord_io__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_0_discord_io__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_0_discord_io__; }\n\t/* harmony import */ Object.defineProperty(__WEBPACK_IMPORTED_MODULE_0_discord_io___default, 'a', { get: __WEBPACK_IMPORTED_MODULE_0_discord_io___default });\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__adapter__ = __webpack_require__(2);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__user__ = __webpack_require__(1);\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t\n\t\n\t\n\t\n\t\n\tvar EVENTS = {\n\t  ready: 'discordReady',\n\t  message: 'discordMessage',\n\t  presence: 'discordPresence',\n\t  disconnected: 'discordDisconnected'\n\t};/* unused harmony export EVENTS */\n\t\n\tvar DiscordAdapter = function (_Adapter) {\n\t  _inherits(DiscordAdapter, _Adapter);\n\t\n\t  function DiscordAdapter(_ref) {\n\t    var token = _ref.token;\n\t    var botId = _ref.botId;\n\t    var username = _ref.username;\n\t\n\t    _classCallCheck(this, DiscordAdapter);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(DiscordAdapter).apply(this, arguments));\n\t\n\t    _this.channels = {};\n\t\n\t    _this.discordReady = function () {\n\t      _this.status = /* harmony import */__WEBPACK_IMPORTED_MODULE_1__adapter__[\"a\"].STATUS.CONNECTED;\n\t\n\t      _this.bot.emitter.emit('connected', _this.id);\n\t      _this.bot.log.notice('Connected to Discord.');\n\t\n\t      _this.client.setPresence({\n\t        game: 'Exobotting'\n\t      });\n\t    };\n\t\n\t    _this.discordDisconnected = function () {\n\t      _this.status = /* harmony import */__WEBPACK_IMPORTED_MODULE_1__adapter__[\"a\"].STATUS.DISCONNECTED;\n\t      _this.bot.log.critical('Disconnected from Discord.');\n\t    };\n\t\n\t    _this.botId = botId;\n\t    _this.username = username;\n\t    _this.token = token;\n\t    return _this;\n\t  }\n\t\n\t  _createClass(DiscordAdapter, [{\n\t    key: 'register',\n\t    value: function register(bot) {\n\t      var _this2 = this;\n\t\n\t      _get(Object.getPrototypeOf(DiscordAdapter.prototype), 'register', this).apply(this, arguments);\n\t\n\t      var token = this.token;\n\t      var botId = this.botId;\n\t      var username = this.username;\n\t\n\t\n\t      if (!token || !botId || !username) {\n\t        this.status = /* harmony import */__WEBPACK_IMPORTED_MODULE_1__adapter__[\"a\"].STATUS.ERROR;\n\t        bot.log.error('token, botId, and username are required to connect to discord.');\n\t        return;\n\t      }\n\t\n\t      this.client = new /* harmony import */__WEBPACK_IMPORTED_MODULE_0_discord_io___default.a.Client({\n\t        token: token,\n\t        autorun: true\n\t      });\n\t\n\t      Object.keys(EVENTS).forEach(function (discordEvent) {\n\t        var mappedFn = _this2[EVENTS[discordEvent]];\n\t        _this2.client.on(discordEvent, function () {\n\t          return mappedFn.apply(undefined, arguments);\n\t        });\n\t        _this2.client.on(discordEvent, function () {\n\t          var _bot$emitter;\n\t\n\t          for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t            args[_key] = arguments[_key];\n\t          }\n\t\n\t          (_bot$emitter = _this2.bot.emitter).emit.apply(_bot$emitter, ['discord-' + discordEvent].concat(args));\n\t        });\n\t      });\n\t    }\n\t  }, {\n\t    key: 'send',\n\t    value: function send(message) {\n\t      this.bot.log.debug('Sending ' + message.text + ' to ' + message.channel);\n\t\n\t      this.client.sendMessage({\n\t        to: message.channel,\n\t        message: message.text\n\t      });\n\t    }\n\t  }, {\n\t    key: 'discordMessage',\n\t    value: function discordMessage(username, userId, channel, text /*, rawEvent*/) {\n\t      if (username === this.username) {\n\t        return;\n\t      }\n\t\n\t      var user = new /* harmony import */__WEBPACK_IMPORTED_MODULE_2__user__[\"a\"](username, userId);\n\t\n\t      // if it's a whisper, the channel is in directMessages\n\t      if (this.client.directMessages[channel]) {\n\t        return _get(Object.getPrototypeOf(DiscordAdapter.prototype), 'receiveWhisper', this).call(this, { user: user, text: text, channel: channel });\n\t      }\n\t\n\t      this.receive({ user: user, text: text, channel: channel });\n\t    }\n\t  }, {\n\t    key: 'discordPresence',\n\t    value: function discordPresence(username, userId, status, gameName, rawEvent) {\n\t      if (userId !== this.botId) {\n\t        var user = new /* harmony import */__WEBPACK_IMPORTED_MODULE_2__user__[\"a\"](username, userId);\n\t\n\t        if (status === 'online') {\n\t          return _get(Object.getPrototypeOf(DiscordAdapter.prototype), 'enter', this).call(this, { user: user, channel: rawEvent.d.channel_id });\n\t        } else if (status === 'offline') {\n\t          return _get(Object.getPrototypeOf(DiscordAdapter.prototype), 'leave', this).call(this, { user: user, channel: rawEvent.d.channel_id });\n\t        }\n\t      }\n\t    }\n\t  }]);\n\t\n\t  return DiscordAdapter;\n\t}(/* harmony import */__WEBPACK_IMPORTED_MODULE_1__adapter__[\"a\"]);\n\t\n\t/* harmony default export */ exports[\"a\"] = DiscordAdapter;\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__shell__ = __webpack_require__(19);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__discord__ = __webpack_require__(17);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__twitch__ = __webpack_require__(21);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__slack__ = __webpack_require__(20);\n\t/* harmony reexport */ if(Object.prototype.hasOwnProperty.call(__WEBPACK_IMPORTED_MODULE_0__shell__, \"a\")) Object.defineProperty(exports, \"Shell\", {configurable: false, enumerable: true, get: function() { return __WEBPACK_IMPORTED_MODULE_0__shell__[\"a\"]; }});\n\t/* harmony reexport */ if(Object.prototype.hasOwnProperty.call(__WEBPACK_IMPORTED_MODULE_1__discord__, \"a\")) Object.defineProperty(exports, \"Discord\", {configurable: false, enumerable: true, get: function() { return __WEBPACK_IMPORTED_MODULE_1__discord__[\"a\"]; }});\n\t/* harmony reexport */ if(Object.prototype.hasOwnProperty.call(__WEBPACK_IMPORTED_MODULE_2__twitch__, \"a\")) Object.defineProperty(exports, \"Twitch\", {configurable: false, enumerable: true, get: function() { return __WEBPACK_IMPORTED_MODULE_2__twitch__[\"a\"]; }});\n\t/* harmony reexport */ if(Object.prototype.hasOwnProperty.call(__WEBPACK_IMPORTED_MODULE_3__slack__, \"a\")) Object.defineProperty(exports, \"Slack\", {configurable: false, enumerable: true, get: function() { return __WEBPACK_IMPORTED_MODULE_3__slack__[\"a\"]; }});\n\t\n\t\n\t\n\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_readline__ = __webpack_require__(37);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_readline___default = __WEBPACK_IMPORTED_MODULE_0_readline__ && __WEBPACK_IMPORTED_MODULE_0_readline__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_0_readline__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_0_readline__; }\n\t/* harmony import */ Object.defineProperty(__WEBPACK_IMPORTED_MODULE_0_readline___default, 'a', { get: __WEBPACK_IMPORTED_MODULE_0_readline___default });\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__adapter__ = __webpack_require__(2);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__user__ = __webpack_require__(1);\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t\n\t\n\t\n\t\n\t\n\tvar SHELL = 'SHELL';\n\tvar SHELL_USER = new /* harmony import */__WEBPACK_IMPORTED_MODULE_2__user__[\"a\"]('shell');\n\t\n\tvar ShellAdapter = function (_Adapter) {\n\t  _inherits(ShellAdapter, _Adapter);\n\t\n\t  function ShellAdapter() {\n\t    _classCallCheck(this, ShellAdapter);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(ShellAdapter).call(this));\n\t\n\t    _this.rl = /* harmony import */__WEBPACK_IMPORTED_MODULE_0_readline___default.a.createInterface({\n\t      input: process.stdin,\n\t      output: process.stdout\n\t    });\n\t    return _this;\n\t  }\n\t\n\t  _createClass(ShellAdapter, [{\n\t    key: 'prompt',\n\t    value: function prompt() {\n\t      var _this2 = this;\n\t\n\t      this.rl.question('Chat: ', function (answer) {\n\t        _get(Object.getPrototypeOf(ShellAdapter.prototype), 'receive', _this2).call(_this2, {\n\t          text: answer,\n\t          channel: SHELL,\n\t          user: SHELL_USER\n\t        });\n\t\n\t        _this2.prompt();\n\t      });\n\t    }\n\t  }, {\n\t    key: 'register',\n\t    value: function register(bot) {\n\t      _get(Object.getPrototypeOf(ShellAdapter.prototype), 'register', this).call(this, bot);\n\t      this.prompt();\n\t      this.status = /* harmony import */__WEBPACK_IMPORTED_MODULE_1__adapter__[\"a\"].STATUS.CONNECTED;\n\t    }\n\t  }]);\n\t\n\t  return ShellAdapter;\n\t}(/* harmony import */__WEBPACK_IMPORTED_MODULE_1__adapter__[\"a\"]);\n\t\n\t/* harmony default export */ exports[\"a\"] = ShellAdapter;\n\n/***/ },\n/* 20 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__slack_client__ = __webpack_require__(31);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__slack_client___default = __WEBPACK_IMPORTED_MODULE_0__slack_client__ && __WEBPACK_IMPORTED_MODULE_0__slack_client__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_0__slack_client__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_0__slack_client__; }\n\t/* harmony import */ Object.defineProperty(__WEBPACK_IMPORTED_MODULE_0__slack_client___default, 'a', { get: __WEBPACK_IMPORTED_MODULE_0__slack_client___default });\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__adapter__ = __webpack_require__(2);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__user__ = __webpack_require__(1);\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _EVENTS;\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\t\n\t\n\t\n\t\n\t\n\tvar EVENTS = (_EVENTS = {}, _defineProperty(_EVENTS, /* harmony import */__WEBPACK_IMPORTED_MODULE_0__slack_client__[\"CLIENT_EVENTS\"].RTM.CONNECTING, 'slackConnecting'), _defineProperty(_EVENTS, /* harmony import */__WEBPACK_IMPORTED_MODULE_0__slack_client__[\"CLIENT_EVENTS\"].RTM.RTM_CONNECTION_OPENED, 'slackConnected'), _defineProperty(_EVENTS, /* harmony import */__WEBPACK_IMPORTED_MODULE_0__slack_client__[\"CLIENT_EVENTS\"].RTM.AUTHENTICATED, 'slackAuthenticated'), _defineProperty(_EVENTS, /* harmony import */__WEBPACK_IMPORTED_MODULE_0__slack_client__[\"CLIENT_EVENTS\"].RTM.DISCONNECT, 'slackDisconnected'), _defineProperty(_EVENTS, /* harmony import */__WEBPACK_IMPORTED_MODULE_0__slack_client__[\"CLIENT_EVENTS\"].RTM.UNABLE_TO_RTM_START, 'slackUnableToStart'), _defineProperty(_EVENTS, /* harmony import */__WEBPACK_IMPORTED_MODULE_0__slack_client__[\"CLIENT_EVENTS\"].RTM.ATTEMPTING_RECONNECT, 'slackReconnecting'), _defineProperty(_EVENTS, /* harmony import */__WEBPACK_IMPORTED_MODULE_0__slack_client__[\"RTM_EVENTS\"].MESSAGE, 'slackMessage'), _EVENTS);/* unused harmony export EVENTS */\n\t\n\tvar Slack = function (_Adapter) {\n\t  _inherits(Slack, _Adapter);\n\t\n\t  function Slack(_ref) {\n\t    var token = _ref.token;\n\t\n\t    _classCallCheck(this, Slack);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Slack).apply(this, arguments));\n\t\n\t    _this.slackConnecting = function () {\n\t      _this.bot.log.info('Connecting to Slack.');\n\t      _this.status = /* harmony import */__WEBPACK_IMPORTED_MODULE_1__adapter__[\"a\"].STATUS.CONNECTING;\n\t    };\n\t\n\t    _this.slackConnected = function () {\n\t      _this.bot.log.info('Connected to Slack.');\n\t    };\n\t\n\t    _this.slackAuthenticated = function () {\n\t      _this.bot.log.notice('Successfully authenticated to Slack.');\n\t      _this.status = /* harmony import */__WEBPACK_IMPORTED_MODULE_1__adapter__[\"a\"].STATUS.CONNECTED;\n\t    };\n\t\n\t    _this.slackDisconnected = function () {\n\t      _this.bot.log.critical('Disconnected from Slack.');\n\t      _this.status = /* harmony import */__WEBPACK_IMPORTED_MODULE_1__adapter__[\"a\"].STATUS.DISCONNECTED;\n\t    };\n\t\n\t    _this.slackUnableToStart = function () {\n\t      _this.bot.log.critical('Unable to start Slack.');\n\t      _this.status = /* harmony import */__WEBPACK_IMPORTED_MODULE_1__adapter__[\"a\"].STATUS.DISCONNECTED;\n\t    };\n\t\n\t    _this.slackReconnecting = function () {\n\t      _this.bot.log.notice('Reconnecting to Slack.');\n\t      _this.status = /* harmony import */__WEBPACK_IMPORTED_MODULE_1__adapter__[\"a\"].STATUS.RECONNECTING;\n\t    };\n\t\n\t    _this.slackMessage = function (message) {\n\t      var botId = _this.client.activeUserId;\n\t      if (message.user === botId) {\n\t        return;\n\t      }\n\t\n\t      var slackUser = _this.client.dataStore.getUserById(message.user);\n\t      var user = void 0;\n\t\n\t      if (slackUser) {\n\t        user = new /* harmony import */__WEBPACK_IMPORTED_MODULE_2__user__[\"a\"](slackUser.name, slackUser.id);\n\t      } else {\n\t        user = new /* harmony import */__WEBPACK_IMPORTED_MODULE_2__user__[\"a\"](message.user);\n\t      }\n\t\n\t      _this.receive({ user: user, text: message.text, channel: message.channel });\n\t    };\n\t\n\t    _this.token = token;\n\t    return _this;\n\t  }\n\t\n\t  _createClass(Slack, [{\n\t    key: 'register',\n\t    value: function register(bot) {\n\t      var _this2 = this;\n\t\n\t      _get(Object.getPrototypeOf(Slack.prototype), 'register', this).apply(this, arguments);\n\t      var token = this.token;\n\t\n\t\n\t      this.client = new /* harmony import */__WEBPACK_IMPORTED_MODULE_0__slack_client__[\"RtmClient\"](token, { logLevel: bot.logLevel });\n\t\n\t      Object.keys(EVENTS).forEach(function (slackEvent) {\n\t        var mappedFn = _this2[EVENTS[slackEvent]];\n\t        _this2.client.on(slackEvent, function () {\n\t          return mappedFn.apply(undefined, arguments);\n\t        });\n\t        _this2.client.on(slackEvent, function () {\n\t          var _bot$emitter;\n\t\n\t          for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t            args[_key] = arguments[_key];\n\t          }\n\t\n\t          (_bot$emitter = bot.emitter).emit.apply(_bot$emitter, ['slack-' + slackEvent].concat(args));\n\t        });\n\t      });\n\t\n\t      this.client.start();\n\t    }\n\t  }, {\n\t    key: 'send',\n\t    value: function send(message) {\n\t      this.bot.log.debug('Sending ' + message.text + ' to ' + message.channel);\n\t      this.client.sendMessage(message.text, message.channel);\n\t    }\n\t  }]);\n\t\n\t  return Slack;\n\t}(/* harmony import */__WEBPACK_IMPORTED_MODULE_1__adapter__[\"a\"]);\n\t\n\t/* harmony default export */ exports[\"a\"] = Slack;\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tmi_js__ = __webpack_require__(38);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tmi_js___default = __WEBPACK_IMPORTED_MODULE_0_tmi_js__ && __WEBPACK_IMPORTED_MODULE_0_tmi_js__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_0_tmi_js__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_0_tmi_js__; }\n\t/* harmony import */ Object.defineProperty(__WEBPACK_IMPORTED_MODULE_0_tmi_js___default, 'a', { get: __WEBPACK_IMPORTED_MODULE_0_tmi_js___default });\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__adapter__ = __webpack_require__(2);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__user__ = __webpack_require__(1);\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t\n\t\n\t\n\t\n\t\n\tvar EVENTS = {\n\t  connecting: 'twitchConnecting',\n\t  connected: 'twitchConnected',\n\t  logon: 'twitchLogon',\n\t  disconnected: 'twitchDisconnected',\n\t  reconnect: 'twitchReconnect',\n\t  chat: 'twitchChat',\n\t  emoteonly: 'twitchEmoteonly',\n\t  join: 'twitchJoin',\n\t  part: 'twitchPart',\n\t  mods: 'twitchMods',\n\t  notice: 'twitchNotice',\n\t  ping: 'twitchPing',\n\t  pong: 'twitchPong',\n\t  roomstate: 'twitchRoomstate',\n\t  slowmode: 'twitchSlowmode',\n\t  subscribers: 'twitchSubscribers',\n\t  subscription: 'twitchSubscription',\n\t  timeout: 'twitchTimeout',\n\t  whisper: 'twitchWhisper'\n\t};/* unused harmony export EVENTS */\n\t\n\tvar TwitchAdapter = function (_Adapter) {\n\t  _inherits(TwitchAdapter, _Adapter);\n\t\n\t  function TwitchAdapter(_ref) {\n\t    var username = _ref.username;\n\t    var oauthPassword = _ref.oauthPassword;\n\t    var _ref$channels = _ref.channels;\n\t    var channels = _ref$channels === undefined ? [] : _ref$channels;\n\t\n\t    _classCallCheck(this, TwitchAdapter);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(TwitchAdapter).apply(this, arguments));\n\t\n\t    _initialiseProps.call(_this);\n\t\n\t    _this.username = username;\n\t    _this.oauthPassword = oauthPassword;\n\t    _this.channels = channels;\n\t    return _this;\n\t  }\n\t\n\t  _createClass(TwitchAdapter, [{\n\t    key: 'register',\n\t    value: function register(bot) {\n\t      var _this2 = this;\n\t\n\t      _get(Object.getPrototypeOf(TwitchAdapter.prototype), 'register', this).apply(this, arguments);\n\t\n\t      var username = this.username;\n\t      var oauthPassword = this.oauthPassword;\n\t      var channels = this.channels;\n\t\n\t\n\t      if (!username || !oauthPassword) {\n\t        bot.log.error('username and oauthPassword are required to connect to Twitch.');\n\t        return;\n\t      }\n\t\n\t      if (!channels.length) {\n\t        bot.log.critical('No channels passed to Twitch adapter to connect to.');\n\t      }\n\t\n\t      this.client = new /* harmony import */__WEBPACK_IMPORTED_MODULE_0_tmi_js___default.a.client({\n\t        channels: channels,\n\t        identity: {\n\t          username: username,\n\t          password: oauthPassword\n\t        },\n\t        options: {\n\t          debug: true\n\t        },\n\t        secure: true,\n\t        reconnect: true,\n\t        logger: {\n\t          info: bot.log.info.bind(bot.log),\n\t          warn: bot.log.warning.bind(bot.log),\n\t          error: bot.log.error.bind(bot.log)\n\t        },\n\t        connection: {\n\t          cluster: 'aws'\n\t        }\n\t      });\n\t\n\t      this.client.connect();\n\t\n\t      Object.keys(EVENTS).forEach(function (twitchEvent) {\n\t        var mappedFn = _this2[EVENTS[twitchEvent]];\n\t        _this2.client.on(twitchEvent, function () {\n\t          return mappedFn.apply(undefined, arguments);\n\t        });\n\t        _this2.client.on(twitchEvent, function () {\n\t          var _bot$emitter;\n\t\n\t          for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t            args[_key] = arguments[_key];\n\t          }\n\t\n\t          (_bot$emitter = _this2.bot.emitter).emit.apply(_bot$emitter, ['twitch-' + twitchEvent].concat(args));\n\t        });\n\t      });\n\t    }\n\t  }, {\n\t    key: 'send',\n\t    value: function send(message) {\n\t      this.bot.log.debug('Sending ' + message.text + ' to ' + message.channel);\n\t\n\t      if (message.whisper) {\n\t        return this.client.whisper(message.user.name, message.text);\n\t      }\n\t\n\t      this.client.say(message.channel, message.text);\n\t    }\n\t  }]);\n\t\n\t  return TwitchAdapter;\n\t}(/* harmony import */__WEBPACK_IMPORTED_MODULE_1__adapter__[\"a\"]);\n\t\n\tvar _initialiseProps = function _initialiseProps() {\n\t  var _this3 = this;\n\t\n\t  this.twitchConnecting = function () {\n\t    _this3.status = /* harmony import */__WEBPACK_IMPORTED_MODULE_1__adapter__[\"a\"].STATUS.CONNECTING;\n\t  };\n\t\n\t  this.twitchConnected = function () {\n\t    _this3.status = /* harmony import */__WEBPACK_IMPORTED_MODULE_1__adapter__[\"a\"].STATUS.CONNECTED;\n\t    _this3.bot.emitter.emit('connected', _this3.id);\n\t    _this3.bot.log.notice('Connected to Twitch.');\n\t  };\n\t\n\t  this.twitchLogon = function () {\n\t    _this3.status = /* harmony import */__WEBPACK_IMPORTED_MODULE_1__adapter__[\"a\"].STATUS.CONNECTED;\n\t    _this3.bot.log.notice('Successfully logged on to Twitch.');\n\t  };\n\t\n\t  this.twitchDisconnected = function () {\n\t    _this3.status = /* harmony import */__WEBPACK_IMPORTED_MODULE_1__adapter__[\"a\"].STATUS.DISCONNECTED;\n\t    _this3.bot.log.warning('Disconnected from Twitch.');\n\t  };\n\t\n\t  this.twitchReconnect = function () {\n\t    _this3.status = /* harmony import */__WEBPACK_IMPORTED_MODULE_1__adapter__[\"a\"].STATUS.RECONNECTING;\n\t    _this3.bot.log.notice('Reconnecting to Twitch.');\n\t  };\n\t\n\t  this.twitchChat = function (channel, twitchUser, text) {\n\t    if (twitchUser.username === _this3.username) {\n\t      return;\n\t    }\n\t    var user = new /* harmony import */__WEBPACK_IMPORTED_MODULE_2__user__[\"a\"](twitchUser.username);\n\t    _this3.receive({ user: user, text: text, channel: channel });\n\t  };\n\t\n\t  this.twitchEmoteonly = function () {};\n\t\n\t  this.twitchJoin = function (channel, username) {\n\t    if (username !== _this3.username) {\n\t      return;\n\t    }\n\t    var user = new /* harmony import */__WEBPACK_IMPORTED_MODULE_2__user__[\"a\"](username);\n\t    return _this3.enter({ user: user, channel: channel });\n\t  };\n\t\n\t  this.twitchPart = function (channel, username) {\n\t    if (username !== _this3.username) {\n\t      return;\n\t    }\n\t    var user = new /* harmony import */__WEBPACK_IMPORTED_MODULE_2__user__[\"a\"](username);\n\t    return _this3.leave({ user: user, channel: channel });\n\t  };\n\t\n\t  this.twitchPing = function () {\n\t    _this3.ping();\n\t  };\n\t\n\t  this.twitchWhisper = function (twitchUser, text) {\n\t    if (twitchUser.username === _this3.username) {\n\t      return;\n\t    }\n\t    var user = new /* harmony import */__WEBPACK_IMPORTED_MODULE_2__user__[\"a\"](twitchUser.username);\n\t    _this3.receiveWhisper({ user: user, text: text, channel: twitchUser.username });\n\t  };\n\t\n\t  this.twitchPong = function () {};\n\t\n\t  this.twitchRoomstate = function () {};\n\t\n\t  this.twitchSlowmode = function () {};\n\t\n\t  this.twitchSubscribers = function () {};\n\t\n\t  this.twitchSubscription = function () {};\n\t\n\t  this.twitchTimeout = function () {};\n\t\n\t  this.twitchMods = function () {};\n\t\n\t  this.twitchNotice = function () {};\n\t};\n\t\n\t/* harmony default export */ exports[\"a\"] = TwitchAdapter;\n\n/***/ },\n/* 22 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_polyfill__ = __webpack_require__(13);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_polyfill___default = __WEBPACK_IMPORTED_MODULE_0_babel_polyfill__ && __WEBPACK_IMPORTED_MODULE_0_babel_polyfill__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_0_babel_polyfill__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_0_babel_polyfill__; }\n\t/* harmony import */ Object.defineProperty(__WEBPACK_IMPORTED_MODULE_0_babel_polyfill___default, 'a', { get: __WEBPACK_IMPORTED_MODULE_0_babel_polyfill___default });\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_eventemitter3__ = __webpack_require__(14);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_eventemitter3___default = __WEBPACK_IMPORTED_MODULE_1_eventemitter3__ && __WEBPACK_IMPORTED_MODULE_1_eventemitter3__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_1_eventemitter3__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_1_eventemitter3__; }\n\t/* harmony import */ Object.defineProperty(__WEBPACK_IMPORTED_MODULE_1_eventemitter3___default, 'a', { get: __WEBPACK_IMPORTED_MODULE_1_eventemitter3___default });\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_log__ = __webpack_require__(12);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_log___default = __WEBPACK_IMPORTED_MODULE_2_log__ && __WEBPACK_IMPORTED_MODULE_2_log__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_2_log__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_2_log__; }\n\t/* harmony import */ Object.defineProperty(__WEBPACK_IMPORTED_MODULE_2_log___default, 'a', { get: __WEBPACK_IMPORTED_MODULE_2_log___default });\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_superagent__ = __webpack_require__(15);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_superagent___default = __WEBPACK_IMPORTED_MODULE_3_superagent__ && __WEBPACK_IMPORTED_MODULE_3_superagent__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_3_superagent__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_3_superagent__; }\n\t/* harmony import */ Object.defineProperty(__WEBPACK_IMPORTED_MODULE_3_superagent___default, 'a', { get: __WEBPACK_IMPORTED_MODULE_3_superagent___default });\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_superagent_promise_plugin__ = __webpack_require__(16);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_superagent_promise_plugin___default = __WEBPACK_IMPORTED_MODULE_4_superagent_promise_plugin__ && __WEBPACK_IMPORTED_MODULE_4_superagent_promise_plugin__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_4_superagent_promise_plugin__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_4_superagent_promise_plugin__; }\n\t/* harmony import */ Object.defineProperty(__WEBPACK_IMPORTED_MODULE_4_superagent_promise_plugin___default, 'a', { get: __WEBPACK_IMPORTED_MODULE_4_superagent_promise_plugin___default });\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__db__ = __webpack_require__(9);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__adapters__ = __webpack_require__(8);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__messages__ = __webpack_require__(10);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__plugins__ = __webpack_require__(11);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__user__ = __webpack_require__(1);\n\t/* harmony namespace reexport */ for(var __WEBPACK_IMPORT_KEY__ in __WEBPACK_IMPORTED_MODULE_6__adapters__) if([\"Exobot\",\"User\",\"default\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { Object.defineProperty(exports, key, {configurable: false, enumerable: true, get: function() { return __WEBPACK_IMPORTED_MODULE_6__adapters__[key]; }}) }(__WEBPACK_IMPORT_KEY__));\n\t/* harmony namespace reexport */ for(var __WEBPACK_IMPORT_KEY__ in __WEBPACK_IMPORTED_MODULE_7__messages__) if([\"Exobot\",\"User\",\"default\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { Object.defineProperty(exports, key, {configurable: false, enumerable: true, get: function() { return __WEBPACK_IMPORTED_MODULE_7__messages__[key]; }}) }(__WEBPACK_IMPORT_KEY__));\n\t/* harmony namespace reexport */ for(var __WEBPACK_IMPORT_KEY__ in __WEBPACK_IMPORTED_MODULE_8__plugins__) if([\"Exobot\",\"User\",\"default\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { Object.defineProperty(exports, key, {configurable: false, enumerable: true, get: function() { return __WEBPACK_IMPORTED_MODULE_8__plugins__[key]; }}) }(__WEBPACK_IMPORT_KEY__));\n\t/* harmony reexport */ if(Object.prototype.hasOwnProperty.call(__WEBPACK_IMPORTED_MODULE_9__user__, \"a\")) Object.defineProperty(exports, \"User\", {configurable: false, enumerable: true, get: function() { return __WEBPACK_IMPORTED_MODULE_9__user__[\"a\"]; }});\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t/* harmony import */__WEBPACK_IMPORTED_MODULE_4_superagent_promise_plugin___default.a.Promise = Promise;\n\t\n\tvar http = /* harmony import */__WEBPACK_IMPORTED_MODULE_4_superagent_promise_plugin___default.a.patch(/* harmony import */__WEBPACK_IMPORTED_MODULE_3_superagent___default.a);\n\t\n\t\n\t\n\tvar Exobot = function () {\n\t  function Exobot(name) {\n\t    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\t\n\t    _classCallCheck(this, Exobot);\n\t\n\t    _initialiseProps.call(this);\n\t\n\t    this.name = name;\n\t    this.alias = options.alias;\n\t    this.emitter = new /* harmony import */__WEBPACK_IMPORTED_MODULE_1_eventemitter3___default.a();\n\t    this.http = http;\n\t\n\t    this.initLog(options.logLevel || /* harmony import */__WEBPACK_IMPORTED_MODULE_2_log___default.a.WARNING);\n\t    this.initAdapters(options.adapters);\n\t    this.initPlugins(options.plugins);\n\t\n\t    var dbPath = options.dbPath || './data/' + name + '.json';\n\t    this.initDB(options.key, dbPath, options.readFile, options.writeFile);\n\t  }\n\t\n\t  _createClass(Exobot, [{\n\t    key: 'addPlugin',\n\t    value: function addPlugin(plugin) {\n\t      plugin.register(this);\n\t      this.plugins.push(plugin);\n\t    }\n\t  }, {\n\t    key: 'addAdapter',\n\t    value: function addAdapter(adapter) {\n\t      adapter.register(this);\n\t      this.adapters[adapter.id] = adapter;\n\t    }\n\t  }, {\n\t    key: 'prependNameForWhisper',\n\t    value: function prependNameForWhisper(text) {\n\t      if (text.slice(0, this.name.length).toLowerCase() !== this.name.toLowerCase() && text.slice(0, this.alias.length).toLowerCase() !== this.alias.toLowerCase()) {\n\t        text = this.name + ' ' + text;\n\t      }\n\t\n\t      return text;\n\t    }\n\t  }]);\n\t\n\t  return Exobot;\n\t}();\n\t/* harmony export */ Object.defineProperty(exports, \"Exobot\", {configurable: false, enumerable: true, get: function() { return Exobot; }});\n\t\n\tvar _initialiseProps = function _initialiseProps() {\n\t  var _this = this;\n\t\n\t  this.plugins = [];\n\t  this.adapters = {};\n\t\n\t  this.initAdapters = function () {\n\t    var adapters = arguments.length <= 0 || arguments[0] === undefined ? [] : arguments[0];\n\t\n\t    adapters.forEach(function (a) {\n\t      return _this.addAdapter(a);\n\t    });\n\t  };\n\t\n\t  this.initPlugins = function () {\n\t    var plugins = arguments.length <= 0 || arguments[0] === undefined ? [] : arguments[0];\n\t\n\t    plugins.forEach(function (p) {\n\t      return _this.addPlugin(p);\n\t    });\n\t  };\n\t\n\t  this.initLog = function (logLevel) {\n\t    var log = new /* harmony import */__WEBPACK_IMPORTED_MODULE_2_log___default.a(logLevel || /* harmony import */__WEBPACK_IMPORTED_MODULE_2_log___default.a.WARNING);\n\t    _this.log = log;\n\t    _this.logLevel = logLevel;\n\t\n\t    if (logLevel === /* harmony import */__WEBPACK_IMPORTED_MODULE_2_log___default.a.DEBUG) {\n\t      setInterval(_this.logProcess, 10000);\n\t    }\n\t  };\n\t\n\t  this.initDB = function (key, dbPath, readFile, writeFile) {\n\t    if (!key) {\n\t      _this.log.critical('Pass options.key in to bot initializer. Database not initializing.');\n\t      return;\n\t    }\n\t\n\t    /* harmony import */__WEBPACK_IMPORTED_MODULE_5__db__[\"a\"].bind()({\n\t      key: key,\n\t      readFile: readFile,\n\t      writeFile: writeFile,\n\t      path: dbPath,\n\t      emitter: _this.emitter\n\t    }).then(function (db) {\n\t      _this.db = db;\n\t      _this.emitter.emit('dbLoaded', db);\n\t    }, _this.log.critical);\n\t  };\n\t\n\t  this.logProcess = function () {\n\t    _this.log.debug(process.memoryUsage(), process.cpuUsage());\n\t  };\n\t};\n\t\n\t\n\t\n\t\n\n\n/***/ },\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__plugin__ = __webpack_require__(3);\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t\n\t\n\tvar EventPlugin = function (_Plugin) {\n\t  _inherits(EventPlugin, _Plugin);\n\t\n\t  function EventPlugin() {\n\t    _classCallCheck(this, EventPlugin);\n\t\n\t    return _possibleConstructorReturn(this, Object.getPrototypeOf(EventPlugin).apply(this, arguments));\n\t  }\n\t\n\t  return EventPlugin;\n\t}(/* harmony import */__WEBPACK_IMPORTED_MODULE_0__plugin__[\"a\"]);\n\t\n\t/* harmony default export */ exports[\"a\"] = EventPlugin;\n\n/***/ },\n/* 24 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__plugin__ = __webpack_require__(3);\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t\n\t\n\tvar HTTPPlugin = function (_Plugin) {\n\t  _inherits(HTTPPlugin, _Plugin);\n\t\n\t  function HTTPPlugin() {\n\t    _classCallCheck(this, HTTPPlugin);\n\t\n\t    return _possibleConstructorReturn(this, Object.getPrototypeOf(HTTPPlugin).apply(this, arguments));\n\t  }\n\t\n\t  return HTTPPlugin;\n\t}(/* harmony import */__WEBPACK_IMPORTED_MODULE_0__plugin__[\"a\"]);\n\t\n\t/* harmony default export */ exports[\"a\"] = HTTPPlugin;\n\n/***/ },\n/* 25 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__chat__ = __webpack_require__(0);\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { return step(\"next\", value); }, function (err) { return step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t\n\t\n\tvar DBPlugin = function (_ChatPlugin) {\n\t  _inherits(DBPlugin, _ChatPlugin);\n\t\n\t  function DBPlugin() {\n\t    _classCallCheck(this, DBPlugin);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(DBPlugin).apply(this, arguments));\n\t\n\t    _this.help = 'dbdump: dump the database. Say \"<botname> dbdump\".';\n\t\n\t    _this.respond(/^db dump/i, _this.dump);\n\t    _this.respond(/^db clear/i, _this.clear);\n\t    return _this;\n\t  }\n\t\n\t  _createClass(DBPlugin, [{\n\t    key: 'dump',\n\t    value: function () {\n\t      var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n\t        return regeneratorRuntime.wrap(function _callee$(_context) {\n\t          while (1) {\n\t            switch (_context.prev = _context.next) {\n\t              case 0:\n\t                _context.next = 2;\n\t                return this.databaseInitialized();\n\t\n\t              case 2:\n\t                return _context.abrupt('return', this.bot.db.getState());\n\t\n\t              case 3:\n\t              case 'end':\n\t                return _context.stop();\n\t            }\n\t          }\n\t        }, _callee, this);\n\t      }));\n\t\n\t      function dump() {\n\t        return ref.apply(this, arguments);\n\t      }\n\t\n\t      return dump;\n\t    }()\n\t  }, {\n\t    key: 'clear',\n\t    value: function () {\n\t      var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n\t        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n\t          while (1) {\n\t            switch (_context2.prev = _context2.next) {\n\t              case 0:\n\t                _context2.next = 2;\n\t                return this.databaseInitialized();\n\t\n\t              case 2:\n\t\n\t                this.bot.log.critical('Database clearing. You may need to restart your bot.');\n\t                this.bot.db.setState();\n\t\n\t                // reinitialize plugins so that those with default databases can re-set-up\n\t                this.bot.initializePlugins();\n\t\n\t              case 5:\n\t              case 'end':\n\t                return _context2.stop();\n\t            }\n\t          }\n\t        }, _callee2, this);\n\t      }));\n\t\n\t      function clear() {\n\t        return ref.apply(this, arguments);\n\t      }\n\t\n\t      return clear;\n\t    }()\n\t  }]);\n\t\n\t  return DBPlugin;\n\t}(/* harmony import */__WEBPACK_IMPORTED_MODULE_0__chat__[\"a\"]);\n\t\n\t/* harmony default export */ exports[\"a\"] = DBPlugin;\n\n/***/ },\n/* 26 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__chat__ = __webpack_require__(0);\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { return step(\"next\", value); }, function (err) { return step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t\n\t\n\tvar ENDPOINT = 'http://api.giphy.com/v1/gifs/search';/* unused harmony export ENDPOINT */\n\t\n\tvar GiphyPlugin = function (_ChatPlugin) {\n\t  _inherits(GiphyPlugin, _ChatPlugin);\n\t\n\t  function GiphyPlugin() {\n\t    var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\t\n\t    _classCallCheck(this, GiphyPlugin);\n\t\n\t    var apiKey = options.apiKey;\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(GiphyPlugin).apply(this, arguments));\n\t\n\t    _this.help = 'Help: Explains commands. Say \"<botname> help\" for information.';\n\t\n\t    _this.respond(/^(?:gif|giphy)(?:\\sme)?\\s+(.*)/i, _this.giphy);\n\t\n\t    _this.apiKey = apiKey;\n\t    return _this;\n\t  }\n\t\n\t  _createClass(GiphyPlugin, [{\n\t    key: 'register',\n\t    value: function register(bot) {\n\t      _get(Object.getPrototypeOf(GiphyPlugin.prototype), 'register', this).apply(this, arguments);\n\t\n\t      if (!this.apiKey) {\n\t        bot.log.critical('No apiKey passed to Giphy plugin; plugin will not work.');\n\t      }\n\t    }\n\t  }, {\n\t    key: 'giphy',\n\t    value: function () {\n\t      var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(_ref) {\n\t        var _ref2 = _slicedToArray(_ref, 2);\n\t\n\t        var search = _ref2[1];\n\t\n\t        var _ref3, body, data;\n\t\n\t        return regeneratorRuntime.wrap(function _callee$(_context) {\n\t          while (1) {\n\t            switch (_context.prev = _context.next) {\n\t              case 0:\n\t                _context.prev = 0;\n\t                _context.next = 3;\n\t                return this.bot.http.get(ENDPOINT).query({ q: search, api_key: this.apiKey });\n\t\n\t              case 3:\n\t                _ref3 = _context.sent;\n\t                body = _ref3.body;\n\t                data = body.data;\n\t\n\t                if (!data.length) {\n\t                  _context.next = 8;\n\t                  break;\n\t                }\n\t\n\t                return _context.abrupt('return', data[parseInt(Math.random() * data.length)].images.original.url);\n\t\n\t              case 8:\n\t                _context.next = 14;\n\t                break;\n\t\n\t              case 10:\n\t                _context.prev = 10;\n\t                _context.t0 = _context['catch'](0);\n\t\n\t                this.bot.log.notice('Error returned from Giphy request.');\n\t                this.bot.log.debug(_context.t0);\n\t\n\t              case 14:\n\t              case 'end':\n\t                return _context.stop();\n\t            }\n\t          }\n\t        }, _callee, this, [[0, 10]]);\n\t      }));\n\t\n\t      function giphy(_x2) {\n\t        return ref.apply(this, arguments);\n\t      }\n\t\n\t      return giphy;\n\t    }()\n\t  }]);\n\t\n\t  return GiphyPlugin;\n\t}(/* harmony import */__WEBPACK_IMPORTED_MODULE_0__chat__[\"a\"]);\n\t\n\t/* harmony default export */ exports[\"a\"] = GiphyPlugin;\n\n/***/ },\n/* 27 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__chat__ = __webpack_require__(0);\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t\n\t\n\tvar GREETINGS = ['hi', 'hello', 'sup', 'greetings', 'yo', 'hey'];\n\t\n\tvar FAREWELLS = ['goodbye', 'farwell', 'bye', 'later', 'see ya', 'cya'];\n\t\n\tvar regex = function regex(botname, list) {\n\t  return new RegExp('^(' + list.join('|') + ')[,\\\\s]*' + botname, 'i');\n\t};\n\t\n\tvar GreetingPlugin = function (_ChatPlugin) {\n\t  _inherits(GreetingPlugin, _ChatPlugin);\n\t\n\t  function GreetingPlugin() {\n\t    var _Object$getPrototypeO;\n\t\n\t    var _temp, _this, _ret;\n\t\n\t    _classCallCheck(this, GreetingPlugin);\n\t\n\t    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t      args[_key] = arguments[_key];\n\t    }\n\t\n\t    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_Object$getPrototypeO = Object.getPrototypeOf(GreetingPlugin)).call.apply(_Object$getPrototypeO, [this].concat(args))), _this), _this.help = 'Greetings: says \"hi\" back. Say \"hi <botname>\" for a response.', _temp), _possibleConstructorReturn(_this, _ret);\n\t  }\n\t\n\t  _createClass(GreetingPlugin, [{\n\t    key: 'register',\n\t    value: function register(bot) {\n\t      _get(Object.getPrototypeOf(GreetingPlugin.prototype), 'register', this).apply(this, arguments);\n\t\n\t      this.listen(regex(bot.name, GREETINGS), this.greeting);\n\t      this.listen(function (m) {\n\t        return GREETINGS.includes(m.text.toLowerCase());\n\t      }, this.greeting);\n\t      this.respond(function (m) {\n\t        return GREETINGS.includes(m.text.toLowerCase());\n\t      }, this.greeting);\n\t\n\t      this.listen(regex(bot.name, FAREWELLS), this.farewell);\n\t      this.listen(function (m) {\n\t        return FAREWELLS.includes(m.text.toLowerCase());\n\t      }, this.farewell);\n\t      this.respond(function (m) {\n\t        return FAREWELLS.includes(m.text.toLowerCase());\n\t      }, this.farewell);\n\t    }\n\t  }, {\n\t    key: 'greeting',\n\t    value: function greeting(_, message) {\n\t      var randomGreeting = GREETINGS[parseInt(Math.random() * GREETINGS.length)];\n\t      return randomGreeting + ', ' + message.user.name + '!';\n\t    }\n\t  }, {\n\t    key: 'farewell',\n\t    value: function farewell(_, message) {\n\t      var randomFarewell = FAREWELLS[parseInt(Math.random() * FAREWELLS.length)];\n\t      return randomFarewell + ', ' + message.user.name + '!';\n\t    }\n\t  }]);\n\t\n\t  return GreetingPlugin;\n\t}(/* harmony import */__WEBPACK_IMPORTED_MODULE_0__chat__[\"a\"]);\n\t\n\t/* harmony default export */ exports[\"a\"] = GreetingPlugin;\n\n/***/ },\n/* 28 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__chat__ = __webpack_require__(0);\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t\n\t\n\tvar HelpPlugin = function (_ChatPlugin) {\n\t  _inherits(HelpPlugin, _ChatPlugin);\n\t\n\t  function HelpPlugin() {\n\t    _classCallCheck(this, HelpPlugin);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(HelpPlugin).apply(this, arguments));\n\t\n\t    _this.help = 'Help: Explains commands. Say \"<botname> help\" for information.';\n\t\n\t    _this.pluginHelp = function () {\n\t      return _this.bot.plugins.filter(function (p) {\n\t        return p.help;\n\t      }).map(function (p) {\n\t        return p.help;\n\t      }, []).join('\\n');\n\t    };\n\t\n\t    _this.respond(/^help$/i, _this.pluginHelp);\n\t    return _this;\n\t  }\n\t\n\t  return HelpPlugin;\n\t}(/* harmony import */__WEBPACK_IMPORTED_MODULE_0__chat__[\"a\"]);\n\t\n\t/* harmony default export */ exports[\"a\"] = HelpPlugin;\n\n/***/ },\n/* 29 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__greetings__ = __webpack_require__(27);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__help__ = __webpack_require__(28);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__points__ = __webpack_require__(30);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__db__ = __webpack_require__(25);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__giphy__ = __webpack_require__(26);\n\t/* harmony reexport */ if(Object.prototype.hasOwnProperty.call(__WEBPACK_IMPORTED_MODULE_0__greetings__, \"a\")) Object.defineProperty(exports, \"Greetings\", {configurable: false, enumerable: true, get: function() { return __WEBPACK_IMPORTED_MODULE_0__greetings__[\"a\"]; }});\n\t/* harmony reexport */ if(Object.prototype.hasOwnProperty.call(__WEBPACK_IMPORTED_MODULE_1__help__, \"a\")) Object.defineProperty(exports, \"Help\", {configurable: false, enumerable: true, get: function() { return __WEBPACK_IMPORTED_MODULE_1__help__[\"a\"]; }});\n\t/* harmony reexport */ if(Object.prototype.hasOwnProperty.call(__WEBPACK_IMPORTED_MODULE_2__points__, \"a\")) Object.defineProperty(exports, \"Points\", {configurable: false, enumerable: true, get: function() { return __WEBPACK_IMPORTED_MODULE_2__points__[\"a\"]; }});\n\t/* harmony reexport */ if(Object.prototype.hasOwnProperty.call(__WEBPACK_IMPORTED_MODULE_3__db__, \"a\")) Object.defineProperty(exports, \"DBDump\", {configurable: false, enumerable: true, get: function() { return __WEBPACK_IMPORTED_MODULE_3__db__[\"a\"]; }});\n\t/* harmony reexport */ if(Object.prototype.hasOwnProperty.call(__WEBPACK_IMPORTED_MODULE_4__giphy__, \"a\")) Object.defineProperty(exports, \"Giphy\", {configurable: false, enumerable: true, get: function() { return __WEBPACK_IMPORTED_MODULE_4__giphy__[\"a\"]; }});\n\t\n\t\n\t\n\t\n\n\n/***/ },\n/* 30 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__chat__ = __webpack_require__(0);\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { return step(\"next\", value); }, function (err) { return step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t\n\t\n\tvar nameToId = function nameToId(name) {\n\t  return name.replace(/[^\\w]/g, '');\n\t};/* unused harmony export nameToId */\n\t\n\tvar HelpPlugin = function (_ChatPlugin) {\n\t  _inherits(HelpPlugin, _ChatPlugin);\n\t\n\t  function HelpPlugin() {\n\t    _classCallCheck(this, HelpPlugin);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(HelpPlugin).apply(this, arguments));\n\t\n\t    _this.help = ['Points: add points to things. `thing++` or `thing--` adds or removes', 'points. Users are rate-limited from voting on the same thing multiple', 'times. Optionally add reasons: `thing++ for my reasons`.'].join(' ');\n\t\n\t\n\t    _this.listen(/^([\\s\\w'@.\\-:]*)\\s*\\+\\+(?:\\s+for (.*))?$/i, function (match) {\n\t      return _this.changePoints(match, 1);\n\t    });\n\t    _this.listen(/^([\\s\\w'@.\\-:]*)\\s*\\-\\-(?:\\s+for (.*))?$/i, function (match) {\n\t      return _this.changePoints(match, -1);\n\t    });\n\t    _this.respond(/^tops?\\s*(\\d*)?$/i, _this.tops);\n\t    _this.respond(/^score(?: for)?(.*)$/i, _this.score);\n\t    return _this;\n\t  }\n\t\n\t  _createClass(HelpPlugin, [{\n\t    key: 'register',\n\t    value: function register(bot) {\n\t      _get(Object.getPrototypeOf(HelpPlugin.prototype), 'register', this).call(this, bot);\n\t      this.database('points', { things: {}, tops: [] });\n\t    }\n\t  }, {\n\t    key: 'changePoints',\n\t    value: function () {\n\t      var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(_ref, val) {\n\t        var _ref2 = _slicedToArray(_ref, 3);\n\t\n\t        var match = _ref2[0];\n\t        var name = _ref2[1];\n\t        var reason = _ref2[2];\n\t        var id, points, reasonId, existingReason;\n\t        return regeneratorRuntime.wrap(function _callee$(_context) {\n\t          while (1) {\n\t            switch (_context.prev = _context.next) {\n\t              case 0:\n\t                name = name.trim();\n\t                id = nameToId(name);\n\t                _context.next = 4;\n\t                return this.databaseInitialized();\n\t\n\t              case 4:\n\t                points = this.bot.db.get('points.things.' + id).value();\n\t\n\t\n\t                if (!points) {\n\t                  points = this.buildPoints(name, id);\n\t                }\n\t\n\t                points.points = points.points + val;\n\t\n\t                if (reason) {\n\t                  reasonId = nameToId(reason);\n\t                  existingReason = points.reasons[reasonId] || { score: 0, reason: reason };\n\t\n\t                  existingReason.score++;\n\t\n\t                  points.reasons[reasonId] = existingReason;\n\t                }\n\t\n\t                this.bot.db.set('points.things.' + id, points).value();\n\t                this.bot.db.write();\n\t\n\t                this.updateTops();\n\t\n\t                return _context.abrupt('return', name + ' has ' + points.points + ' points.');\n\t\n\t              case 12:\n\t              case 'end':\n\t                return _context.stop();\n\t            }\n\t          }\n\t        }, _callee, this);\n\t      }));\n\t\n\t      function changePoints(_x, _x2) {\n\t        return ref.apply(this, arguments);\n\t      }\n\t\n\t      return changePoints;\n\t    }()\n\t  }, {\n\t    key: 'tops',\n\t    value: function () {\n\t      var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(_ref3) {\n\t        var _ref4 = _slicedToArray(_ref3, 2);\n\t\n\t        var match = _ref4[0];\n\t        var _ref4$ = _ref4[1];\n\t        var n = _ref4$ === undefined ? 10 : _ref4$;\n\t        var scores, tops, text;\n\t        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n\t          while (1) {\n\t            switch (_context2.prev = _context2.next) {\n\t              case 0:\n\t                _context2.next = 2;\n\t                return this.databaseInitialized();\n\t\n\t              case 2:\n\t\n\t                if (n > 25) {\n\t                  n = 25;\n\t                }\n\t\n\t                scores = this.bot.db.get('points.things').value();\n\t                tops = this.bot.db.get('points.tops').slice(0, n).value();\n\t                text = ['Top ' + Math.min(n, tops.length) + ':'];\n\t\n\t\n\t                tops.forEach(function (t) {\n\t                  return text.push(scores[t].name + ': ' + scores[t].points);\n\t                });\n\t\n\t                return _context2.abrupt('return', text.join('\\n'));\n\t\n\t              case 8:\n\t              case 'end':\n\t                return _context2.stop();\n\t            }\n\t          }\n\t        }, _callee2, this);\n\t      }));\n\t\n\t      function tops(_x3) {\n\t        return ref.apply(this, arguments);\n\t      }\n\t\n\t      return tops;\n\t    }()\n\t  }, {\n\t    key: 'score',\n\t    value: function () {\n\t      var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee3(_ref5) {\n\t        var _ref6 = _slicedToArray(_ref5, 2);\n\t\n\t        var match = _ref6[0];\n\t        var name = _ref6[1];\n\t        var id, points, reasons, text, reasonKeys;\n\t        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n\t          while (1) {\n\t            switch (_context3.prev = _context3.next) {\n\t              case 0:\n\t                name = name.trim();\n\t                id = nameToId(name);\n\t                _context3.next = 4;\n\t                return this.databaseInitialized();\n\t\n\t              case 4:\n\t                points = this.bot.db.get('points.things.' + id).value();\n\t                reasons = points.reasons;\n\t                text = [name + ' has ' + points.points + ' points.'];\n\t                reasonKeys = Object.keys(points.reasons);\n\t\n\t\n\t                if (reasonKeys.length > 0) {\n\t                  text.push('Here are some reasons:');\n\t\n\t                  reasonKeys.forEach(function (r) {\n\t                    text.push(reasons[r].reason + ': ' + reasons[r].score + ' points');\n\t                  });\n\t                }\n\t\n\t                return _context3.abrupt('return', text.join('\\n'));\n\t\n\t              case 10:\n\t              case 'end':\n\t                return _context3.stop();\n\t            }\n\t          }\n\t        }, _callee3, this);\n\t      }));\n\t\n\t      function score(_x4) {\n\t        return ref.apply(this, arguments);\n\t      }\n\t\n\t      return score;\n\t    }()\n\t  }, {\n\t    key: 'updateTops',\n\t    value: function () {\n\t      var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee4() {\n\t        var tops;\n\t        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n\t          while (1) {\n\t            switch (_context4.prev = _context4.next) {\n\t              case 0:\n\t                _context4.next = 2;\n\t                return this.databaseInitialized();\n\t\n\t              case 2:\n\t                tops = this.bot.db.get('points.things').orderBy('points', 'desc').map('id').value();\n\t\n\t\n\t                this.bot.db.set('points.tops', tops).value();\n\t                this.bot.db.write();\n\t\n\t              case 5:\n\t              case 'end':\n\t                return _context4.stop();\n\t            }\n\t          }\n\t        }, _callee4, this);\n\t      }));\n\t\n\t      function updateTops() {\n\t        return ref.apply(this, arguments);\n\t      }\n\t\n\t      return updateTops;\n\t    }()\n\t  }, {\n\t    key: 'buildPoints',\n\t    value: function buildPoints(name, id) {\n\t      return {\n\t        name: name,\n\t        id: id,\n\t        points: 0,\n\t        reasons: {}\n\t      };\n\t    }\n\t  }]);\n\t\n\t  return HelpPlugin;\n\t}(/* harmony import */__WEBPACK_IMPORTED_MODULE_0__chat__[\"a\"]);\n\t\n\t/* harmony default export */ exports[\"a\"] = HelpPlugin;\n\n/***/ },\n/* 31 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"@slack/client\");\n\n/***/ },\n/* 32 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"cryptr\");\n\n/***/ },\n/* 33 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"discord.io\");\n\n/***/ },\n/* 34 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"events\");\n\n/***/ },\n/* 35 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"fs-extra\");\n\n/***/ },\n/* 36 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"lowdb\");\n\n/***/ },\n/* 37 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"readline\");\n\n/***/ },\n/* 38 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"tmi.js\");\n\n/***/ },\n/* 39 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"underscore-db\");\n\n/***/ },\n/* 40 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"util\");\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** exobot.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 22);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 781fc622a54d04513170\n **/","import Plugin from './plugin';\nimport TextMessage from '../messages/text';\n\nconst DEFAULT_REGEXP = /.+/;\n\nexport default class ChatPlugin extends Plugin {\n  regexp = DEFAULT_REGEXP;\n\n  respondFunctions = [];\n  listenFunctions = [];\n\n  constructor () {\n    super();\n  }\n\n  register (bot) {\n    this.bot = bot;\n    this.botNameRegex = new RegExp(`^(?:(?:${bot.name}|${bot.alias})[,\\\\s:.-]*)(.+)`);\n\n    bot.emitter.on('receive-message', m => {\n      this.respondFunctions.forEach(v => this.process(v[0], v[1], m, true));\n      this.listenFunctions.forEach(v => this.process(v[0], v[1], m));\n    });\n  }\n\n  process (validation, response, message, isResponder=false) {\n    if (isResponder) {\n      const text = this.validateBotName(message);\n\n      if (text) {\n        message = new TextMessage({ ...message, text, direct: true });\n      } else {\n        return;\n      }\n    }\n\n    if (validation.exec) { validation = this.validate(validation); }\n\n    const res = validation(message);\n\n    if (res) {\n      const text = response(res, message);\n\n      if (text) {\n        if (text instanceof Promise) {\n          text.then(t => {\n            const newMessage = new TextMessage({ ...message, text: t });\n            this.bot.emitter.emit(`send-message:${message.adapter}`, newMessage);\n          });\n        } else {\n          const newMessage = new TextMessage({ ...message, text });\n          this.bot.emitter.emit(`send-message:${message.adapter}`, newMessage);\n        }\n      }\n    }\n  }\n\n  validate (regex) {\n    return message => regex.exec(message.text);\n  }\n\n  validateBotName (message) {\n    const exec = this.botNameRegex.exec(message.text);\n    if (!exec) { return; }\n\n    return exec[1];\n  }\n\n  respond (validation, fn) {\n    if (fn) { fn = fn.bind(this); }\n    this.respondFunctions.push([validation, fn]);\n  }\n\n  listen (validation, fn) {\n    if (fn) { fn = fn.bind(this); }\n    this.listenFunctions.push([validation, fn]);\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/plugins/chat.js\n **/","export default class User {\n  constructor (name, id=name) {\n    this.name = name;\n    this.id = id;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/user.js\n **/","import { v4 as uuid } from 'node-uuid';\n\nimport TextMessage from '../messages/text';\nimport PresenceMessage from '../messages/presence';\n\nexport default class Adapter {\n  static STATUS = {\n    UNINITIALIZED: 0,\n    CONNECTING: 1,\n    CONNECTED: 2,\n    DISCONNECTED: 3,\n    RECONNECTING: 4,\n    ERROR: 5,\n  }\n\n  constructor (options={}) {\n    this.options = options;\n    this.id = options.id || uuid();\n    this.status = Adapter.STATUS.UNINITIALIZED;\n  }\n\n  register (bot) {\n    if (!bot) { throw new Error('No bot passed to register; fatal.'); }\n\n    this.bot = bot;\n\n    this.status = Adapter.STATUS.CONNECTING;\n    this.listen();\n  }\n\n  listen () {\n    if (!this.bot) { throw new Error('No bot to listen on; fatal.'); }\n    this.bot.emitter.on(`send-message:${this.id}`, this.send.bind(this));\n  }\n\n  receive ({ user, text, channel, whisper }) {\n    const message = new TextMessage({ user, text, channel, whisper, adapter: this.id });\n    this.bot.emitter.emit('receive-message', message);\n  }\n\n  receiveWhisper ({ user, text, channel }) {\n    text = this.bot.prependNameForWhisper(text);\n    this.receive({ user, text, channel, whisper: true });\n  }\n\n  enter ({ user, channel }) {\n    const message = new PresenceMessage({\n      user,\n      channel,\n      adapter: this.id,\n      type: PresenceMessage.TYPES.ENTER,\n    });\n\n    this.bot.emitter.emit('enter', message);\n  }\n\n  leave ({ user, channel }) {\n    const message = new PresenceMessage({\n      user,\n      channel,\n      adapter: this.id,\n      type: PresenceMessage.TYPES.LEAVE,\n    });\n\n    this.bot.emitter.emit('leave', message);\n  }\n\n  send (message) {\n    console.log(message.text);\n  }\n\n  ping () {\n    this.pong();\n  }\n\n  pong () {\n    console.log('Ping received, this.pong() not implemented.');\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/adapters/adapter.js\n **/","export default class Plugin {\n  help = undefined;\n  _requiresDatabase = false;\n\n  constructor (options={}) {\n    this.options = options;\n  }\n\n  register (bot) {\n    if (!bot) { throw new Error('No bot passed to register; fatal.'); }\n\n    this.bot = bot;\n  }\n\n  listen () {\n    if (!this.bot) { throw new Error('No bot to listen on; fatal.'); }\n  }\n\n  async database (name, defaultValue) {\n    await this.databaseInitialized();\n    const val = this.bot.db.get(name).value();\n\n    if (typeof val === 'undefined') {\n      this.bot.db.set(name, defaultValue).value();\n    }\n  }\n\n  async databaseInitialized () {\n    this._requiresDatabase = true;\n\n    if (this._requiresDatabase && this.bot.db) {\n      return true;\n    }\n\n    return new Promise((resolve) => {\n      this.bot.emitter.on('dbLoaded', resolve);\n    });\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/plugins/plugin.js\n **/","import { v4 as uuid } from 'node-uuid';\n\nexport default class Message {\n  constructor ({ user, channel, adapter, id=uuid() }) {\n    this.user = user;\n    this.channel = channel;\n    this.adapter = adapter;\n    this.id = id;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/messages/message.js\n **/","import Message from './message';\n\nexport default class TextMessage extends Message {\n  constructor ({ text, whisper=false }) {\n    super(...arguments);\n    this.text = text;\n    this.whisper = whisper;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/messages/text.js\n **/","import Message from './message';\n\nexport default class PresenceMessage extends Message {\n  static TYPES = {\n    ENTER: 0,\n    LEAVE: 1,\n  }\n\n  constructor ({ type }) {\n    super(...arguments);\n    this.type = type;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/messages/presence.js\n **/","module.exports = require(\"node-uuid\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"node-uuid\"\n ** module id = 7\n ** module chunks = 0\n **/","export { default as Adapter } from './adapter';\n\nimport * as a from './adapters';\nexport const adapters = a;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/adapters/index.js\n **/","import Cryptr from 'cryptr';\nimport Low from 'lowdb';\nimport fs from 'fs-extra';\nimport underscoredb from 'underscore-db';\n\nexport const deserialize = cryptr => {\n  return str => {\n    if (!str) { return {}; }\n    const decrypted = cryptr.decrypt(str);\n    const obj = JSON.parse(decrypted);\n    return obj;\n  };\n};\n\nexport const serialize = cryptr => {\n  return obj => {\n    const str = JSON.stringify(obj);\n    const encrypted = cryptr.encrypt(str);\n    return encrypted;\n  };\n};\n\nexport const read = (readFile) => {\n  return (path, deserialize) => {\n    return new Promise((resolve, reject) => {\n      readFile(path).then(data => {\n        try {\n          resolve(deserialize(data));\n        } catch (e) {\n          reject(e);\n        }\n      });\n    });\n  };\n};\n\nexport const write = writeFile => {\n  return (path, obj, serialize) => {\n    return new Promise((resolve, reject) => {\n      try {\n        const data = serialize(obj);\n        writeFile(path, data).then(resolve, reject);\n      } catch (e) {\n        reject(e);\n      }\n    });\n  };\n};\n\nexport const readLocal = (path) => {\n  return new Promise((resolve, reject) => {\n    fs.ensureFile(path, (err) => {\n      if (err) { return reject(err); }\n      fs.readFile(path, 'utf8', (err, data) => {\n        if (err) { return reject(err); }\n        return resolve(data);\n      });\n    });\n  });\n};\n\nexport const writeLocal = (path, data) => {\n  return new Promise((resolve, reject) => {\n    fs.ensureFile(path, (err) => {\n      if (err) { return reject(err); }\n      fs.writeFile(path, data, 'utf8', (err) => {\n        if (err) { return reject(err); }\n        return resolve(data);\n      });\n    });\n  });\n};\n\nexport async function DB ({ path, key, readFile=readLocal, writeFile=writeLocal }) {\n  const cryptr = new Cryptr(key || name);\n  const dbPath = path || `./data/${name}.json`;\n\n  const db = await new Low(dbPath, {\n    storage: {\n      read: read(readFile),\n      write: write(writeFile),\n    },\n    format: {\n      deserialize: deserialize(cryptr),\n      serialize: serialize(cryptr),\n    },\n  });\n\n  db._.mixin(underscoredb);\n  return db;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/db.js\n **/","export { default as Plugin } from './plugin';\nexport { default as ChatPlugin } from './chat';\nexport { default as EventPlugin } from './event';\nexport { default as HTTPPlugin } from './http';\n\nimport * as p from './plugins';\nexport const plugins = p;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/plugins/index.js\n **/","/*!\n * Log.js\n * Copyright(c) 2010 TJ Holowaychuk <tj@vision-media.ca>\n * MIT Licensed\n */\n\n/**\n * Module dependencies.\n */\n\nvar fmt = require('util').format;\nvar EventEmitter = require('events').EventEmitter;\n\n/**\n * Initialize a `Loggeer` with the given log `level` defaulting\n * to __DEBUG__ and `stream` defaulting to _stdout_.\n *\n * @param {Number} level\n * @param {Object} stream\n * @api public\n */\n\nvar Log = exports = module.exports = function Log(level, stream){\n  if ('string' == typeof level) level = exports[level.toUpperCase()];\n  this.level = level || exports.DEBUG;\n  this.stream = stream || process.stdout;\n  if (this.stream.readable) this.read();\n};\n\n/**\n * System is unusable.\n *\n * @type Number\n */\n\nexports.EMERGENCY = 0;\n\n/**\n * Action must be taken immediately.\n *\n * @type Number\n */\n\nexports.ALERT = 1;\n\n/**\n * Critical condition.\n *\n * @type Number\n */\n\nexports.CRITICAL = 2;\n\n/**\n * Error condition.\n *\n * @type Number\n */\n\nexports.ERROR = 3;\n\n/**\n * Warning condition.\n *\n * @type Number\n */\n\nexports.WARNING = 4;\n\n/**\n * Normal but significant condition.\n *\n * @type Number\n */\n\nexports.NOTICE = 5;\n\n/**\n * Purely informational message.\n *\n * @type Number\n */\n\nexports.INFO = 6;\n\n/**\n * Application debug messages.\n *\n * @type Number\n */\n\nexports.DEBUG = 7;\n\n/**\n * prototype.\n */\n\nLog.prototype = {\n\n  /**\n   * Start emitting \"line\" events.\n   *\n   * @api public\n   */\n\n  read: function(){\n    var buf = ''\n      , self = this\n      , stream = this.stream;\n\n    stream.setEncoding('utf8');\n    stream.on('data', function(chunk){\n      buf += chunk;\n      if ('\\n' != buf[buf.length - 1]) return;\n      buf.split('\\n').map(function(line){\n        if (!line.length) return;\n        try {\n          var captures = line.match(/^\\[([^\\]]+)\\] (\\w+) (.*)/);\n          var obj = {\n              date: new Date(captures[1])\n            , level: exports[captures[2]]\n            , levelString: captures[2]\n            , msg: captures[3]\n          };\n          self.emit('line', obj);\n        } catch (err) {\n          // Ignore\n        }\n      });\n      buf = '';\n    });\n\n    stream.on('end', function(){\n      self.emit('end');\n    });\n  },\n\n  /**\n   * Log output message.\n   *\n   * @param  {String} levelStr\n   * @param  {Array} args\n   * @api private\n   */\n\n  log: function(levelStr, args) {\n    if (exports[levelStr] <= this.level) {\n      var msg = fmt.apply(null, args);\n      this.stream.write(\n          '[' + new Date + ']'\n        + ' ' + levelStr\n        + ' ' + msg\n        + '\\n'\n      );\n    }\n  },\n\n  /**\n   * Log emergency `msg`.\n   *\n   * @param  {String} msg\n   * @api public\n   */\n\n  emergency: function(msg){\n    this.log('EMERGENCY', arguments);\n  },\n\n  /**\n   * Log alert `msg`.\n   *\n   * @param  {String} msg\n   * @api public\n   */\n\n  alert: function(msg){\n    this.log('ALERT', arguments);\n  },\n\n  /**\n   * Log critical `msg`.\n   *\n   * @param  {String} msg\n   * @api public\n   */\n\n  critical: function(msg){\n    this.log('CRITICAL', arguments);\n  },\n\n  /**\n   * Log error `msg`.\n   *\n   * @param  {String} msg\n   * @api public\n   */\n\n  error: function(msg){\n    this.log('ERROR', arguments);\n  },\n\n  /**\n   * Log warning `msg`.\n   *\n   * @param  {String} msg\n   * @api public\n   */\n\n  warning: function(msg){\n    this.log('WARNING', arguments);\n  },\n\n  /**\n   * Log notice `msg`.\n   *\n   * @param  {String} msg\n   * @api public\n   */\n\n  notice: function(msg){\n    this.log('NOTICE', arguments);\n  },\n\n  /**\n   * Log info `msg`.\n   *\n   * @param  {String} msg\n   * @api public\n   */\n\n  info: function(msg){\n    this.log('INFO', arguments);\n  },\n\n  /**\n   * Log debug `msg`.\n   *\n   * @param  {String} msg\n   * @api public\n   */\n\n  debug: function(msg){\n    this.log('DEBUG', arguments);\n  }\n};\n\n/**\n * Inherit from `EventEmitter`.\n */\n\nLog.prototype.__proto__ = EventEmitter.prototype;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** /Users/jack/projects/~/log/lib/log.js\n ** module id = 12\n ** module chunks = 0\n **/","module.exports = require(\"babel-polyfill\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"babel-polyfill\"\n ** module id = 13\n ** module chunks = 0\n **/","module.exports = require(\"eventemitter3\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"eventemitter3\"\n ** module id = 14\n ** module chunks = 0\n **/","module.exports = require(\"superagent\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"superagent\"\n ** module id = 15\n ** module chunks = 0\n **/","module.exports = require(\"superagent-promise-plugin\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"superagent-promise-plugin\"\n ** module id = 16\n ** module chunks = 0\n **/","import Discord from 'discord.io';\n\nimport Adapter from '../adapter';\nimport User from '../../user';\n\nexport const EVENTS = {\n  ready: 'discordReady',\n  message: 'discordMessage',\n  presence: 'discordPresence',\n  disconnected: 'discordDisconnected',\n};\n\nexport default class DiscordAdapter extends Adapter {\n  channels = {}\n\n  constructor ({ token, botId, username }) {\n    super(...arguments);\n\n    this.botId = botId;\n    this.username = username;\n    this.token = token;\n  }\n\n  register (bot) {\n    super.register(...arguments);\n\n    const { token, botId, username } = this;\n\n    if (!token || !botId || !username) {\n      this.status = Adapter.STATUS.ERROR;\n      bot.log.error('token, botId, and username are required to connect to discord.');\n      return;\n    }\n\n    this.client = new Discord.Client({\n      token,\n      autorun: true,\n    });\n\n    Object.keys(EVENTS).forEach(discordEvent => {\n      const mappedFn = this[EVENTS[discordEvent]];\n      this.client.on(discordEvent, (...args) => mappedFn(...args));\n      this.client.on(discordEvent, (...args) => {\n        this.bot.emitter.emit(`discord-${discordEvent}`, ...args);\n      });\n    });\n  }\n\n  send (message) {\n    this.bot.log.debug(`Sending ${message.text} to ${message.channel}`);\n\n    this.client.sendMessage({\n      to: message.channel,\n      message: message.text,\n    });\n  }\n\n  discordReady = () => {\n    this.status = Adapter.STATUS.CONNECTED;\n\n    this.bot.emitter.emit('connected', this.id);\n    this.bot.log.notice('Connected to Discord.');\n\n    this.client.setPresence({\n      game: 'Exobotting',\n    });\n  }\n\n  discordDisconnected = () => {\n    this.status = Adapter.STATUS.DISCONNECTED;\n    this.bot.log.critical('Disconnected from Discord.');\n  }\n\n  discordMessage (username, userId, channel, text/*, rawEvent*/) {\n    if (username === this.username) { return; }\n\n    const user = new User(username, userId);\n\n    // if it's a whisper, the channel is in directMessages\n    if (this.client.directMessages[channel]) {\n      return super.receiveWhisper({ user, text, channel });\n    }\n\n    this.receive({ user, text, channel });\n  }\n\n  discordPresence (username, userId, status, gameName, rawEvent) {\n    if (userId !== this.botId) {\n      const user = new User(username, userId);\n\n      if (status === 'online') {\n        return super.enter({ user, channel: rawEvent.d.channel_id });\n      } else if (status === 'offline') {\n        return super.leave({ user, channel: rawEvent.d.channel_id });\n      }\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/adapters/adapters/discord.js\n **/","import readline from 'readline';\n\nimport Adapter from '../adapter';\nimport User from '../../user';\n\nconst SHELL = 'SHELL';\nconst SHELL_USER = new User('shell');\n\nexport default class ShellAdapter extends Adapter {\n  constructor () {\n    super();\n    this.rl = readline.createInterface({\n      input: process.stdin,\n      output: process.stdout,\n    });\n  }\n\n  prompt () {\n    this.rl.question('Chat: ', (answer) => {\n      super.receive({\n        text: answer,\n        channel: SHELL,\n        user: SHELL_USER,\n      });\n\n      this.prompt();\n    });\n  }\n\n  register (bot) {\n    super.register(bot);\n    this.prompt();\n    this.status = Adapter.STATUS.CONNECTED;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/adapters/adapters/shell.js\n **/","import {\n  RtmClient,\n  CLIENT_EVENTS,\n  RTM_EVENTS,\n  //MemoryDataStore,\n} from '@slack/client';\n\nimport Adapter from '../adapter';\nimport User from '../../user';\n\nexport const EVENTS = {\n  [CLIENT_EVENTS.RTM.CONNECTING]: 'slackConnecting',\n  [CLIENT_EVENTS.RTM.RTM_CONNECTION_OPENED]: 'slackConnected',\n  [CLIENT_EVENTS.RTM.AUTHENTICATED]: 'slackAuthenticated',\n  [CLIENT_EVENTS.RTM.DISCONNECT]: 'slackDisconnected',\n  [CLIENT_EVENTS.RTM.UNABLE_TO_RTM_START]: 'slackUnableToStart',\n  [CLIENT_EVENTS.RTM.ATTEMPTING_RECONNECT]: 'slackReconnecting',\n  [RTM_EVENTS.MESSAGE]: 'slackMessage',\n};\n\nexport default class Slack extends Adapter {\n  constructor ({ token }) {\n    super(...arguments);\n    this.token = token;\n  }\n\n  register (bot) {\n    super.register(...arguments);\n    const { token } = this;\n\n    this.client = new RtmClient(token, { logLevel: bot.logLevel });\n\n    Object.keys(EVENTS).forEach(slackEvent => {\n      const mappedFn = this[EVENTS[slackEvent]];\n      this.client.on(slackEvent, (...args) => mappedFn(...args));\n      this.client.on(slackEvent, (...args) => {\n        bot.emitter.emit(`slack-${slackEvent}`, ...args);\n      });\n    });\n\n    this.client.start();\n  }\n\n  send (message) {\n    this.bot.log.debug(`Sending ${message.text} to ${message.channel}`);\n    this.client.sendMessage(message.text, message.channel);\n  }\n\n  slackConnecting = () => {\n    this.bot.log.info('Connecting to Slack.');\n    this.status = Adapter.STATUS.CONNECTING;\n  }\n\n  slackConnected = () => {\n    this.bot.log.info('Connected to Slack.');\n  }\n\n  slackAuthenticated = () => {\n    this.bot.log.notice('Successfully authenticated to Slack.');\n    this.status = Adapter.STATUS.CONNECTED;\n  }\n\n  slackDisconnected = () => {\n    this.bot.log.critical('Disconnected from Slack.');\n    this.status = Adapter.STATUS.DISCONNECTED;\n  }\n\n  slackUnableToStart = () => {\n    this.bot.log.critical('Unable to start Slack.');\n    this.status = Adapter.STATUS.DISCONNECTED;\n  }\n\n  slackReconnecting = () => {\n    this.bot.log.notice('Reconnecting to Slack.');\n    this.status = Adapter.STATUS.RECONNECTING;\n  }\n\n  slackMessage = (message) => {\n    const botId = this.client.activeUserId;\n    if (message.user === botId) { return; }\n\n    const slackUser = this.client.dataStore.getUserById(message.user);\n    let user;\n\n    if (slackUser) {\n      user = new User(slackUser.name, slackUser.id);\n    } else {\n      user = new User(message.user);\n    }\n\n    this.receive({ user, text: message.text, channel: message.channel });\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/adapters/adapters/slack.js\n **/","import TMI from 'tmi.js';\n\nimport Adapter from '../adapter';\nimport User from '../../user';\n\nexport const EVENTS = {\n  connecting: 'twitchConnecting',\n  connected: 'twitchConnected',\n  logon: 'twitchLogon',\n  disconnected: 'twitchDisconnected',\n  reconnect: 'twitchReconnect',\n  chat: 'twitchChat',\n  emoteonly: 'twitchEmoteonly',\n  join: 'twitchJoin',\n  part: 'twitchPart',\n  mods: 'twitchMods',\n  notice: 'twitchNotice',\n  ping: 'twitchPing',\n  pong: 'twitchPong',\n  roomstate: 'twitchRoomstate',\n  slowmode: 'twitchSlowmode',\n  subscribers: 'twitchSubscribers',\n  subscription: 'twitchSubscription',\n  timeout: 'twitchTimeout',\n  whisper: 'twitchWhisper',\n};\n\nexport default class TwitchAdapter extends Adapter {\n  constructor ({ username, oauthPassword, channels=[] }) {\n    super(...arguments);\n\n    this.username = username;\n    this.oauthPassword = oauthPassword;\n    this.channels = channels;\n  }\n\n  register (bot) {\n    super.register(...arguments);\n\n    const { username, oauthPassword, channels } = this;\n\n    if (!username || !oauthPassword) {\n      bot.log.error('username and oauthPassword are required to connect to Twitch.');\n      return;\n    }\n\n    if (!channels.length) {\n      bot.log.critical('No channels passed to Twitch adapter to connect to.');\n    }\n\n    this.client = new TMI.client({\n      channels,\n      identity: {\n        username,\n        password: oauthPassword,\n      },\n      options: {\n        debug: true,\n      },\n      secure: true,\n      reconnect: true,\n      logger: {\n        info: bot.log.info.bind(bot.log),\n        warn: bot.log.warning.bind(bot.log),\n        error: bot.log.error.bind(bot.log),\n      },\n      connection: {\n        cluster: 'aws',\n      },\n    });\n\n    this.client.connect();\n\n    Object.keys(EVENTS).forEach(twitchEvent => {\n      const mappedFn = this[EVENTS[twitchEvent]];\n      this.client.on(twitchEvent, (...args) => mappedFn(...args));\n      this.client.on(twitchEvent, (...args) => {\n        this.bot.emitter.emit(`twitch-${twitchEvent}`, ...args);\n      });\n    });\n  }\n\n  send (message) {\n    this.bot.log.debug(`Sending ${message.text} to ${message.channel}`);\n\n    if (message.whisper) {\n      return this.client.whisper(message.user.name, message.text);\n    }\n\n    this.client.say(message.channel, message.text);\n  }\n\n  twitchConnecting = () => {\n    this.status = Adapter.STATUS.CONNECTING;\n  }\n\n  twitchConnected = () => {\n    this.status = Adapter.STATUS.CONNECTED;\n    this.bot.emitter.emit('connected', this.id);\n    this.bot.log.notice('Connected to Twitch.');\n  }\n\n  twitchLogon = () => {\n    this.status = Adapter.STATUS.CONNECTED;\n    this.bot.log.notice('Successfully logged on to Twitch.');\n  }\n\n  twitchDisconnected = () => {\n    this.status = Adapter.STATUS.DISCONNECTED;\n    this.bot.log.warning('Disconnected from Twitch.');\n  }\n\n  twitchReconnect = () => {\n    this.status = Adapter.STATUS.RECONNECTING;\n    this.bot.log.notice('Reconnecting to Twitch.');\n  }\n\n  twitchChat = (channel, twitchUser, text) => {\n    if (twitchUser.username === this.username) { return; }\n    const user = new User(twitchUser.username);\n    this.receive({ user, text, channel });\n  }\n\n  twitchEmoteonly = () => {\n  }\n\n  twitchJoin = (channel, username) => {\n    if (username !== this.username) { return; }\n    const user = new User(username);\n    return this.enter({ user, channel });\n  }\n\n  twitchPart = (channel, username) => {\n    if (username !== this.username) { return; }\n    const user = new User(username);\n    return this.leave({ user, channel });\n  }\n\n  twitchPing = () => {\n    this.ping();\n  }\n\n  twitchWhisper = (twitchUser, text) => {\n    if (twitchUser.username === this.username) { return; }\n    const user = new User(twitchUser.username);\n    this.receiveWhisper({ user, text, channel: twitchUser.username });\n  }\n\n  twitchPong = () => { }\n\n  twitchRoomstate = () => { }\n\n  twitchSlowmode = () => { }\n\n  twitchSubscribers = () => { }\n\n  twitchSubscription = () => { }\n\n  twitchTimeout = () => { }\n\n  twitchMods = () => { }\n\n  twitchNotice = () => { }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/adapters/adapters/twitch.js\n **/","import 'babel-polyfill';\n\nimport Emitter from 'eventemitter3';\nimport Log from 'log';\nimport superagent from 'superagent';\nimport sapp from 'superagent-promise-plugin';\nsapp.Promise = Promise;\n\nconst http = sapp.patch(superagent);\n\n\nimport { DB } from './db';\n\nexport class Exobot {\n  plugins = [];\n  adapters = {};\n\n  constructor (name, options={}) {\n    this.name = name;\n    this.alias = options.alias;\n    this.emitter = new Emitter();\n    this.http = http;\n\n    this.initLog(options.logLevel || Log.WARNING);\n    this.initAdapters(options.adapters);\n    this.initPlugins(options.plugins);\n\n    const dbPath = options.dbPath || `./data/${name}.json`;\n    this.initDB(options.key, dbPath, options.readFile, options.writeFile);\n  }\n\n  initAdapters = (adapters=[]) => {\n    adapters.forEach(a => this.addAdapter(a));\n  }\n\n  initPlugins = (plugins=[]) => {\n    plugins.forEach(p => this.addPlugin(p));\n  }\n\n  initLog = (logLevel) => {\n    const log = new Log(logLevel || Log.WARNING);\n    this.log = log;\n    this.logLevel = logLevel;\n\n    if (logLevel === Log.DEBUG) {\n      setInterval(this.logProcess, 10000);\n    }\n  }\n\n  initDB = (key, dbPath, readFile, writeFile) => {\n    if (!key) {\n      this.log.critical('Pass options.key in to bot initializer. Database not initializing.');\n      return;\n    }\n\n    DB({\n      key,\n      readFile,\n      writeFile,\n      path: dbPath,\n      emitter: this.emitter,\n    }).then((db) => {\n      this.db = db;\n      this.emitter.emit('dbLoaded', db);\n    }, this.log.critical);\n  }\n\n  logProcess = () => {\n    this.log.debug(process.memoryUsage(), process.cpuUsage());\n  }\n\n  addPlugin (plugin) {\n    plugin.register(this);\n    this.plugins.push(plugin);\n  }\n\n  addAdapter (adapter) {\n    adapter.register(this);\n    this.adapters[adapter.id] = adapter;\n  }\n\n  prependNameForWhisper (text) {\n    if (\n      text.slice(0, this.name.length).toLowerCase() !== this.name.toLowerCase() &&\n      text.slice(0, this.alias.length).toLowerCase() !== this.alias.toLowerCase()\n    ) {\n      text = `${this.name} ${text}`;\n    }\n\n    return text;\n  }\n}\n\nexport * from './adapters';\nexport * from './messages';\nexport * from './plugins';\nexport { default as User } from './user';\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/exobot.js\n **/","import Plugin from './plugin';\n\nexport default class EventPlugin extends Plugin {\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/plugins/event.js\n **/","import Plugin from './plugin';\n\nexport default class HTTPPlugin extends Plugin {\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/plugins/http.js\n **/","import ChatPlugin from '../chat';\n\nexport default class DBPlugin extends ChatPlugin {\n  help = 'dbdump: dump the database. Say \"<botname> dbdump\".';\n\n  constructor () {\n    super(...arguments);\n    this.respond(/^db dump/i, this.dump);\n    this.respond(/^db clear/i, this.clear);\n  }\n\n  async dump () {\n    await this.databaseInitialized();\n    return this.bot.db.getState();\n  }\n\n  async clear () {\n    await this.databaseInitialized();\n\n    this.bot.log.critical('Database clearing. You may need to restart your bot.');\n    this.bot.db.setState();\n\n    // reinitialize plugins so that those with default databases can re-set-up\n    this.bot.initializePlugins();\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/plugins/plugins/db.js\n **/","import ChatPlugin from '../chat';\n\nexport const ENDPOINT = 'http://api.giphy.com/v1/gifs/search';\n\nexport default class GiphyPlugin extends ChatPlugin {\n  help = 'Help: Explains commands. Say \"<botname> help\" for information.';\n\n  constructor (options={}) {\n    const { apiKey } = options;\n    super(...arguments);\n    this.respond(/^(?:gif|giphy)(?:\\sme)?\\s+(.*)/i, this.giphy);\n\n    this.apiKey = apiKey;\n  }\n\n  register (bot) {\n    super.register(...arguments);\n\n    if (!this.apiKey) {\n      bot.log.critical('No apiKey passed to Giphy plugin; plugin will not work.');\n    }\n  }\n\n  async giphy ([, search]) {\n    try {\n      const { body } = await this.bot.http.get(ENDPOINT)\n                     .query({ q: search, api_key: this.apiKey });\n\n      const { data } = body;\n\n      if (data.length) {\n        return data[parseInt(Math.random() * data.length)].images.original.url;\n      }\n    } catch (e) {\n      this.bot.log.notice('Error returned from Giphy request.');\n      this.bot.log.debug(e);\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/plugins/plugins/giphy.js\n **/","import ChatPlugin from '../chat';\n\nconst GREETINGS = [\n  'hi',\n  'hello',\n  'sup',\n  'greetings',\n  'yo',\n  'hey',\n];\n\nconst FAREWELLS = [\n  'goodbye',\n  'farwell',\n  'bye',\n  'later',\n  'see ya',\n  'cya',\n];\n\nconst regex = (botname, list) => new RegExp(`^(${list.join('|')})[,\\\\s]*${botname}`, 'i');\n\nexport default class GreetingPlugin extends ChatPlugin {\n  help = 'Greetings: says \"hi\" back. Say \"hi <botname>\" for a response.';\n\n  register (bot) {\n    super.register(...arguments);\n\n    this.listen(regex(bot.name, GREETINGS), this.greeting);\n    this.listen((m) => GREETINGS.includes(m.text.toLowerCase()), this.greeting);\n    this.respond((m) => GREETINGS.includes(m.text.toLowerCase()), this.greeting);\n\n    this.listen(regex(bot.name, FAREWELLS), this.farewell);\n    this.listen((m) => FAREWELLS.includes(m.text.toLowerCase()), this.farewell);\n    this.respond((m) => FAREWELLS.includes(m.text.toLowerCase()), this.farewell);\n  }\n\n  greeting (_, message) {\n    const randomGreeting = GREETINGS[parseInt(Math.random() * GREETINGS.length)];\n    return `${randomGreeting}, ${message.user.name}!`;\n  }\n\n  farewell (_, message) {\n    const randomFarewell = FAREWELLS[parseInt(Math.random() * FAREWELLS.length)];\n    return `${randomFarewell}, ${message.user.name}!`;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/plugins/plugins/greetings.js\n **/","import ChatPlugin from '../chat';\n\nexport default class HelpPlugin extends ChatPlugin {\n  help = 'Help: Explains commands. Say \"<botname> help\" for information.';\n\n  constructor () {\n    super(...arguments);\n    this.respond(/^help$/i, this.pluginHelp);\n  }\n\n  pluginHelp = () => {\n    return this.bot.plugins\n                    .filter(p => p.help)\n                    .map(p => p.help, []).join('\\n');\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/plugins/plugins/help.js\n **/","import ChatPlugin from '../chat';\n\nexport const nameToId = (name) => {\n  return name.replace(/[^\\w]/g, '');\n}\n\nexport default class HelpPlugin extends ChatPlugin {\n  help = [\n    'Points: add points to things. `thing++` or `thing--` adds or removes',\n    'points. Users are rate-limited from voting on the same thing multiple',\n    'times. Optionally add reasons: `thing++ for my reasons`.',\n  ].join(' ');\n\n  constructor () {\n    super(...arguments);\n\n    this.listen(/^([\\s\\w'@.\\-:]*)\\s*\\+\\+(?:\\s+for (.*))?$/i, (match) => this.changePoints(match, 1));\n    this.listen(/^([\\s\\w'@.\\-:]*)\\s*\\-\\-(?:\\s+for (.*))?$/i, (match) => this.changePoints(match, -1));\n    this.respond(/^tops?\\s*(\\d*)?$/i, this.tops);\n    this.respond(/^score(?: for)?(.*)$/i, this.score);\n  }\n\n  register (bot) {\n    super.register(bot);\n    this.database('points', { things: {}, tops: [] });\n  }\n\n  async changePoints ([match, name, reason], val) {\n    name = name.trim();\n    const id = nameToId(name);\n\n    await this.databaseInitialized();\n\n    let points = this.bot.db.get(`points.things.${id}`).value();\n\n    if (!points) { points = this.buildPoints(name, id); }\n\n    points.points = points.points + val;\n\n    if (reason) {\n      const reasonId = nameToId(reason);\n      const existingReason = points.reasons[reasonId] || { score: 0, reason: reason };\n      existingReason.score++;\n\n      points.reasons[reasonId] = existingReason;\n    }\n\n    this.bot.db.set(`points.things.${id}`, points).value();\n    this.bot.db.write();\n\n    this.updateTops();\n\n    return `${name} has ${points.points} points.`;\n  }\n\n  async tops ([match, n=10]) {\n    await this.databaseInitialized();\n\n    if (n > 25) { n = 25; }\n\n    const scores = this.bot.db.get('points.things').value();\n    const tops = this.bot.db.get('points.tops').slice(0,n).value();\n\n    let text = [`Top ${Math.min(n, tops.length)}:`];\n\n    tops.forEach(t => text.push(`${scores[t].name}: ${scores[t].points}`))\n\n    return text.join('\\n');\n  }\n\n  async score ([match, name]) {\n    name = name.trim();\n    const id = nameToId(name);\n\n    await this.databaseInitialized();\n\n    const points = this.bot.db.get(`points.things.${id}`).value();\n    const { reasons } = points;\n\n    const text = [`${name} has ${points.points} points.`];\n    const reasonKeys = Object.keys(points.reasons);\n\n    if (reasonKeys.length > 0) {\n      text.push('Here are some reasons:');\n\n      reasonKeys.forEach(r => {\n        text.push(`${reasons[r].reason}: ${reasons[r].score} points`);\n      });\n    }\n\n    return text.join('\\n');\n  }\n\n  async updateTops() {\n    await this.databaseInitialized();\n\n    const tops = this.bot.db.get(`points.things`)\n                             .orderBy('points', 'desc')\n                             .map('id')\n                             .value();\n\n    this.bot.db.set('points.tops', tops).value();\n    this.bot.db.write();\n  }\n\n  buildPoints (name, id) {\n    return {\n      name,\n      id,\n      points: 0,\n      reasons: {},\n    };\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/plugins/plugins/points.js\n **/","module.exports = require(\"@slack/client\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"@slack/client\"\n ** module id = 31\n ** module chunks = 0\n **/","module.exports = require(\"cryptr\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"cryptr\"\n ** module id = 32\n ** module chunks = 0\n **/","module.exports = require(\"discord.io\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"discord.io\"\n ** module id = 33\n ** module chunks = 0\n **/","module.exports = require(\"events\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"events\"\n ** module id = 34\n ** module chunks = 0\n **/","module.exports = require(\"fs-extra\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"fs-extra\"\n ** module id = 35\n ** module chunks = 0\n **/","module.exports = require(\"lowdb\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"lowdb\"\n ** module id = 36\n ** module chunks = 0\n **/","module.exports = require(\"readline\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"readline\"\n ** module id = 37\n ** module chunks = 0\n **/","module.exports = require(\"tmi.js\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"tmi.js\"\n ** module id = 38\n ** module chunks = 0\n **/","module.exports = require(\"underscore-db\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"underscore-db\"\n ** module id = 39\n ** module chunks = 0\n **/","module.exports = require(\"util\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"util\"\n ** module id = 40\n ** module chunks = 0\n **/"],"sourceRoot":""}