{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///exobot.js","webpack:///webpack/bootstrap d1e0a1408c4fc1ca94f4","webpack:///./src/plugins/chat.js","webpack:///./src/plugins/plugin.js","webpack:///./src/messages/message.js","webpack:///./src/messages/text.js","webpack:///./src/user.js","webpack:///./src/adapters/adapter.js","webpack:///./src/messages/presence.js","webpack:///external \"node-uuid\"","webpack:///./src/adapters/index.js","webpack:///./src/plugins/index.js","webpack:///external \"eventemitter3\"","webpack:///external \"log\"","webpack:///external \"superagent\"","webpack:///external \"superagent-promise-plugin\"","webpack:///./src/adapters/adapters/shell.js","webpack:///./src/db/db.js","webpack:///./src/exobot.js","webpack:///./src/plugins/event.js","webpack:///./src/plugins/http.js","webpack:///./src/plugins/plugins/greetings.js","webpack:///./src/plugins/plugins/help.js","webpack:///./src/plugins/plugins/permissions.js","webpack:///external \"cryptr\"","webpack:///external \"fs-extra\"","webpack:///external \"lodash/array\"","webpack:///external \"lowdb\"","webpack:///external \"readline\"","webpack:///external \"underscore-db\""],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_9__","__WEBPACK_EXTERNAL_MODULE_13__","__WEBPACK_EXTERNAL_MODULE_14__","__WEBPACK_EXTERNAL_MODULE_15__","__WEBPACK_EXTERNAL_MODULE_16__","__WEBPACK_EXTERNAL_MODULE_26__","__WEBPACK_EXTERNAL_MODULE_27__","__WEBPACK_EXTERNAL_MODULE_28__","__WEBPACK_EXTERNAL_MODULE_29__","__WEBPACK_EXTERNAL_MODULE_30__","__WEBPACK_EXTERNAL_MODULE_31__","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","p","s","_asyncToGenerator","fn","gen","apply","arguments","Promise","resolve","reject","step","key","arg","info","value","error","done","then","err","_toConsumableArray","arr","Array","isArray","arr2","length","from","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","__WEBPACK_IMPORTED_MODULE_0__plugin__","__WEBPACK_IMPORTED_MODULE_1__messages_text__","__WEBPACK_IMPORTED_MODULE_2_lodash_array__","__WEBPACK_IMPORTED_MODULE_2_lodash_array___default","__esModule","defineProperty","get","_extends","assign","target","source","hasOwnProperty","_slicedToArray","sliceIterator","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","push","_createClass","defineProperties","props","descriptor","protoProps","staticProps","DEFAULT_REGEXP","ChatPlugin","_Plugin","_this","getPrototypeOf","regexp","respondFunctions","listenFunctions","help","_this2","map","n","permissionGroup","bot","_this3","botNameRegex","RegExp","name","alias","postConstructor","forEach","_ref","_ref2","args","bind","emitter","on","message","v","process","concat","_x","_x2","_x3","_x4","_x5","_ref3","regeneratorRuntime","mark","_callee","validation","response","fnName","text","res","_text","newMessage","_this4","isResponder","wrap","_context","prev","validateBotName","direct","abrupt","exec","validate","checkPermissions","user","id","sent","t","send","stop","_x7","_x8","_ref4","_callee2","userId","commandPermissionGroup","roles","groups","_context2","usePermissions","databaseInitialized","db","admin","keys","requirePermissions","regex","listen","permissionGoup","respond","setHelp","setPermissionGroup","Plugin","options","_requiresDatabase","Error","database","defaultDatabase","val","set","__WEBPACK_IMPORTED_MODULE_0__db__","__WEBPACK_IMPORT_KEY__","__WEBPACK_IMPORTED_MODULE_0_node_uuid__","__WEBPACK_IMPORTED_MODULE_0_node_uuid___default","Message","channel","adapter","_ref$id","__WEBPACK_IMPORTED_MODULE_0__message__","TextMessage","_Message","_ref$whisper","whisper","trim","__WEBPACK_IMPORTED_MODULE_0__greetings__","__WEBPACK_IMPORTED_MODULE_1__help__","__WEBPACK_IMPORTED_MODULE_2__permissions__","User","_class","_temp","__WEBPACK_IMPORTED_MODULE_2__messages_presence__","Adapter","status","STATUS","UNINITIALIZED","CONNECTING","emit","prependNameForWhisper","receive","type","TYPES","ENTER","LEAVE","console","log","pong","CONNECTED","DISCONNECTED","RECONNECTING","ERROR","PresenceMessage","__WEBPACK_IMPORTED_MODULE_0__adapter__","__WEBPACK_IMPORTED_MODULE_1__adapters__","adapters","__WEBPACK_IMPORTED_MODULE_1__presence__","__WEBPACK_IMPORTED_MODULE_2__text__","__WEBPACK_IMPORTED_MODULE_1__event__","__WEBPACK_IMPORTED_MODULE_2__http__","__WEBPACK_IMPORTED_MODULE_3__chat__","__WEBPACK_IMPORTED_MODULE_4__plugins__","plugins","__WEBPACK_IMPORTED_MODULE_0__shell__","__WEBPACK_IMPORTED_MODULE_0_readline__","__WEBPACK_IMPORTED_MODULE_0_readline___default","__WEBPACK_IMPORTED_MODULE_1__adapter__","__WEBPACK_IMPORTED_MODULE_2__user__","_get","object","property","receiver","Function","desc","getOwnPropertyDescriptor","parent","getter","SHELL","SHELL_USER","EXIT_COMMANDS","ShellAdapter","_Adapter","rl","a","createInterface","input","stdin","output","stdout","question","answer","includes","exit","prompt","__WEBPACK_IMPORTED_MODULE_0_cryptr__","__WEBPACK_IMPORTED_MODULE_0_cryptr___default","__WEBPACK_IMPORTED_MODULE_1_lowdb__","__WEBPACK_IMPORTED_MODULE_1_lowdb___default","__WEBPACK_IMPORTED_MODULE_2_fs_extra__","__WEBPACK_IMPORTED_MODULE_2_fs_extra___default","__WEBPACK_IMPORTED_MODULE_3_underscore_db__","__WEBPACK_IMPORTED_MODULE_3_underscore_db___default","deserialize","cryptr","str","decrypted","decrypt","obj","JSON","parse","serialize","stringify","encrypted","encrypt","read","readFile","path","data","e","write","writeFile","readLocal","ensureFile","writeLocal","DB","dbPath","_ref2$readFile","_ref2$writeFile","storage","format","_","mixin","__WEBPACK_IMPORTED_MODULE_0_eventemitter3__","__WEBPACK_IMPORTED_MODULE_0_eventemitter3___default","__WEBPACK_IMPORTED_MODULE_1_log__","__WEBPACK_IMPORTED_MODULE_1_log___default","__WEBPACK_IMPORTED_MODULE_2_superagent__","__WEBPACK_IMPORTED_MODULE_2_superagent___default","__WEBPACK_IMPORTED_MODULE_3_superagent_promise_plugin__","__WEBPACK_IMPORTED_MODULE_3_superagent_promise_plugin___default","__WEBPACK_IMPORTED_MODULE_4__plugins_plugins__","__WEBPACK_IMPORTED_MODULE_5__db__","__WEBPACK_IMPORTED_MODULE_6__adapters__","__WEBPACK_IMPORTED_MODULE_7__messages__","__WEBPACK_IMPORTED_MODULE_8__plugins__","__WEBPACK_IMPORTED_MODULE_9__user__","indexOf","_initialiseProps","http","patch","Exobot","initLog","logLevel","WARNING","initAdapters","initPlugins","initDB","plugin","register","getAdapterByName","warning","slice","toLowerCase","getAdapterByMessage","find","addAdapter","addPlugin","DEBUG","setInterval","logProcess","critical","debug","memoryUsage","cpuUsage","LogLevels","EventPlugin","HTTPPlugin","_applyDecoratedDescriptor","decorators","context","initializer","reverse","reduce","decorator","_dec","_dec2","_dec3","_dec4","_dec5","_dec6","__WEBPACK_IMPORTED_MODULE_0__chat__","GREETINGS","FAREWELLS","shouldGreet","shouldFarewell","Greetings","_ChatPlugin","_ret","_len","_key","randomGreeting","parseInt","Math","random","randomFarewell","Help","filter","helpText","join","search","_dec7","_dec8","_dec9","_dec10","_dec11","_dec12","_dec13","_dec14","_dec15","_dec16","_dec17","_dec18","_dec19","_dec20","_dec21","_class2","Permissions","permissions","adminPassword","nameToId","addRoleToUser","_ref5","_ref6","role","getUserIdByUserName","viewUser","_x6","_ref7","_callee3","_ref8","perms","_ref9","_context3","removeRoleFromUser","_ref10","_callee4","_ref11","_ref12","_context4","addRoleToGroup","_x9","_ref13","_callee5","_ref14","_ref15","_context5","removeRoleFromGroup","_x10","_ref16","_callee6","_ref17","group","_ref18","_context6","viewGroup","_x11","_ref19","_callee7","_ref20","_ref21","_context7","replace"],"mappings":";CAAA,SAAAA,EAAAC,GACA,gBAAAC,UAAA,gBAAAC,QACAA,OAAAD,QAAAD,EAAAG,QAAA,aAAAA,QAAA,iBAAAA,QAAA,OAAAA,QAAA,cAAAA,QAAA,6BAAAA,QAAA,UAAAA,QAAA,YAAAA,QAAA,gBAAAA,QAAA,SAAAA,QAAA,YAAAA,QAAA,kBACA,kBAAAC,gBAAAC,IACAD,QAAA,kJAAAJ,GACA,gBAAAC,SACAA,QAAA,aAAAD,EAAAG,QAAA,aAAAA,QAAA,iBAAAA,QAAA,OAAAA,QAAA,cAAAA,QAAA,6BAAAA,QAAA,UAAAA,QAAA,YAAAA,QAAA,gBAAAA,QAAA,SAAAA,QAAA,YAAAA,QAAA,kBAEAJ,EAAA,aAAAC,EAAAD,EAAA,aAAAA,EAAA,cAAAA,EAAA,IAAAA,EAAA,WAAAA,EAAA,6BAAAA,EAAA,OAAAA,EAAA,YAAAA,EAAA,gBAAAA,EAAA,MAAAA,EAAA,SAAAA,EAAA,mBACCO,KAAA,SAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GACD,MCAgB,UAAUC,GCN1B,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAnB,OAGA,IAAAC,GAAAmB,EAAAD,IACAE,EAAAF,EACAG,GAAA,EACAtB,WAUA,OANAiB,GAAAE,GAAAI,KAAAtB,EAAAD,QAAAC,IAAAD,QAAAkB,GAGAjB,EAAAqB,GAAA,EAGArB,EAAAD,QAvBA,GAAAoB,KAqCA,OATAF,GAAAM,EAAAP,EAGAC,EAAAO,EAAAL,EAGAF,EAAAQ,EAAA,GAGAR,IAAAS,EAAA,MDgBM,SAAS1B,EAAQD,EAASkB,GAE/B,YAYA,SAASU,GAAkBC,GAAM,MAAO,YAAc,GAAIC,GAAMD,EAAGE,MAAM1B,KAAM2B,UAAY,OAAO,IAAIC,SAAQ,SAAUC,EAASC,GAAU,QAASC,GAAKC,EAAKC,GAAO,IAAM,GAAIC,GAAOT,EAAIO,GAAKC,GAAUE,EAAQD,EAAKC,MAAS,MAAOC,GAAwB,WAAfN,GAAOM,GAAkB,MAAIF,GAAKG,SAAQR,GAAQM,GAAwBP,QAAQC,QAAQM,GAAOG,KAAK,SAAUH,GAAS,MAAOJ,GAAK,OAAQI,IAAW,SAAUI,GAAO,MAAOR,GAAK,QAASQ,KAAc,MAAOR,GAAK,WAEvc,QAASS,GAAmBC,GAAO,GAAIC,MAAMC,QAAQF,GAAM,CAAE,IAAK,GAAIzB,GAAI,EAAG4B,EAAOF,MAAMD,EAAII,QAAS7B,EAAIyB,EAAII,OAAQ7B,IAAO4B,EAAK5B,GAAKyB,EAAIzB,EAAM,OAAO4B,GAAe,MAAOF,OAAMI,KAAKL,GAE1L,QAASM,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAMlC,GAAQ,IAAKkC,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAOnC,GAAyB,gBAATA,IAAqC,kBAATA,GAA8BkC,EAAPlC,EAElO,QAASoC,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIN,WAAU,iEAAoEM,GAAeD,GAASE,UAAYC,OAAOC,OAAOH,GAAcA,EAAWC,WAAaG,aAAezB,MAAOoB,EAAUM,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeP,IAAYE,OAAOM,eAAiBN,OAAOM,eAAeT,EAAUC,GAAcD,EAASU,UAAYT,GAnB5c,GAAIU,GAAwCrD,EAAoB,GAC5DsD,EAA+CtD,EAAoB,GACnEuD,EAA6CvD,EAAoB,IACjEwD,EAAqDD,GAA8CA,EAA2CE,WAAa,WAAa,MAAOF,GAA2C,YAAe,WAAa,MAAOA,GACjQV,QAAOa,eAAeF,EAAoD,KAAOG,IAAKH,GAC3G,IAAII,GAAWf,OAAOgB,QAAU,SAAUC,GAAU,IAAK,GAAI3D,GAAI,EAAGA,EAAIW,UAAUkB,OAAQ7B,IAAK,CAAE,GAAI4D,GAASjD,UAAUX,EAAI,KAAK,GAAIgB,KAAO4C,GAAclB,OAAOD,UAAUoB,eAAe3D,KAAK0D,EAAQ5C,KAAQ2C,EAAO3C,GAAO4C,EAAO5C,IAAY,MAAO2C,IAEnPG,EAAiB,WAAc,QAASC,GAActC,EAAKzB,GAAK,GAAIgE,MAAeC,GAAK,EAAUC,GAAK,EAAWC,EAAKC,MAAW,KAAM,IAAK,GAAiCC,GAA7BC,EAAK7C,EAAI8C,OAAOC,cAAmBP,GAAMI,EAAKC,EAAGG,QAAQpD,QAAoB2C,EAAKU,KAAKL,EAAGlD,QAAYnB,GAAKgE,EAAKnC,SAAW7B,GAA3DiE,GAAK,IAAoE,MAAO1C,GAAO2C,GAAK,EAAMC,EAAK5C,EAAO,QAAU,KAAW0C,GAAMK,EAAG,WAAWA,EAAG,YAAe,QAAU,GAAIJ,EAAI,KAAMC,IAAQ,MAAOH,GAAQ,MAAO,UAAUvC,EAAKzB,GAAK,GAAI0B,MAAMC,QAAQF,GAAQ,MAAOA,EAAY,IAAI8C,OAAOC,WAAY9B,QAAOjB,GAAQ,MAAOsC,GAActC,EAAKzB,EAAa,MAAM,IAAIkC,WAAU,4DAEllByC,EAAe,WAAc,QAASC,GAAiBjB,EAAQkB,GAAS,IAAK,GAAI7E,GAAI,EAAGA,EAAI6E,EAAMhD,OAAQ7B,IAAK,CAAE,GAAI8E,GAAaD,EAAM7E,EAAI8E,GAAWjC,WAAaiC,EAAWjC,aAAc,EAAOiC,EAAW/B,cAAe,EAAU,SAAW+B,KAAYA,EAAWhC,UAAW,GAAMJ,OAAOa,eAAeI,EAAQmB,EAAW9D,IAAK8D,IAAiB,MAAO,UAAU7C,EAAa8C,EAAYC,GAAiJ,MAA9HD,IAAYH,EAAiB3C,EAAYQ,UAAWsC,GAAiBC,GAAaJ,EAAiB3C,EAAa+C,GAAqB/C,ME9D3hBgD,EAAiB,KAEVC,EAAb,SAAAC,GAOE,QAAAD,KAAenD,EAAA/C,KAAAkG,EAAA,IAAAE,GAAAjD,EAAAnD,MAAAkG,EAAAjC,WAAAP,OAAA2C,eAAAH,IAAAxE,MAAA1B,KACJ2B,WADI,OAAAyE,GANfE,OAASL,EAMMG,EAJfG,oBAIeH,EAHfI,mBAGeJ,EAFfK,QAEeL,EAPjB,MAAA9C,GAAA4C,EAAAC,GAAAR,EAAAO,IAAAlE,IAAA,WAAAG,MAAA,WAWc,GAAAuE,GAAA1G,IACV,OAAOA,MAAKyG,KAAKE,IAAI,SAAAC,GAAA,UAASF,EAAKE,GAAGC,gBAAjB,KAAqCH,EAAKE,GAAGH,UAZtEzE,IAAA,WAAAG,MAAA,SAeY2E,GAAK,GAAAC,GAAA/G,IACbA,MAAK8G,IAAMA,EACX9G,KAAKgH,aAAe,GAAIC,QAAJ,YAAuBH,EAAII,KAA3B,IAAmCJ,EAAIK,MAAvC,mBAAgE,KAEhFnH,KAAKoH,iBACPpH,KAAKoH,gBAAgBC,QAAQ,SAAAC,GAAA,GAAAC,GAAAzC,EAAAwC,EAAA,GAAE9F,EAAF+F,EAAA,GAAMC,EAAND,EAAA,SAAgB/F,GAAGiG,KAAHV,GAAArF,MAAA0D,OAAA5C,EAAiBgF,MAGhEV,EAAIY,QAAQC,GAAG,kBAAmB,SAAAC,GAOhCb,EAAKR,iBAAiBc,QAAQ,SAAAQ,GAAA,MAAKd,GAAKe,QAALpG,MAAAqF,EAAAvE,EAAgBqF,GAAhBE,QAAmBH,GAAS,OAC/Db,EAAKP,gBAAgBa,QAAQ,SAAAQ,GAAA,MAAKd,GAAKe,QAALpG,MAAAqF,EAAAvE,EAAgBqF,GAAhBE,QAAmBH,YA/B3D5F,IAAA,UAAAG,MAAA,mBAAA2F,GAAAE,EAAAC,EAAAC,EAAAC,EAAAC,GAAA,MAAAC,GAAA3G,MAAA1B,KAAA2B,WAAA,GAAA0G,GAAA9G,EAAA+G,mBAAAC,KAAA,QAAAC,GAmCiBC,EAAYC,EAAUC,EAAQf,GAnC/C,GAAAgB,GAAAC,EAAAC,EAAAC,EAAAC,EAAAhJ,KAmCwDiJ,EAnCxDtH,UAAAkB,QAAA,GAAAuC,SAAAzD,UAAA,IAmCoE,EAnCpEA,UAAA,SAAA2G,oBAAAY,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAA1D,MAAA,WAoCQwD,EApCR,CAAAE,EAAA1D,KAAA,WAqCYmD,EAAO5I,KAAKqJ,gBAAgBzB,IAE9BgB,EAvCV,CAAAO,EAAA1D,KAAA,QAwCQmC,EAAU,GAAIzD,GAAA,EAAJM,KAAqBmD,GAASgB,OAAMU,QAAQ,KAxC9DH,EAAA1D,KAAA,qBAAA0D,GAAAI,OAAA,oBA8CQd,EAAWe,OAAQf,EAAazI,KAAKyJ,SAAShB,IAE5CI,EAAMJ,EAAWb,IAEnBiB,EAlDR,CAAAM,EAAA1D,KAAA,eAAA0D,GAAA1D,KAAA,GAmDgBzF,KAAK0J,iBAAiB9B,EAAQ+B,KAAKC,GAAI5J,KAAK2I,GAAQ9B,gBAnDpE,aAAAsC,EAAAU,KAAA,CAAAV,EAAA1D,KAAA,SAoDcmD,EAAOF,EAASjB,KAAKzH,MAAM6I,EAAKjB,GAElCgB,IACEA,YAAgBhH,SAClBgH,EAAKtG,KAAK,SAAAwH,GACR,GAAMf,GAAa,GAAI5E,GAAA,EAAJM,KAAqBmD,GAASgB,KAAMkB,IACvDd,GAAKlC,IAAIiD,KAAKhB,MAGVA,EAAa,GAAI5E,GAAA,EAAJM,KAAqBmD,GAASgB,UACjD5I,KAAK8G,IAAIiD,KAAKhB,IA9D1B,yBAAAI,GAAAa,SAAAxB,EAAAxI,QAAA,OAAA8H,QAAA9F,IAAA,mBAAAG,MAAA,mBAAAuH,GAAAO,EAAAC,GAAA,MAAAC,GAAAzI,MAAA1B,KAAA2B,WAAA,GAAAwI,GAAA5I,EAAA+G,mBAAAC,KAAA,QAAA6B,GAqE0BC,EAAQC,GArElC,GAAAC,GAAAC,CAAA,OAAAlC,oBAAAY,KAAA,SAAAuB,GAAA,cAAAA,EAAArB,KAAAqB,EAAAhF,MAAA,UAsESzF,KAAK8G,IAAI4D,eAtElB,CAAAD,EAAAhF,KAAA,cAAAgF,GAAAlB,OAAA,UAsE2C,EAtE3C,WA0EmC,uBAA3Be,EA1ER,CAAAG,EAAAhF,KAAA,cAAAgF,GAAAlB,OAAA,UA0EkE,EA1ElE,cAAAkB,GAAAhF,KAAA,EA4EUzF,KAAK2K,qBA5Ef,WA+EUJ,EAAQvK,KAAK8G,IAAI8D,GAAGpG,IAAZ,qBAAqC6F,EAArC,UAAqDlI,SAG/DoI,EAAMM,MAlFd,CAAAJ,EAAAhF,KAAA,cAAAgF,GAAAlB,OAAA,UAkF8B,EAlF9B,WAqFUiB,EAASxK,KAAK8G,IAAI8D,GAAGpG,IAAZ,sBAAsC8F,GAA0BnI,QAI1EqI,GAAW9G,OAAOoH,KAAKN,GAzFhC,CAAAC,EAAAhF,KAAA,YA0FWzF,KAAK8G,IAAIiE,mBA1FpB,CAAAN,EAAAhF,KAAA,eAAAgF,GAAAlB,OAAA,UA2Fe,EA3Ff,aA+FQiB,YA/FR,CAAAC,EAAAhF,KAAA,eAAAgF,GAAAlB,OAAA,UA+FgC,EA/FhC,aAmGQnF,EAAA,aAAAqD,OAAa/D,OAAOoH,KAAKP,GAAQ7G,OAAOoH,KAAKN,IAAS3H,OAnG9D,CAAA4H,EAAAhF,KAAA,eAAAgF,GAAAlB,OAAA,UAoGa,EApGb,eAAAkB,GAAAlB,OAAA,UAuGW,EAvGX,yBAAAkB,GAAAT,SAAAI,EAAApK,QAAA,OAAA0J,QAAA1H,IAAA,WAAAG,MAAA,SA0GY6I,GACR,MAAO,UAAApD,GAAA,MAAWoD,GAAMxB,KAAK5B,EAAQgB,UA3GzC5G,IAAA,kBAAAG,MAAA,SA8GmByF,GACf,GAAM4B,GAAOxJ,KAAKgH,aAAawC,KAAK5B,EAAQgB,KAC5C,IAAKY,EAEL,MAAOA,GAAK,MAlHhBxH,IAAA,UAAAG,MAAA,SAqHWsG,EAAYjH,EAAI0F,GACvBlH,KAAKuG,iBAAiBb,MAAM+C,EAAYjH,EAAI0F,OAtHhDlF,IAAA,SAAAG,MAAA,SAyHUsG,EAAYjH,EAAI0F,GACtBlH,KAAKwG,gBAAgBd,MAAM+C,EAAYjH,EAAI0F,OA1H/ClF,IAAA,UAAAG,MAAA,SA6HWyG,EAAMD,GACb3I,KAAKyG,KAAKf,KAAKiD,GACf3I,KAAK2I,GAAQlC,KAAOmC,KA/HxB5G,IAAA,qBAAAG,MAAA,SAkIsBX,EAAI0F,GACtBlH,KAAKwB,GAAIqF,gBAAqB7G,KAAKkH,KAAnC,IAA2CA,MAnI/ChB,GAAgChC,EAAA,EAAhCR,QAAAa,eAAA5E,EAAA,KAAAoE,cAAA,EAAAF,YAAA,EAAAW,IAAA,iBAAA0B,KAuIO,IAAM+E,GAAS,SAACxC,GAAD,MAAgB,UAAC9D,EAAQuC,EAAMpB,GACnD,GAAMtE,GAAKsE,EAAW3D,KAEjBX,GAAGqF,kBACNrF,EAAG0J,eAAoBvG,EAAOuC,KAA9B,IAAsCA,GAGxCvC,EAAOyC,gBAAkBzC,EAAOyC,oBAChCzC,EAAOyC,gBAAgB1B,MACpBf,EAAOsG,QAASxC,EAAYjH,EAAI0F,MAT9BxD,QAAAa,eAAA5E,EAAA,KAAAoE,cAAA,EAAAF,YAAA,EAAAW,IAAA,iBAAAyG,KAaA,IAAME,GAAU,SAAC1C,GAAD,MAAgB,UAAC9D,EAAQuC,EAAMpB,GACpD,GAAMtE,GAAKsE,EAAW3D,KAEjBX,GAAGqF,kBACNrF,EAAG0J,eAAoBvG,EAAOuC,KAA9B,IAAsCA,GAGxCvC,EAAOyC,gBAAkBzC,EAAOyC,oBAChCzC,EAAOyC,gBAAgB1B,MACpBf,EAAOwG,SAAU1C,EAAYjH,EAAI0F,MAT/BxD,QAAAa,eAAA5E,EAAA,KAAAoE,cAAA,EAAAF,YAAA,EAAAW,IAAA,iBAAA2G,KAaA,IAAM1E,GAAO,SAACmC,GAAD,MAAU,UAACjE,EAAQgE,GACrChE,EAAOyC,gBAAgB1B,MACpBf,EAAOyG,SAAUxC,EAAMD,MAFrBjF,QAAAa,eAAA5E,EAAA,KAAAoE,cAAA,EAAAF,YAAA,EAAAW,IAAA,iBAAAiC,KAMA,IAAMI,GAAkB,SAACK,GAAD,MAAU,UAACvC,EAAQgE,GAChDhE,EAAOyC,gBAAgB1B,MAAMf,EAAO0G,oBAAqB1C,EAAQzB,MFuO7CxD,QAAOa,eAAe5E,EAAS,KAAMoE,cAAc,EAAOF,YAAY,EAAMW,IAAK,WAAa,MAAOqC,OAIrH,SAASjH,EAAQD,EAASkB,GAE/B,YAGA,SAASU,GAAkBC,GAAM,MAAO,YAAc,GAAIC,GAAMD,EAAGE,MAAM1B,KAAM2B,UAAY,OAAO,IAAIC,SAAQ,SAAUC,EAASC,GAAU,QAASC,GAAKC,EAAKC,GAAO,IAAM,GAAIC,GAAOT,EAAIO,GAAKC,GAAUE,EAAQD,EAAKC,MAAS,MAAOC,GAAwB,WAAfN,GAAOM,GAAkB,MAAIF,GAAKG,SAAQR,GAAQM,GAAwBP,QAAQC,QAAQM,GAAOG,KAAK,SAAUH,GAAS,MAAOJ,GAAK,OAAQI,IAAW,SAAUI,GAAO,MAAOR,GAAK,QAASQ,KAAc,MAAOR,GAAK,WAEvc,QAASgB,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAJhH,GAAIyC,GAAe,WAAc,QAASC,GAAiBjB,EAAQkB,GAAS,IAAK,GAAI7E,GAAI,EAAGA,EAAI6E,EAAMhD,OAAQ7B,IAAK,CAAE,GAAI8E,GAAaD,EAAM7E,EAAI8E,GAAWjC,WAAaiC,EAAWjC,aAAc,EAAOiC,EAAW/B,cAAe,EAAU,SAAW+B,KAAYA,EAAWhC,UAAW,GAAMJ,OAAOa,eAAeI,EAAQmB,EAAW9D,IAAK8D,IAAiB,MAAO,UAAU7C,EAAa8C,EAAYC,GAAiJ,MAA9HD,IAAYH,EAAiB3C,EAAYQ,UAAWsC,GAAiBC,GAAaJ,EAAiB3C,EAAa+C,GAAqB/C,MG5Z5gBqI,EHkaP,WG9ZZ,QAAAA,KAAyB,GAAZC,GAAY5J,UAAAkB,QAAA,GAAAuC,SAAAzD,UAAA,MAAAA,UAAA,EAAAoB,GAAA/C,KAAAsL,GAAAtL,KAHzByG,KAAOrB,OAGkBpF,KAFzBwL,mBAAoB,EAGlBxL,KAAKuL,QAAUA,EHghBhB,MAvGA5F,GAAa2F,IACXtJ,IAAK,WACLG,MAAO,SGxaA2E,GACR,IAAKA,EAAO,KAAM,IAAI2E,OAAM,oCAE5B,KAAKzL,KAAKkH,KACR,KAAM,IAAIuE,OACR,+EAIJzL,MAAK8G,IAAMA,EACX9G,KAAK0L,cH2aJ1J,IAAK,SACLG,MAAO,WGxaR,IAAKnC,KAAK8G,IACR,KAAM,IAAI2E,OAAM,kCH6ajBzJ,IAAK,WACLG,MAAO,WAkCL,QAASuJ,KACP,MAAOpE,GAAK5F,MAAM1B,KAAM2B,WAlC1B,GAAI2F,GAAO/F,EAAkB+G,mBAAmBC,KAAK,QAASC,KAC5D,GAAIpC,GAAQpG,IAEZ,OAAOsI,oBAAmBY,KAAK,SAAkBC,GAC/C,OACE,OAAQA,EAASC,KAAOD,EAAS1D,MAC/B,IAAK,GACH,IGjbTzF,KAAK2L,gBHib+B,CACzBxC,EAAS1D,KAAO,CAChB,OAIF,MADA0D,GAAS1D,KAAO,EGrbrBzF,KAAK2K,qBHwbF,KAAK,GGtbdjH,OAAOoH,KAAK9K,KAAK2L,iBAAiBtE,QAAQ,SAAAH,GACxC,GAAM0E,GAAMxF,EAAKU,IAAI8D,GAAGpG,IAAI0C,GAAM/E,OAEf,oBAARyJ,IACTxF,EAAKU,IAAI8D,GAAGiB,IAAI3E,EAAMd,EAAKuF,gBAAgBzE,IAAO/E,SH4b7C,KAAK,GACL,IAAK,MACH,MAAOgH,GAASa,SAGrBxB,EAASxI,QAOd,OAAO0L,QAGT1J,IAAK,sBACLG,MAAO,WA8BL,QAASwI,KACP,MAAOpD,GAAM7F,MAAM1B,KAAM2B,WA9B3B,GAAI4F,GAAQhG,EAAkB+G,mBAAmBC,KAAK,QAAS6B,KAC7D,GAAI1D,GAAS1G,IAEb,OAAOsI,oBAAmBY,KAAK,SAAmBuB,GAChD,OACE,OAAQA,EAAUrB,KAAOqB,EAAUhF,MACjC,IAAK,GAGH,GG/cbzF,KAAKwL,mBAAoB,GAErBxL,KAAKwL,oBAAqBxL,KAAK8G,IAAI8D,GH6coB,CAC5CH,EAAUhF,KAAO,CACjB,OAGF,MAAOgF,GAAUlB,OAAO,UGjd5B,EHmdE,KAAK,GACH,MAAOkB,GAAUlB,OAAO,SGjd9B,GAAI3H,SAAQ,SAACC,GAClB6E,EAAKI,IAAIY,QAAQC,GAAG,WAAY9F,KHodvB,KAAK,GACL,IAAK,MACH,MAAO4I,GAAUT,SAGtBI,EAAUpK,QAOf,OAAO2K,SAIJW,IAIY5H,QAAOa,eAAe5E,EAAS,KAAMoE,cAAc,EAAOF,YAAY,EAAMW,IAAK,WAAa,MAAO8G,OAIrH,SAAS1L,EAAQD,EAASkB,GAE/B,YACqB,IAAIiL,GAAoCjL,EAAoB,GAChD,KAAI,GAAIkL,KAA0BD,GAAiE,YAA3BC,GAAuC,SAAS/J,GAAO0B,OAAOa,eAAe5E,EAASqC,GAAM+B,cAAc,EAAOF,YAAY,EAAMW,IAAK,WAAa,MAAOsH,GAAkC9J,OAAY+J,IAK9S,SAASnM,EAAQD,EAASkB,GAE/B,YAIA,SAASkC,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAH3F,GAAI8I,GAA0CnL,EAAoB,GAC9DoL,EAAkDD,GAA2CA,EAAwC1H,WAAa,WAAa,MAAO0H,GAAwC,YAAe,WAAa,MAAOA,GACrPtI,QAAOa,eAAe0H,EAAiD,KAAOzH,IAAKyH,GAKxG,II9iBoBC,GACnB,QAAAA,GAAA5E,GAAoD,GAArCqC,GAAqCrC,EAArCqC,KAAMwC,EAA+B7E,EAA/B6E,QAASC,EAAsB9E,EAAtB8E,QAAsBC,EAAA/E,EAAbsC,KAAaxE,SAAAiH,EAAVL,EAAA,GAAAvE,SAAU4E,CAAAtJ,GAAA/C,KAAAkM,GAClDlM,KAAK2J,KAAOA,EACZ3J,KAAKmM,QAAUA,EACfnM,KAAKoM,QAAUA,EACfpM,KAAK4J,GAAKA,EJyjBQlG,QAAOa,eAAe5E,EAAS,KAAMoE,cAAc,EAAOF,YAAY,EAAMW,IAAK,WAAa,MAAO0H,OAIrH,SAAStM,EAAQD,EAASkB,GAE/B,YAEA,SAASkC,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAMlC,GAAQ,IAAKkC,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAOnC,GAAyB,gBAATA,IAAqC,kBAATA,GAA8BkC,EAAPlC,EAElO,QAASoC,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIN,WAAU,iEAAoEM,GAAeD,GAASE,UAAYC,OAAOC,OAAOH,GAAcA,EAAWC,WAAaG,aAAezB,MAAOoB,EAAUM,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeP,IAAYE,OAAOM,eAAiBN,OAAOM,eAAeT,EAAUC,GAAcD,EAASU,UAAYT,GAL5c,GAAI8I,GAAyCzL,EAAoB,GKrkBlE0L,EL8kBF,SAAUC,GK7kB3B,QAAAD,GAAAjF,GAAsC,GAAvBsB,GAAuBtB,EAAvBsB,KAAuB6D,EAAAnF,EAAjBoF,UAAiBtH,SAAAqH,GAAT,EAASA,CAAA1J,GAAA/C,KAAAuM,EAAA,IAAAnG,GAAAjD,EAAAnD,MAAAuM,EAAAtI,WAAAP,OAAA2C,eAAAkG,IAAA7K,MAAA1B,KAC3B2B,WAD2B,OAEpCyE,GAAKwC,KAAOA,EAAK+D,OACjBvG,EAAKsG,UAAYA,EAHmBtG,EL8lBrC,MAhBA9C,GAAUiJ,EAAaC,GAgBhBD,GK/lB+BD,EAAA,ELmmBnB5I,QAAOa,eAAe5E,EAAS,KAAMoE,cAAc,EAAOF,YAAY,EAAMW,IAAK,WAAa,MAAO+H,OAIrH,SAAS3M,EAAQD,EAASkB,GAE/B,YACqB,IAAI+L,GAA2C/L,EAAoB,IAC/DgM,EAAsChM,EAAoB,IAC1DiM,EAA6CjM,EAAoB,GAChE6C,QAAOD,UAAUoB,eAAe3D,KAAK0L,EAA0C,MAAMlJ,OAAOa,eAAe5E,EAAS,aAAcoE,cAAc,EAAOF,YAAY,EAAMW,IAAK,WAAa,MAAOoI,GAA4C,KAC9OlJ,OAAOD,UAAUoB,eAAe3D,KAAK2L,EAAqC,MAAMnJ,OAAOa,eAAe5E,EAAS,QAASoE,cAAc,EAAOF,YAAY,EAAMW,IAAK,WAAa,MAAOqI,GAAuC,KAC/NnJ,OAAOD,UAAUoB,eAAe3D,KAAK4L,EAA4C,MAAMpJ,OAAOa,eAAe5E,EAAS,eAAgBoE,cAAc,EAAOF,YAAY,EAAMW,IAAK,WAAa,MAAOsI,GAA8C,MAOzQ,SAASlN,EAAQD,EAASkB,GAE/B,YACA,SAASkC,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,GM7nBoB6J,GACnB,QAAAA,GAAa7F,GAAe,GAAT0C,GAASjI,UAAAkB,QAAA,GAAAuC,SAAAzD,UAAA,GAANuF,EAAMvF,UAAA,EAAAoB,GAAA/C,KAAA+M,GAC1B/M,KAAKkH,KAAOA,EACZlH,KAAK4J,GAAKA,ENooBQlG,QAAOa,eAAe5E,EAAS,KAAMoE,cAAc,EAAOF,YAAY,EAAMW,IAAK,WAAa,MAAOuI,OAIrH,SAASnN,EAAQD,EAASkB,GAE/B,YAUA,SAASkC,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAT3F,GAAI8I,GAA0CnL,EAAoB,GAC9DoL,EAAkDD,GAA2CA,EAAwC1H,WAAa,WAAa,MAAO0H,GAAwC,YAAe,WAAa,MAAOA,GACrPtI,QAAOa,eAAe0H,EAAiD,KAAOzH,IAAKyH,GACnF,IAIjBe,GAAQC,EAJa9I,EAA+CtD,EAAoB,GACnEqM,EAAmDrM,EAAoB,GAC5F8E,EAAe,WAAc,QAASC,GAAiBjB,EAAQkB,GAAS,IAAK,GAAI7E,GAAI,EAAGA,EAAI6E,EAAMhD,OAAQ7B,IAAK,CAAE,GAAI8E,GAAaD,EAAM7E,EAAI8E,GAAWjC,WAAaiC,EAAWjC,aAAc,EAAOiC,EAAW/B,cAAe,EAAU,SAAW+B,KAAYA,EAAWhC,UAAW,GAAMJ,OAAOa,eAAeI,EAAQmB,EAAW9D,IAAK8D,IAAiB,MAAO,UAAU7C,EAAa8C,EAAYC,GAAiJ,MAA9HD,IAAYH,EAAiB3C,EAAYQ,UAAWsC,GAAiBC,GAAaJ,EAAiB3C,EAAa+C,GAAqB/C,MO9oB5gBkK,GPypBLF,EAAQD,EAAS,WO/oB/B,QAAAG,KAAyB,GAAZ5B,GAAY5J,UAAAkB,QAAA,GAAAuC,SAAAzD,UAAA,MAAAA,UAAA,EAAAoB,GAAA/C,KAAAmN,GACvBnN,KAAKuL,QAAUA,EACfvL,KAAK4J,GAAK2B,EAAQ3B,IAAMoC,EAAA,GAAAvE,SACxBzH,KAAKoN,OAASD,EAAQE,OAAOC,cPuvB9B,MAhGA3H,GAAawH,IACXnL,IAAK,WACLG,MAAO,SOtpBA2E,GACR,IAAKA,EAAO,KAAM,IAAI2E,OAAM,oCAC5B,KAAKzL,KAAKkH,KACR,KAAM,IAAIuE,OAAM,mEAGlBzL,MAAK8G,IAAMA,EAEX9G,KAAKoN,OAASD,EAAQE,OAAOE,WAC7BvN,KAAKiL,YP2pBJjJ,IAAK,SACLG,MAAO,WOxpBR,IAAKnC,KAAK8G,IAAO,KAAM,IAAI2E,OAAM,kCP8pBhCzJ,IAAK,UACLG,MAAO,SAAiBmF,GO5pBgB,GAAhCqC,GAAgCrC,EAAhCqC,KAAMf,EAA0BtB,EAA1BsB,KAAMuD,EAAoB7E,EAApB6E,QAASO,EAAWpF,EAAXoF,QACxB9E,EAAU,GAAIzD,GAAA,GAAcwF,OAAMf,OAAMuD,UAASO,UAASN,QAASpM,KAAK4J,IAC9E5J,MAAK8G,IAAIY,QAAQ8F,KAAK,kBAAmB5F,MPoqBxC5F,IAAK,iBACLG,MAAO,SAAwBoF,GOlqBO,GAAvBoC,GAAuBpC,EAAvBoC,KAAMf,EAAiBrB,EAAjBqB,KAAMuD,EAAW5E,EAAX4E,OAC5BvD,GAAO5I,KAAK8G,IAAI2G,sBAAsB7E,GACtC5I,KAAK0N,SAAU/D,OAAMf,OAAMuD,UAASO,SAAS,OPyqB5C1K,IAAK,QACLG,MAAO,SAAekG,GOvqBC,GAAjBsB,GAAiBtB,EAAjBsB,KAAMwC,EAAW9D,EAAX8D,QACPvE,EAAU,GAAIsF,GAAA,GAClBvD,OACAwC,UACAC,QAASpM,KAAK4J,GACd+D,KAAMT,EAAA,EAAgBU,MAAMC,OAG9B7N,MAAK8G,IAAIY,QAAQ8F,KAAK,QAAS5F,MP6qB9B5F,IAAK,QACLG,MAAO,SAAegI,GO3qBC,GAAjBR,GAAiBQ,EAAjBR,KAAMwC,EAAWhC,EAAXgC,QACPvE,EAAU,GAAIsF,GAAA,GAClBvD,OACAwC,UACAC,QAASpM,KAAK4J,GACd+D,KAAMT,EAAA,EAAgBU,MAAME,OAG9B9N,MAAK8G,IAAIY,QAAQ8F,KAAK,QAAS5F,MPirB9B5F,IAAK,OACLG,MAAO,SO/qBJyF,GACJmG,QAAQC,IAAIpG,EAAQgB,SPkrBnB5G,IAAK,OACLG,MAAO,WO/qBRnC,KAAKiO,UPmrBJjM,IAAK,OACLG,MAAO,WOhrBR4L,QAAQC,IAAI,kDPorBXhM,IAAK,sBACLG,MAAO,SOlrBW+E,GAEnB,MADA6G,SAAQC,IAAI,wDACL9G,MPsrBDiG,KACJH,EOpwBGK,QACLC,cAAe,EACfC,WAAY,EACZW,UAAW,EACXC,aAAc,EACdC,aAAc,EACdC,MAAO,GPqwBPpB,EAEkBvJ,QAAOa,eAAe5E,EAAS,KAAMoE,cAAc,EAAOF,YAAY,EAAMW,IAAK,WAAa,MAAO2I,OAIrH,SAASvN,EAAQD,EAASkB,GAE/B,YAIA,SAASkC,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAMlC,GAAQ,IAAKkC,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAOnC,GAAyB,gBAATA,IAAqC,kBAATA,GAA8BkC,EAAPlC,EAElO,QAASoC,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIN,WAAU,iEAAoEM,GAAeD,GAASE,UAAYC,OAAOC,OAAOH,GAAcA,EAAWC,WAAaG,aAAezB,MAAOoB,EAAUM,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeP,IAAYE,OAAOM,eAAiBN,OAAOM,eAAeT,EAAUC,GAAcD,EAASU,UAAYT,GAP5c,GACjBwJ,GAAQC,EADaX,EAAyCzL,EAAoB,GQxxBlEyN,GRmyBGrB,EAAQD,EAAS,SAAUR,GQ7xBjD,QAAA8B,GAAAhH,GAAuB,GAARqG,GAAQrG,EAARqG,IAAQ5K,GAAA/C,KAAAsO,EAAA,IAAAlI,GAAAjD,EAAAnD,MAAAsO,EAAArK,WAAAP,OAAA2C,eAAAiI,IAAA5M,MAAA1B,KACZ2B,WADY,OAErByE,GAAKuH,KAAOA,EAFSvH,ER2yBtB,MAbA9C,GAAUgL,EAAiB9B,GAapB8B,GQjzBmChC,EAAA,GRkzBwBU,EQjzB5DY,OACLC,MAAO,EACPC,MAAO,GRkzBPb,EAEkBvJ,QAAOa,eAAe5E,EAAS,KAAMoE,cAAc,EAAOF,YAAY,EAAMW,IAAK,WAAa,MAAO8J,OAIrH,SAAS1O,EAAQD,GS7zBvBC,EAAAD,QAAAE,QAAA,cTm0BM,SAASD,EAAQD,EAASkB,GAE/B,YACqB,IAAI0N,GAAyC1N,EAAoB,GAC7D2N,EAA0C3N,EAAoB,GAC7D6C,QAAOD,UAAUoB,eAAe3D,KAAKqN,EAAwC,MAAM7K,OAAOa,eAAe5E,EAAS,WAAYoE,cAAc,EAAOF,YAAY,EAAMW,IAAK,WAAa,MAAO+J,GAA0C,IUr0B5P,IAAME,GAAWD,CV00BF9K,QAAOa,eAAe5E,EAAS,YAAaoE,cAAc,EAAOF,YAAY,EAAMW,IAAK,WAAa,MAAOiK,OAI5H,SAAS7O,EAAQD,EAASkB,GAE/B,YACqB,IAAIyL,GAAyCzL,EAAoB,GAC7D6N,EAA0C7N,EAAoB,GAC9D8N,EAAsC9N,EAAoB,EACzD6C,QAAOD,UAAUoB,eAAe3D,KAAKoL,EAAwC,MAAM5I,OAAOa,eAAe5E,EAAS,WAAYoE,cAAc,EAAOF,YAAY,EAAMW,IAAK,WAAa,MAAO8H,GAA0C,KACxO5I,OAAOD,UAAUoB,eAAe3D,KAAKwN,EAAyC,MAAMhL,OAAOa,eAAe5E,EAAS,mBAAoBoE,cAAc,EAAOF,YAAY,EAAMW,IAAK,WAAa,MAAOkK,GAA2C,KAClPhL,OAAOD,UAAUoB,eAAe3D,KAAKyN,EAAqC,MAAMjL,OAAOa,eAAe5E,EAAS,eAAgBoE,cAAc,EAAOF,YAAY,EAAMW,IAAK,WAAa,MAAOmK,GAAuC,MAO3P,SAAS/O,EAAQD,EAASkB,GAE/B,YACqB,IAAIqD,GAAwCrD,EAAoB,GAC5D+N,EAAuC/N,EAAoB,IAC3DgO,EAAsChO,EAAoB,IAC1DiO,EAAsCjO,EAAoB,GAC1DkO,EAAyClO,EAAoB,EAC5D6C,QAAOD,UAAUoB,eAAe3D,KAAKgD,EAAuC,MAAMR,OAAOa,eAAe5E,EAAS,UAAWoE,cAAc,EAAOF,YAAY,EAAMW,IAAK,WAAa,MAAON,GAAyC,KACrOR,OAAOD,UAAUoB,eAAe3D,KAAK0N,EAAsC,MAAMlL,OAAOa,eAAe5E,EAAS,eAAgBoE,cAAc,EAAOF,YAAY,EAAMW,IAAK,WAAa,MAAOoK,GAAwC,KACxOlL,OAAOD,UAAUoB,eAAe3D,KAAK2N,EAAqC,MAAMnL,OAAOa,eAAe5E,EAAS,cAAeoE,cAAc,EAAOF,YAAY,EAAMW,IAAK,WAAa,MAAOqK,GAAuC,KACrOnL,OAAOD,UAAUoB,eAAe3D,KAAK4N,EAAqC,MAAMpL,OAAOa,eAAe5E,EAAS,cAAeoE,cAAc,EAAOF,YAAY,EAAMW,IAAK,WAAa,MAAOsK,GAAuC,KACrOpL,OAAOD,UAAUoB,eAAe3D,KAAK4N,EAAqC,MAAMpL,OAAOa,eAAe5E,EAAS,WAAYoE,cAAc,EAAOF,YAAY,EAAMW,IAAK,WAAa,MAAOsK,GAAuC,KAClOpL,OAAOD,UAAUoB,eAAe3D,KAAK4N,EAAqC,MAAMpL,OAAOa,eAAe5E,EAAS,UAAWoE,cAAc,EAAOF,YAAY,EAAMW,IAAK,WAAa,MAAOsK,GAAuC,KACjOpL,OAAOD,UAAUoB,eAAe3D,KAAK4N,EAAqC,MAAMpL,OAAOa,eAAe5E,EAAS,QAASoE,cAAc,EAAOF,YAAY,EAAMW,IAAK,WAAa,MAAOsK,GAAuC,KAC/NpL,OAAOD,UAAUoB,eAAe3D,KAAK4N,EAAqC,MAAMpL,OAAOa,eAAe5E,EAAS,mBAAoBoE,cAAc,EAAOF,YAAY,EAAMW,IAAK,WAAa,MAAOsK,GAAuC,IWx2B9P,IAAME,GAAUD,CXi3BDrL,QAAOa,eAAe5E,EAAS,WAAYoE,cAAc,EAAOF,YAAY,EAAMW,IAAK,WAAa,MAAOwK,OAI3H,SAASpP,EAAQD,GY53BvBC,EAAAD,QAAAE,QAAA,kBZk4BM,SAASD,EAAQD,Gal4BvBC,EAAAD,QAAAE,QAAA,Qbw4BM,SAASD,EAAQD,Gcx4BvBC,EAAAD,QAAAE,QAAA,ed84BM,SAASD,EAAQD,Ge94BvBC,EAAAD,QAAAE,QAAA,8Bfo5BM,SAASD,EAAQD,EAASkB,GAE/B,YACqB,IAAIoO,GAAuCpO,EAAoB,GAC1D6C,QAAOD,UAAUoB,eAAe3D,KAAK+N,EAAsC,MAAMvL,OAAOa,eAAe5E,EAAS,SAAUoE,cAAc,EAAOF,YAAY,EAAMW,IAAK,WAAa,MAAOyK,GAAwC,MAKvP,SAASrP,EAAQD,EAASkB,GAE/B,YAUA,SAASkC,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAMlC,GAAQ,IAAKkC,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAOnC,GAAyB,gBAATA,IAAqC,kBAATA,GAA8BkC,EAAPlC,EAElO,QAASoC,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIN,WAAU,iEAAoEM,GAAeD,GAASE,UAAYC,OAAOC,OAAOH,GAAcA,EAAWC,WAAaG,aAAezB,MAAOoB,EAAUM,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeP,IAAYE,OAAOM,eAAiBN,OAAOM,eAAeT,EAAUC,GAAcD,EAASU,UAAYT,GAb5c,GAAI0L,GAAyCrO,EAAoB,IAC7DsO,EAAiDD,GAA0CA,EAAuC5K,WAAa,WAAa,MAAO4K,GAAuC,YAAe,WAAa,MAAOA,GACjPxL,QAAOa,eAAe4K,EAAgD,KAAO3K,IAAK2K,GAClF,IAAIC,GAAyCvO,EAAoB,GAC7DwO,EAAsCxO,EAAoB,GAC/E8E,EAAe,WAAc,QAASC,GAAiBjB,EAAQkB,GAAS,IAAK,GAAI7E,GAAI,EAAGA,EAAI6E,EAAMhD,OAAQ7B,IAAK,CAAE,GAAI8E,GAAaD,EAAM7E,EAAI8E,GAAWjC,WAAaiC,EAAWjC,aAAc,EAAOiC,EAAW/B,cAAe,EAAU,SAAW+B,KAAYA,EAAWhC,UAAW,GAAMJ,OAAOa,eAAeI,EAAQmB,EAAW9D,IAAK8D,IAAiB,MAAO,UAAU7C,EAAa8C,EAAYC,GAAiJ,MAA9HD,IAAYH,EAAiB3C,EAAYQ,UAAWsC,GAAiBC,GAAaJ,EAAiB3C,EAAa+C,GAAqB/C,MAE5hBqM,EAAO,QAAS9K,GAAI+K,EAAQC,EAAUC,GAA2B,OAAXF,IAAiBA,EAASG,SAASjM,UAAW,IAAIkM,GAAOjM,OAAOkM,yBAAyBL,EAAQC,EAAW,IAAapK,SAATuK,EAAoB,CAAE,GAAIE,GAASnM,OAAO2C,eAAekJ,EAAS,OAAe,QAAXM,EAAmB,OAAkCrL,EAAIqL,EAAQL,EAAUC,GAAoB,GAAI,SAAWE,GAAQ,MAAOA,GAAKxN,KAAgB,IAAI2N,GAASH,EAAKnL,GAAK,IAAeY,SAAX0K,EAA4C,MAAOA,GAAO5O,KAAKuO,IgBl6BvdM,EAAQ,QACRC,EAAa,GAAIX,GAAA,EAAK,SAEtBY,GACJ,OACA,OACA,KAGmBC,EhB26BD,SAAUC,GgBx6B5B,QAAAD,KAAenN,EAAA/C,KAAAkQ,EAAA,IAAA9J,GAAAjD,EAAAnD,MAAAkQ,EAAAjM,WAAAP,OAAA2C,eAAA6J,IAAAhP,KAAAlB,MAAA,OAAAoG,GAFfc,KAAO,QAILd,EAAKgK,GAAKjB,EAAAkB,EAASC,iBACjBC,MAAOzI,QAAQ0I,MACfC,OAAQ3I,QAAQ4I,SAJLtK,EhB09Bd,MAjDA9C,GAAU4M,EAAcC,GAgBxBxK,EAAauK,IACXlO,IAAK,SACLG,MAAO,WgBn7BA,GAAAuE,GAAA1G,IACRA,MAAKoQ,GAAGO,SAAS,SAAU,SAACC,GAC1B,MAAIX,GAAcY,SAASD,GAClB9I,QAAQgJ,QAGjBxB,EAAAY,EAAAzM,UAAAQ,WAAAP,OAAA2C,eAAA6J,EAAAzM,WAAA,UAAAiD,GAAAxF,KAAAwF,GACEkC,KAAMgI,EACNzE,QAAS4D,EACTpG,KAAMqG,QAGRtJ,GAAKqK,ehBy7BN/O,IAAK,WACLG,MAAO,SgBt7BA2E,GACRwI,EAAAY,EAAAzM,UAAAQ,WAAAP,OAAA2C,eAAA6J,EAAAzM,WAAA,WAAAzD,MAAAkB,KAAAlB,KAAe8G,GACf9G,KAAK+Q,SACL/Q,KAAKoN,OAASgC,EAAA,EAAQ/B,OAAOa,ahBy7B5BlM,IAAK,sBACLG,MAAO,WgBt7BR,MAAO,YhB27BD+N,GgB79BgCd,EAAA,EhBi+BpB1L,QAAOa,eAAe5E,EAAS,KAAMoE,cAAc,EAAOF,YAAY,EAAMW,IAAK,WAAa,MAAO0L,OAIrH,SAAStQ,EAAQD,EAASkB,GAE/B,YAaA,SAASU,GAAkBC,GAAM,MAAO,YAAc,GAAIC,GAAMD,EAAGE,MAAM1B,KAAM2B,UAAY,OAAO,IAAIC,SAAQ,SAAUC,EAASC,GAAU,QAASC,GAAKC,EAAKC,GAAO,IAAM,GAAIC,GAAOT,EAAIO,GAAKC,GAAUE,EAAQD,EAAKC,MAAS,MAAOC,GAAwB,WAAfN,GAAOM,GAAkB,MAAIF,GAAKG,SAAQR,GAAQM,GAAwBP,QAAQC,QAAQM,GAAOG,KAAK,SAAUH,GAAS,MAAOJ,GAAK,OAAQI,IAAW,SAAUI,GAAO,MAAOR,GAAK,QAASQ,KAAc,MAAOR,GAAK,WAZlb,GAAIiP,GAAuCnQ,EAAoB,IAC3DoQ,EAA+CD,GAAwCA,EAAqC1M,WAAa,WAAa,MAAO0M,GAAqC,YAAe,WAAa,MAAOA,GACzOtN,QAAOa,eAAe0M,EAA8C,KAAOzM,IAAKyM,GAChF,IAAIC,GAAsCrQ,EAAoB,IAC1DsQ,EAA8CD,GAAuCA,EAAoC5M,WAAa,WAAa,MAAO4M,GAAoC,YAAe,WAAa,MAAOA,GACrOxN,QAAOa,eAAe4M,EAA6C,KAAO3M,IAAK2M,GAC/E,IAAIC,GAAyCvQ,EAAoB,IAC7DwQ,EAAiDD,GAA0CA,EAAuC9M,WAAa,WAAa,MAAO8M,GAAuC,YAAe,WAAa,MAAOA,GACjP1N,QAAOa,eAAe8M,EAAgD,KAAO7M,IAAK6M,GAClF,IAAIC,GAA8CzQ,EAAoB,IAClE0Q,EAAsDD,GAA+CA,EAA4ChN,WAAa,WAAa,MAAOgN,GAA4C,YAAe,WAAa,MAAOA,GACrQ5N,QAAOa,eAAegN,EAAqD,KAAO/M,IAAK+M,GiB5/BtG,IAAMC,GAAc,SAAAC,GACzB,MAAO,UAAAC,GACL,IAAKA,EAAO,QACZ,IAAMC,GAAYF,EAAOG,QAAQF,GAC3BG,EAAMC,KAAKC,MAAMJ,EACvB,OAAOE,IALJnO,QAAAa,eAAA5E,EAAA,eAAAoE,cAAA,EAAAF,YAAA,EAAAW,IAAA,iBAAAgN,KASA,IAAMQ,GAAY,SAAAP,GACvB,MAAO,UAAAI,GACL,GAAMH,GAAMI,KAAKG,UAAUJ,GACrBK,EAAYT,EAAOU,QAAQT,EACjC,OAAOQ,IAJJxO,QAAAa,eAAA5E,EAAA,aAAAoE,cAAA,EAAAF,YAAA,EAAAW,IAAA,iBAAAwN,KAQA,IAAMI,GAAO,SAACC,GACnB,MAAO,UAACC,EAAMd,GACZ,MAAO,IAAI5P,SAAQ,SAACC,EAASC,GAC3BuQ,EAASC,GAAMhQ,KAAK,SAAAiQ,GAClB,IACE1Q,EAAQ2P,EAAYe,IACpB,MAAOC,GACP1Q,EAAO0Q,SAPV9O,QAAAa,eAAA5E,EAAA,QAAAoE,cAAA,EAAAF,YAAA,EAAAW,IAAA,iBAAA4N,KAcA,IAAMK,GAAQ,SAAAC,GACnB,MAAO,UAACJ,EAAMT,EAAKG,GACjB,MAAO,IAAIpQ,SAAQ,SAACC,EAASC,GAC3B,IACE,GAAMyQ,GAAOP,EAAUH,EACvBa,GAAUJ,EAAMC,GAAMjQ,KAAKT,EAASC,GACpC,MAAO0Q,GACP1Q,EAAO0Q,OAPR9O,QAAAa,eAAA5E,EAAA,SAAAoE,cAAA,EAAAF,YAAA,EAAAW,IAAA,iBAAAiO,KAaA,IAAME,GAAY,SAACL,GACxB,MAAO,IAAI1Q,SAAQ,SAACC,EAASC,GAC3BuP,EAAAhB,EAAGuC,WAAWN,EAAM,SAAC/P,GACnB,MAAIA,GAAcT,EAAOS,OACzB8O,GAAAhB,EAAGgC,SAASC,EAAM,OAAQ,SAAC/P,EAAKgQ,GAC9B,MAAIhQ,GAAcT,EAAOS,GAClBV,EAAQ0Q,SANhB7O,QAAAa,eAAA5E,EAAA,aAAAoE,cAAA,EAAAF,YAAA,EAAAW,IAAA,iBAAAmO,KAYA,IAAME,GAAa,SAACP,EAAMC,GAC/B,MAAO,IAAI3Q,SAAQ,SAACC,EAASC,GAC3BuP,EAAAhB,EAAGuC,WAAWN,EAAM,SAAC/P,GACnB,MAAIA,GAAcT,EAAOS,OACzB8O,GAAAhB,EAAGqC,UAAUJ,EAAMC,EAAM,OAAQ,SAAChQ,GAChC,MAAIA,GAAcT,EAAOS,GAClBV,EAAQ0Q,SANhB7O,QAAAa,eAAA5E,EAAA,cAAAoE,cAAA,EAAAF,YAAA,EAAAW,IAAA,iBAAAqO,KAYP,IAAAC,GAAA,cAAAxL,GAAA/F,EAAA+G,mBAAAC,KAAO,QAAAC,GAAAjB,GAAA,GAAAkK,GAAAsB,EAAAnI,EAAqB0H,EAArB/K,EAAqB+K,KAAMtQ,EAA3BuF,EAA2BvF,IAA3BgR,EAAAzL,EAAgC8K,WAAhCjN,SAAA4N,EAAyCL,EAAzCK,EAAAC,EAAA1L,EAAoDmL,YAApDtN,SAAA6N,EAA8DJ,EAA9DI,CAAA,OAAA3K,oBAAAY,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAA1D,MAAA,aACCgM,GAAS,GAAIR,GAAAZ,EAAOrO,GAAOkF,MAC3B6L,EAAST,aAAkBpL,KAAlB,QAFViC,EAAA1D,KAAA,EAIY,GAAI0L,GAAAd,EAAI0C,GACvBG,SACEd,KAAMA,EAAKC,GACXI,MAAOA,EAAMC,IAEfS,QACE3B,YAAaA,EAAYC,GACzBO,UAAWA,EAAUP,KAXpB,cAIC7G,GAJDzB,EAAAU,KAeLe,EAAGwI,EAAEC,MAAM9B,EAAAlB,GAfNlH,EAAAI,OAAA,SAgBEqB,EAhBF,wBAAAzB,GAAAa,SAAAxB,EAAAxI,QAAP,iBAAAgI,GAAA,MAAAV,GAAA5F,MAAA1B,KAAA2B,cjBkkCsB+B,QAAOa,eAAe5E,EAAS,MAAOoE,cAAc,EAAOF,YAAY,EAAMW,IAAK,WAAa,MAAOsO,OAItH,SAASlT,EAAQD,EAASkB,GAE/B,YA4BA,SAASkC,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCA3B3F,GAAIoQ,GAA8CzS,EAAoB,IAClE0S,EAAsDD,GAA+CA,EAA4ChP,WAAa,WAAa,MAAOgP,GAA4C,YAAe,WAAa,MAAOA,GACrQ5P,QAAOa,eAAegP,EAAqD,KAAO/O,IAAK+O,GACvF,IAAIC,GAAoC3S,EAAoB,IACxD4S,EAA4CD,GAAqCA,EAAkClP,WAAa,WAAa,MAAOkP,GAAkC,YAAe,WAAa,MAAOA,GAC7N9P,QAAOa,eAAekP,EAA2C,KAAOjP,IAAKiP,GAC7E,IAAIC,GAA2C7S,EAAoB,IAC/D8S,EAAmDD,GAA4CA,EAAyCpP,WAAa,WAAa,MAAOoP,GAAyC,YAAe,WAAa,MAAOA,GACzPhQ,QAAOa,eAAeoP,EAAkD,KAAOnP,IAAKmP,GACpF,IAAIC,GAA0D/S,EAAoB,IAC9EgT,EAAkED,GAA2DA,EAAwDtP,WAAa,WAAa,MAAOsP,GAAwD,YAAe,WAAa,MAAOA,GACrTlQ,QAAOa,eAAesP,EAAiE,KAAOrP,IAAKqP,GACnG,IAAIC,GAAiDjT,EAAoB,GACrEkT,EAAoClT,EAAoB,GACxDmT,EAA0CnT,EAAoB,IAC9DoT,EAA0CpT,EAAoB,IAC9DqT,EAAyCrT,EAAoB,IAC7DsT,EAAsCtT,EAAoB,EAClD,KAAI,GAAIkL,KAA0BiI,IAA6C,SAAS,OAAO,YAAY,WAAWI,QAAQrI,GAA0B,GAAI,SAAS/J,GAAO0B,OAAOa,eAAe5E,EAASqC,GAAM+B,cAAc,EAAOF,YAAY,EAAMW,IAAK,WAAa,MAAOwP,GAAwChS,OAAY+J,EACrU,KAAI,GAAIA,KAA0BkI,IAA6C,SAAS,OAAO,YAAY,WAAWG,QAAQrI,GAA0B,GAAI,SAAS/J,GAAO0B,OAAOa,eAAe5E,EAASqC,GAAM+B,cAAc,EAAOF,YAAY,EAAMW,IAAK,WAAa,MAAOyP,GAAwCjS,OAAY+J,EACrU,KAAI,GAAIA,KAA0BmI,IAA4C,SAAS,OAAO,YAAY,WAAWE,QAAQrI,GAA0B,GAAI,SAAS/J,GAAO0B,OAAOa,eAAe5E,EAASqC,GAAM+B,cAAc,EAAOF,YAAY,EAAMW,IAAK,WAAa,MAAO0P,GAAuClS,OAAY+J,EACnU,KAAI,GAAIA,KAA0BgI,IAAuC,SAAS,OAAO,YAAY,WAAWK,QAAQrI,GAA0B,GAAI,SAAS/J,GAAO0B,OAAOa,eAAe5E,EAASqC,GAAM+B,cAAc,EAAOF,YAAY,EAAMW,IAAK,WAAa,MAAOuP,GAAkC/R,OAAY+J,EAChUrI,QAAOD,UAAUoB,eAAe3D,KAAKiT,EAAqC,MAAMzQ,OAAOa,eAAe5E,EAAS,QAASoE,cAAc,EAAOF,YAAY,EAAMW,IAAK,WAAa,MAAO2P,GAAuC,IACzP,IAEInH,GAAQC,EAAOoH,EAFf1O,EAAe,WAAc,QAASC,GAAiBjB,EAAQkB,GAAS,IAAK,GAAI7E,GAAI,EAAGA,EAAI6E,EAAMhD,OAAQ7B,IAAK,CAAE,GAAI8E,GAAaD,EAAM7E,EAAI8E,GAAWjC,WAAaiC,EAAWjC,aAAc,EAAOiC,EAAW/B,cAAe,EAAU,SAAW+B,KAAYA,EAAWhC,UAAW,GAAMJ,OAAOa,eAAeI,EAAQmB,EAAW9D,IAAK8D,IAAiB,MAAO,UAAU7C,EAAa8C,EAAYC,GAAiJ,MAA9HD,IAAYH,EAAiB3C,EAAYQ,UAAWsC,GAAiBC,GAAaJ,EAAiB3C,EAAa+C,GAAqB/C,KkBrqCjiB4Q,GAAAxD,EAAKzO,QAAUA,OAIf,IAAM0S,GAAOT,EAAAxD,EAAKkE,MAAMZ,EAAAtD,GAIXmE,GAAbvH,EAAAD,EAAA,WAIE,QAAAwH,GAAatN,GAAkB,GAAZqE,GAAY5J,UAAAkB,QAAA,GAAAuC,SAAAzD,UAAA,MAAAA,UAAA,EAAAoB,GAAA/C,KAAAwU,GAAAH,EAAAnT,KAAAlB,MAC7BA,KAAKkH,KAAOA,EACZlH,KAAKmH,MAAQoE,EAAQpE,MACrBnH,KAAK0H,QAAU,GAAI6L,GAAAlD,EACnBrQ,KAAKsU,KAAOA,EACZtU,KAAK+K,mBAAqBQ,EAAQR,mBAElC/K,KAAKyU,QAAQlJ,EAAQmJ,UAAYjB,EAAApD,EAAIsE,SACrC3U,KAAK4U,aAAarJ,EAAQkD,UAC1BzO,KAAK6U,YAAYtJ,EAAQyD,QAEzB,IAAM+D,GAASxH,EAAQwH,QAAR,UAA4B7L,EAA5B,OACflH,MAAK8U,OAAOvJ,EAAQvJ,IAAK+Q,EAAQxH,EAAQ8G,SAAU9G,EAAQmH,WAhB/D,MAAA/M,GAAA6O,IAAAxS,IAAA,YAAAG,MAAA,SAmEa4S,GACTA,EAAOC,SAAShV,MAChBA,KAAKgP,QAAQtJ,KAAKqP,MArEtB/S,IAAA,aAAAG,MAAA,SAwEciK,GACV,GAAMlF,GAAOkF,EAAQlF,IAEjBlH,MAAKiV,iBAAiB/N,IACxBlH,KAAKgO,IAAIkH,QAAT,aAA8BhO,EAA9B,gCAGFkF,EAAQ4I,SAAShV,MACjBA,KAAKyO,SAASrC,EAAQxC,IAAMwC,KAhFhCpK,IAAA,wBAAAG,MAAA,SAmFyByG,GAQrB,MANEA,GAAKuM,MAAM,EAAGnV,KAAKkH,KAAKrE,QAAQuS,gBAAkBpV,KAAKkH,KAAKkO,eAC5DxM,EAAKuM,MAAM,EAAGnV,KAAKmH,MAAMtE,QAAQuS,gBAAkBpV,KAAKmH,MAAMiO,gBAE9DxM,EAAU5I,KAAKkH,KAAf,IAAuB0B,GAGlBA,KA3FX5G,IAAA,OAAAG,MAAA,SA8FQyF,GACJ,GAAKA,EAAQgB,KAAb,CACA,GAAMwD,GAAUpM,KAAKqV,oBAAoBzN,EAEzC,OAAKwE,OAKLA,GAAQrC,KAAKnC,OAJX5H,MAAK8G,IAAIkH,IAAIkH,QAAb,sCAA2DtN,EAAQwE,aAnGzEpK,IAAA,sBAAAG,MAAA,SA0GuByF,GACnB,MAAO5H,MAAKyO,SAAS7G,EAAQwE,YA3GjCpK,IAAA,mBAAAG,MAAA,SA8GoB+E,GAAM,GAAAd,GAAApG,IACtB,OAAO0D,QACEoH,KAAK9K,KAAKyO,UACV9H,IAAI,SAAAiD,GAAA,MAAMxD,GAAKqI,SAAS7E,KACxB0L,KAAK,SAAAjF,GAAA,MAAKA,GAAEnJ,KAAKkO,gBAAkBlO,EAAKkO,oBAlHrDZ,KAAAH,EAAA,cAAA3N,GAAA1G,UACEgP,WADFhP,KAEEyO,YAFFzO,KAmBE4U,aAAe,WAAiB,GAAhBnG,GAAgB9M,UAAAkB,QAAA,GAAAuC,SAAAzD,UAAA,MAAAA,UAAA,EAC9B8M,GAASpH,QAAQ,SAAAgJ,GAAA,MAAK3J,GAAK6O,WAAWlF,MApB1CrQ,KAuBE6U,YAAc,WAAgB,GAAf7F,GAAerN,UAAAkB,QAAA,GAAAuC,SAAAzD,UAAA,MAAAA,UAAA,EAC5BqN,GAAQ3H,QAAQ,SAAAhG,GACdqF,EAAK8O,UAAUnU,GAIXA,YAAayS,GAAA,cACfpN,EAAKgE,gBAAiB,MA9B9B1K,KAmCEyU,QAAU,SAACC,GACT,GAAM1G,GAAM,GAAIyF,GAAApD,EAAIqE,GAAYjB,EAAApD,EAAIsE,QACpCjO,GAAKsH,IAAMA,EACXtH,EAAKgO,SAAWA,EAEZA,IAAajB,EAAApD,EAAIoF,OACnBC,YAAYhP,EAAKiP,WAAY,MAzCnC3V,KA6CE8U,OAAS,SAAC9S,EAAK+Q,EAAQV,EAAUK,GAC/B,MAAK1Q,OAKL+R,GAAA,GAAAtM,QACEzF,MACAqQ,WACAK,YACAJ,KAAMS,EACNrL,QAAShB,EAAKgB,UACbpF,KAAK,SAACsI,GACPlE,EAAKkE,GAAKA,EACVlE,EAAKgB,QAAQ8F,KAAK,WAAY5C,IAC7BlE,EAAKsH,IAAI4H,cAbVlP,GAAKsH,IAAI4H,SAAS,uEA/CxB5V,KA+DE2V,WAAa,WACXjP,EAAKsH,IAAI6H,MAAM/N,QAAQgO,cAAehO,QAAQiO,cAhElD9I,EAAAvJ,QAAAa,eAAA5E,EAAA,UAAAoE,cAAA,EAAAF,YAAA,EAAAW,IAAA,iBAAAgQ,KA2HO,IAAMwB,GAAYvC,EAAApD,ClB2sCH3M,QAAOa,eAAe5E,EAAS,aAAcoE,cAAc,EAAOF,YAAY,EAAMW,IAAK,WAAa,MAAOwR,OAI7H,SAASpW,EAAQD,EAASkB,GAE/B,YAEA,SAASkC,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAMlC,GAAQ,IAAKkC,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAOnC,GAAyB,gBAATA,IAAqC,kBAATA,GAA8BkC,EAAPlC,EAElO,QAASoC,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIN,WAAU,iEAAoEM,GAAeD,GAASE,UAAYC,OAAOC,OAAOH,GAAcA,EAAWC,WAAaG,aAAezB,MAAOoB,EAAUM,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeP,IAAYE,OAAOM,eAAiBN,OAAOM,eAAeT,EAAUC,GAAcD,EAASU,UAAYT,GAL5c,GAAIU,GAAwCrD,EAAoB,GmBv1CjEoV,EnBg2CF,SAAU9P,GAG1B,QAAS8P,KAGP,MAFAlT,GAAgB/C,KAAMiW,GAEf9S,EAA2BnD,MAAOiW,EAAYhS,WAAaP,OAAO2C,eAAe4P,IAAcvU,MAAM1B,KAAM2B,YAGpH,MARA2B,GAAU2S,EAAa9P,GAQhB8P,GmBz2C+B/R,EAAA,EnB62CnBR,QAAOa,eAAe5E,EAAS,KAAMoE,cAAc,EAAOF,YAAY,EAAMW,IAAK,WAAa,MAAOyR,OAIrH,SAASrW,EAAQD,EAASkB,GAE/B,YAEA,SAASkC,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAMlC,GAAQ,IAAKkC,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAOnC,GAAyB,gBAATA,IAAqC,kBAATA,GAA8BkC,EAAPlC,EAElO,QAASoC,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIN,WAAU,iEAAoEM,GAAeD,GAASE,UAAYC,OAAOC,OAAOH,GAAcA,EAAWC,WAAaG,aAAezB,MAAOoB,EAAUM,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeP,IAAYE,OAAOM,eAAiBN,OAAOM,eAAeT,EAAUC,GAAcD,EAASU,UAAYT,GAL5c,GAAIU,GAAwCrD,EAAoB,GoBp3CjEqV,EpB63CH,SAAU/P,GAGzB,QAAS+P,KAGP,MAFAnT,GAAgB/C,KAAMkW,GAEf/S,EAA2BnD,MAAOkW,EAAWjS,WAAaP,OAAO2C,eAAe6P,IAAaxU,MAAM1B,KAAM2B,YAGlH,MARA2B,GAAU4S,EAAY/P,GAQf+P,GoBt4C8BhS,EAAA,EpB04ClBR,QAAOa,eAAe5E,EAAS,KAAMoE,cAAc,EAAOF,YAAY,EAAMW,IAAK,WAAa,MAAO0R,OAIrH,SAAStW,EAAQD,EAASkB,GAE/B,YAMA,SAASkC,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAMlC,GAAQ,IAAKkC,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAOnC,GAAyB,gBAATA,IAAqC,kBAATA,GAA8BkC,EAAPlC,EAElO,QAASoC,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIN,WAAU,iEAAoEM,GAAeD,GAASE,UAAYC,OAAOC,OAAOH,GAAcA,EAAWC,WAAaG,aAAezB,MAAOoB,EAAUM,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeP,IAAYE,OAAOM,eAAiBN,OAAOM,eAAeT,EAAUC,GAAcD,EAASU,UAAYT,GAEje,QAAS2S,GAA0BxR,EAAQ6K,EAAU4G,EAAYtQ,EAAYuQ,GAC3E,GAAI1G,KAyBJ,OAxBAjM,QAAkB,KAAEoC,GAAYuB,QAAQ,SAAUrF,GAChD2N,EAAK3N,GAAO8D,EAAW9D,KAEzB2N,EAAK9L,aAAe8L,EAAK9L,WACzB8L,EAAK5L,eAAiB4L,EAAK5L,cAEvB,SAAW4L,IAAQA,EAAK2G,eAC1B3G,EAAK7L,UAAW,GAGlB6L,EAAOyG,EAAWjB,QAAQoB,UAAUC,OAAO,SAAU7G,EAAM8G,GACzD,MAAOA,GAAU9R,EAAQ6K,EAAUG,IAASA,GAC3CA,GAEC0G,GAAgC,SAArB1G,EAAK2G,cAClB3G,EAAKxN,MAAQwN,EAAK2G,YAAc3G,EAAK2G,YAAYpV,KAAKmV,GAAW,OACjE1G,EAAK2G,YAAclR,QAGI,SAArBuK,EAAK2G,cACP5S,OAA4B,eAAEiB,EAAQ6K,EAAUG,GAChDA,EAAO,MAGFA,EArCY,GAGjB+G,GAAMC,EAAOC,EAAOC,EAAOC,EAAOC,EAAsB/J,EAHnCgK,EAAsCnW,EAAoB,GAC/E8E,EAAe,WAAc,QAASC,GAAiBjB,EAAQkB,GAAS,IAAK,GAAI7E,GAAI,EAAGA,EAAI6E,EAAMhD,OAAQ7B,IAAK,CAAE,GAAI8E,GAAaD,EAAM7E,EAAI8E,GAAWjC,WAAaiC,EAAWjC,aAAc,EAAOiC,EAAW/B,cAAe,EAAU,SAAW+B,KAAYA,EAAWhC,UAAW,GAAMJ,OAAOa,eAAeI,EAAQmB,EAAW9D,IAAK8D,IAAiB,MAAO,UAAU7C,EAAa8C,EAAYC,GAAiJ,MAA9HD,IAAYH,EAAiB3C,EAAYQ,UAAWsC,GAAiBC,GAAaJ,EAAiB3C,EAAa+C,GAAqB/C,MqBl5C3hBgU,GACJ,KACA,QACA,MACA,YACA,KACA,OAGIC,GACJ,UACA,UACA,MACA,QACA,SACA,OAGIC,EAAc,SAAChW,GAAD,MAAO8V,GAAUpG,SAAS1P,EAAEyH,KAAKwM,gBAC/CgC,EAAiB,SAACjW,GAAD,MAAO+V,GAAUrG,SAAS1P,EAAEyH,KAAKwM,gBAE3CiC,GAAbX,EAGGM,EAAA,EAAAvP,OAAK,+CAHRkP,EAIGK,EAAA,EAAAvP,OAAgB,aAJnBmP,EAKGI,EAAA,EAAAvP,OAAO0P,GALVN,EAWGG,EAAA,EAAAvP,OAAK,6BAXRqP,EAYGE,EAAA,EAAAvP,OAAgB,aAZnBsP,EAaGC,EAAA,EAAAvP,OAAO2P,GAbVpK,EAAA,SAAAsK,GAAA,QAAAD,KAAA,GAAA/P,GAAA2F,EAAA7G,EAAAmR,CAAAxU,GAAA/C,KAAAqX,EAAA,QAAAG,GAAA7V,UAAAkB,OAAA2E,EAAA9E,MAAA8U,GAAAC,EAAA,EAAAD,EAAAC,MAAAjQ,EAAAiQ,GAAA9V,UAAA8V,EAAA,OAAAxK,GAAA7G,EAAAjD,EAAAnD,MAAAsH,EAAA+P,EAAApT,WAAAP,OAAA2C,eAAAgR,IAAAnW,KAAAQ,MAAA4F,GAAAtH,MAAA+H,OAAAP,KAAApB,EACEc,KAAO,WADTqQ,EAAAtK,EAAA9J,EAAAiD,EAAAmR,GAAA,MAAAjU,GAAA+T,EAAAC,GAAA3R,EAAA0R,IAAArV,IAAA,WAAAG,MAAA,SAMYiR,EAAGxL,GACX,GAAM8P,GAAiBT,EAAUU,SAASC,KAAKC,SAAWZ,EAAUpU,QACpE,OAAU6U,GAAV,KAA6B9P,EAAQ+B,KAAKzC,KAA1C,OARJlF,IAAA,WAAAG,MAAA,SAcYiR,EAAGxL,GACX,GAAMkQ,GAAiBZ,EAAUS,SAASC,KAAKC,SAAWX,EAAUrU,QACpE,OAAUiV,GAAV,KAA6BlQ,EAAQ+B,KAAKzC,KAA1C,QAhBJmQ,GAA+BL,EAAA,GAA/Bb,EAAAnJ,EAAAvJ,UAAA,YAAAiT,EAAAC,EAAAC,GAAAlT,OAAAkM,yBAAA5C,EAAAvJ,UAAA,YAAAuJ,EAAAvJ,WAAA0S,EAAAnJ,EAAAvJ,UAAA,YAAAoT,EAAAC,EAAAC,GAAArT,OAAAkM,yBAAA5C,EAAAvJ,UAAA,YAAAuJ,EAAAvJ,WAAAuJ,ErBk9CsBtJ,QAAOa,eAAe5E,EAAS,KAAMoE,cAAc,EAAOF,YAAY,EAAMW,IAAK,WAAa,MAAO6S,OAIrH,SAASzX,EAAQD,EAASkB,GAE/B,YAQA,SAASkC,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAMlC,GAAQ,IAAKkC,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAOnC,GAAyB,gBAATA,IAAqC,kBAATA,GAA8BkC,EAAPlC,EAElO,QAASoC,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIN,WAAU,iEAAoEM,GAAeD,GAASE,UAAYC,OAAOC,OAAOH,GAAcA,EAAWC,WAAaG,aAAezB,MAAOoB,EAAUM,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeP,IAAYE,OAAOM,eAAiBN,OAAOM,eAAeT,EAAUC,GAAcD,EAASU,UAAYT,GAEje,QAAS2S,GAA0BxR,EAAQ6K,EAAU4G,EAAYtQ,EAAYuQ,GAC3E,GAAI1G,KAyBJ,OAxBAjM,QAAkB,KAAEoC,GAAYuB,QAAQ,SAAUrF,GAChD2N,EAAK3N,GAAO8D,EAAW9D,KAEzB2N,EAAK9L,aAAe8L,EAAK9L,WACzB8L,EAAK5L,eAAiB4L,EAAK5L,cAEvB,SAAW4L,IAAQA,EAAK2G,eAC1B3G,EAAK7L,UAAW,GAGlB6L,EAAOyG,EAAWjB,QAAQoB,UAAUC,OAAO,SAAU7G,EAAM8G,GACzD,MAAOA,GAAU9R,EAAQ6K,EAAUG,IAASA,GAC3CA,GAEC0G,GAAgC,SAArB1G,EAAK2G,cAClB3G,EAAKxN,MAAQwN,EAAK2G,YAAc3G,EAAK2G,YAAYpV,KAAKmV,GAAW,OACjE1G,EAAK2G,YAAclR,QAGI,SAArBuK,EAAK2G,cACP5S,OAA4B,eAAEiB,EAAQ6K,EAAUG,GAChDA,EAAO,MAGFA,EAvCY,GAKjB+G,GAAMC,EAAOC,EAAOC,EAAOC,EAAOC,EAAsB/J,EALnCgK,EAAsCnW,EAAoB,GAC/EiE,EAAiB,WAAc,QAASC,GAActC,EAAKzB,GAAK,GAAIgE,MAAeC,GAAK,EAAUC,GAAK,EAAWC,EAAKC,MAAW,KAAM,IAAK,GAAiCC,GAA7BC,EAAK7C,EAAI8C,OAAOC,cAAmBP,GAAMI,EAAKC,EAAGG,QAAQpD,QAAoB2C,EAAKU,KAAKL,EAAGlD,QAAYnB,GAAKgE,EAAKnC,SAAW7B,GAA3DiE,GAAK,IAAoE,MAAO1C,GAAO2C,GAAK;AAAMC,EAAK5C,EAAO,QAAU,KAAW0C,GAAMK,EAAG,WAAWA,EAAG,YAAe,QAAU,GAAIJ,EAAI,KAAMC,IAAQ,MAAOH,GAAQ,MAAO,UAAUvC,EAAKzB,GAAK,GAAI0B,MAAMC,QAAQF,GAAQ,MAAOA,EAAY,IAAI8C,OAAOC,WAAY9B,QAAOjB,GAAQ,MAAOsC,GAActC,EAAKzB,EAAa,MAAM,IAAIkC,WAAU,4DAEllByC,EAAe,WAAc,QAASC,GAAiBjB,EAAQkB,GAAS,IAAK,GAAI7E,GAAI,EAAGA,EAAI6E,EAAMhD,OAAQ7B,IAAK,CAAE,GAAI8E,GAAaD,EAAM7E,EAAI8E,GAAWjC,WAAaiC,EAAWjC,aAAc,EAAOiC,EAAW/B,cAAe,EAAU,SAAW+B,KAAYA,EAAWhC,UAAW,GAAMJ,OAAOa,eAAeI,EAAQmB,EAAW9D,IAAK8D,IAAiB,MAAO,UAAU7C,EAAa8C,EAAYC,GAAiJ,MAA9HD,IAAYH,EAAiB3C,EAAYQ,UAAWsC,GAAiBC,GAAaJ,EAAiB3C,EAAa+C,GAAqB/C,MsBj/CphB8U,GAAbrB,EAGGM,EAAA,EAAAvP,OAAK,4BAHRkP,EAIGK,EAAA,EAAAvP,OAAgB,QAJnBmP,EAKGI,EAAA,EAAAvP,OAAQ,WALXoP,EAaGG,EAAA,EAAAvP,OAAK,8DAbRqP,EAcGE,EAAA,EAAAvP,OAAgB,QAdnBsP,EAeGC,EAAA,EAAAvP,OAAQ,iBAfXuF,EAAA,SAAAsK,GAAA,QAAAS,KAAA,GAAAzQ,GAAA2F,EAAA7G,EAAAmR,CAAAxU,GAAA/C,KAAA+X,EAAA,QAAAP,GAAA7V,UAAAkB,OAAA2E,EAAA9E,MAAA8U,GAAAC,EAAA,EAAAD,EAAAC,MAAAjQ,EAAAiQ,GAAA9V,UAAA8V,EAAA,OAAAxK,GAAA7G,EAAAjD,EAAAnD,MAAAsH,EAAAyQ,EAAA9T,WAAAP,OAAA2C,eAAA0R,IAAA7W,KAAAQ,MAAA4F,GAAAtH,MAAA+H,OAAAP,KAAApB,EACEc,KAAO,OADTqQ,EAAAtK,EAAA9J,EAAAiD,EAAAmR,GAAA,MAAAjU,GAAAyU,EAAAT,GAAA3R,EAAAoS,IAAA/V,IAAA,aAAAG,MAAA,WAOI,MAAOnC,MAAK8G,IAAIkI,QACCgJ,OAAO,SAAA3W,GAAA,MAAKA,GAAEoF,MAAQpF,EAAEoF,KAAK5D,OAAS,IACtC8D,IAAI,SAAAtF,GAAA,MAAKA,GAAE4W,WAAWC,KAAK,WAC3BA,KAAK,SAV1BlW,IAAA,mBAAAG,MAAA,SAAAoF,GAgBgC,GAAAc,GAAAvD,EAAAyC,EAAA,GAAT4Q,EAAS9P,EAAA,EAC5B,OAAOrI,MAAK8G,IAAIkI,QACCgJ,OAAO,SAAA3W,GAAA,MAAKA,GAAEoF,MAAQpF,EAAEoF,KAAK5D,OAAS,IACtC8D,IAAI,SAAAtF,GACH,MAAOA,GAAE4W,WAAWD,OAAO,SAAAlO,GACzB,MAAOA,GAAEsL,cAAchB,QAAQ+D,EAAO/C,eAAiB,KACtD8C,KAAK,WAETA,KAAK,UAxB1BH,GAA0Bf,EAAA,GAA1Bb,EAAAnJ,EAAAvJ,UAAA,cAAAiT,EAAAC,EAAAC,GAAAlT,OAAAkM,yBAAA5C,EAAAvJ,UAAA,cAAAuJ,EAAAvJ,WAAA0S,EAAAnJ,EAAAvJ,UAAA,oBAAAoT,EAAAC,EAAAC,GAAArT,OAAAkM,yBAAA5C,EAAAvJ,UAAA,oBAAAuJ,EAAAvJ,WAAAuJ,EtBukDsBtJ,QAAOa,eAAe5E,EAAS,KAAMoE,cAAc,EAAOF,YAAY,EAAMW,IAAK,WAAa,MAAOuT,OAIrH,SAASnY,EAAQD,EAASkB,GAE/B,YAUA,SAASU,GAAkBC,GAAM,MAAO,YAAc,GAAIC,GAAMD,EAAGE,MAAM1B,KAAM2B,UAAY,OAAO,IAAIC,SAAQ,SAAUC,EAASC,GAAU,QAASC,GAAKC,EAAKC,GAAO,IAAM,GAAIC,GAAOT,EAAIO,GAAKC,GAAUE,EAAQD,EAAKC,MAAS,MAAOC,GAAwB,WAAfN,GAAOM,GAAkB,MAAIF,GAAKG,SAAQR,GAAQM,GAAwBP,QAAQC,QAAQM,GAAOG,KAAK,SAAUH,GAAS,MAAOJ,GAAK,OAAQI,IAAW,SAAUI,GAAO,MAAOR,GAAK,QAASQ,KAAc,MAAOR,GAAK,WAEvc,QAASgB,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAMlC,GAAQ,IAAKkC,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAOnC,GAAyB,gBAATA,IAAqC,kBAATA,GAA8BkC,EAAPlC,EAElO,QAASoC,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIN,WAAU,iEAAoEM,GAAeD,GAASE,UAAYC,OAAOC,OAAOH,GAAcA,EAAWC,WAAaG,aAAezB,MAAOoB,EAAUM,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeP,IAAYE,OAAOM,eAAiBN,OAAOM,eAAeT,EAAUC,GAAcD,EAASU,UAAYT,GAEje,QAAS2S,GAA0BxR,EAAQ6K,EAAU4G,EAAYtQ,EAAYuQ,GAC3E,GAAI1G,KAyBJ,OAxBAjM,QAAkB,KAAEoC,GAAYuB,QAAQ,SAAUrF,GAChD2N,EAAK3N,GAAO8D,EAAW9D,KAEzB2N,EAAK9L,aAAe8L,EAAK9L,WACzB8L,EAAK5L,eAAiB4L,EAAK5L,cAEvB,SAAW4L,IAAQA,EAAK2G,eAC1B3G,EAAK7L,UAAW,GAGlB6L,EAAOyG,EAAWjB,QAAQoB,UAAUC,OAAO,SAAU7G,EAAM8G,GACzD,MAAOA,GAAU9R,EAAQ6K,EAAUG,IAASA,GAC3CA,GAEC0G,GAAgC,SAArB1G,EAAK2G,cAClB3G,EAAKxN,MAAQwN,EAAK2G,YAAc3G,EAAK2G,YAAYpV,KAAKmV,GAAW,OACjE1G,EAAK2G,YAAclR,QAGI,SAArBuK,EAAK2G,cACP5S,OAA4B,eAAEiB,EAAQ6K,EAAUG,GAChDA,EAAO,MAGFA,EA3CY,GAOjB+G,GAAMC,EAAOC,EAAOC,EAAOC,EAAOC,EAAOqB,EAAOC,EAAOC,EAAOC,EAAQC,EAAQC,EAAQC,EAAQC,EAAQC,EAAQC,EAAQC,EAAQC,EAAQC,EAAQC,EAAQC,EAAuBlM,EAAQmM,EAASlM,EAPzK+J,EAAsCnW,EAAoB,GAC/EiE,EAAiB,WAAc,QAASC,GAActC,EAAKzB,GAAK,GAAIgE,MAAeC,GAAK,EAAUC,GAAK,EAAWC,EAAKC,MAAW,KAAM,IAAK,GAAiCC,GAA7BC,EAAK7C,EAAI8C,OAAOC,cAAmBP,GAAMI,EAAKC,EAAGG,QAAQpD,QAAoB2C,EAAKU,KAAKL,EAAGlD,QAAYnB,GAAKgE,EAAKnC,SAAW7B,GAA3DiE,GAAK,IAAoE,MAAO1C,GAAO2C,GAAK,EAAMC,EAAK5C,EAAO,QAAU,KAAW0C,GAAMK,EAAG,WAAWA,EAAG,YAAe,QAAU,GAAIJ,EAAI,KAAMC,IAAQ,MAAOH,GAAQ,MAAO,UAAUvC,EAAKzB,GAAK,GAAI0B,MAAMC,QAAQF,GAAQ,MAAOA,EAAY,IAAI8C,OAAOC,WAAY9B,QAAOjB,GAAQ,MAAOsC,GAActC,EAAKzB,EAAa,MAAM,IAAIkC,WAAU,4DAEllByC,EAAe,WAAc,QAASC,GAAiBjB,EAAQkB,GAAS,IAAK,GAAI7E,GAAI,EAAGA,EAAI6E,EAAMhD,OAAQ7B,IAAK,CAAE,GAAI8E,GAAaD,EAAM7E,EAAI8E,GAAWjC,WAAaiC,EAAWjC,aAAc,EAAOiC,EAAW/B,cAAe,EAAU,SAAW+B,KAAYA,EAAWhC,UAAW,GAAMJ,OAAOa,eAAeI,EAAQmB,EAAW9D,IAAK8D,IAAiB,MAAO,UAAU7C,EAAa8C,EAAYC,GAAiJ,MAA9HD,IAAYH,EAAiB3C,EAAYQ,UAAWsC,GAAiBC,GAAaJ,EAAiB3C,EAAa+C,GAAqB/C,MAE5hBqM,EAAO,QAAS9K,GAAI+K,EAAQC,EAAUC,GAA2B,OAAXF,IAAiBA,EAASG,SAASjM,UAAW,IAAIkM,GAAOjM,OAAOkM,yBAAyBL,EAAQC,EAAW,IAAapK,SAATuK,EAAoB,CAAE,GAAIE,GAASnM,OAAO2C,eAAekJ,EAAS,OAAe,QAAXM,EAAmB,OAAkCrL,EAAIqL,EAAQL,EAAUC,GAAoB,GAAI,SAAWE,GAAQ,MAAOA,GAAKxN,KAAgB,IAAI2N,GAASH,EAAKnL,GAAK,IAAeY,SAAX0K,EAA4C,MAAOA,GAAO5O,KAAKuO,IuBnlDhd2J,GAAb1C,EAwBGM,EAAA,EAAAvP,OAAK,6EAxBRkP,EAyBGK,EAAA,EAAAvP,OAAgB,UAzBnBmP,EA0BGI,EAAA,EAAAvP,OAAQ,wCA1BXoP,EAuCGG,EAAA,EAAAvP,OAAK,+DAvCRqP,EAwCGE,EAAA,EAAAvP,OAAgB,mBAxCnBsP,EAyCGC,EAAA,EAAAvP,OAAQ,uCAzCX2Q,EAyDGpB,EAAA,EAAAvP,OAAK,+DAzDR4Q,EA0DGrB,EAAA,EAAAvP,OAAgB,mBA1DnB6Q,EA2DGtB,EAAA,EAAAvP,OAAQ,kCA3DX8Q,EAyEGvB,EAAA,EAAAvP,OAAK,uEAzER+Q,EA0EGxB,EAAA,EAAAvP,OAAgB,mBA1EnBgR,EA2EGzB,EAAA,EAAAvP,OAAQ,0CA3EXiR,EA6FG1B,EAAA,EAAAvP,OAAK,uFA7FRkR,EA8FG3B,EAAA,EAAAvP,OAAgB,mBA9FnBmR,EA+FG5B,EAAA,EAAAvP,OAAQ,uCA/FXoR,EAyGG7B,EAAA,EAAAvP,OAAK,2FAzGRqR,EA0GG9B,EAAA,EAAAvP,OAAgB,mBA1GnBsR,EA2GG/B,EAAA,EAAAvP,OAAQ,0CA3GXuR,EAuHGhC,EAAA,EAAAvP,OACC,8GAxHJwR,EA2HGjC,EAAA,EAAAvP,OAAgB,mBA3HnByR,EA4HGlC,EAAA,EAAAvP,OAAQ,mCA5HXwF,EAAAkM,EAAA,SAAA7B,GAQE,QAAA8B,GAAa7N,GAASxI,EAAA/C,KAAAoZ,EAAA,IAAAhT,GAAAjD,EAAAnD,MAAAoZ,EAAAnV,WAAAP,OAAA2C,eAAA+S,IAAA1X,MAAA1B,KACX2B,WADW,OAAAyE,GAPtBc,KAAO,cAOed,EANtBuF,iBAAoB0N,gBASd9N,IACFnF,EAAKkT,cAAgB/N,EAAQ+N,eAJXlT,EARxB,MAAA9C,GAAA8V,EAAA9B,GAAA3R,EAAAyT,IAAApX,IAAA,WAAAG,MAAA,SAgBY2E,GACRwI,EAAA8J,EAAA3V,UAAAQ,WAAAP,OAAA2C,eAAA+S,EAAA3V,WAAA,WAAAzD,MAAAkB,KAAAlB,KAAe8G,GAEV9G,KAAKsZ,eACRxS,EAAIkH,IAAI5L,MAAM,sDApBpBJ,IAAA,QAAAG,MAAA,mBAAA0I,GAAA7C,EAAAC,GAAA,MAAAX,GAAA5F,MAAA1B,KAAA2B,WAAA,GAAA2F,GAAA/F,EAAA+G,mBAAAC,KAAA,QAAAC,GAAAjB,EA2BkCK,GA3BlC,GAAAgC,GAAAvB,EAAAvD,EAAAyC,EAAA,GA2BkB+R,EA3BlBjR,EAAA,SAAAC,oBAAAY,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAA1D,MAAA,aAAA0D,GAAA1D,KAAA,EA4BUzF,KAAK2K,qBA5Bf,YA+BQ3K,KAAKsZ,eAAiBA,IAAkBtZ,KAAKsZ,cA/BrD,CAAAnQ,EAAA1D,KAAA,cAgCYmE,GAAKwP,EAAYG,SAAS3R,EAAQ+B,KAAKC,IAC7C5J,KAAK8G,IAAI8D,GAAGiB,IAAZ,qBAAqCjC,EAArC,gBAAuD,GAAMzH,QAC7DnC,KAAK8G,IAAI8D,GAAG6H,QAlClBtJ,EAAAI,OAAA,SAmCa,4BAnCb,wBAAAJ,GAAAa,SAAAxB,EAAAxI,QAAA,OAAA6K,QAAA7I,IAAA,gBAAAG,MAAA,mBAAAqX,GAAAtR,EAAAC,GAAA,MAAAgC,GAAAzI,MAAA1B,KAAA2B,WAAA,GAAAwI,GAAA5I,EAAA+G,mBAAAC,KAAA,QAAA6B,GAAAqP,EA0C4C7R,GA1C5C,GAAAyC,GAAAqP,EAAA5U,EAAA2U,EAAA,GA0C+BvS,GA1C/BwS,EAAA,GAAAA,EAAA,IA0CqCC,EA1CrCD,EAAA,SAAApR,oBAAAY,KAAA,SAAAuB,GAAA,cAAAA,EAAArB,KAAAqB,EAAAhF,MAAA,aA2CIkU,GAAOP,EAAYG,SAASI,GA3ChClP,EAAAhF,KAAA,EA4CUzF,KAAK2K,qBA5Cf,WA8CUN,EAAS+O,EAAYG,SACzBvZ,KAAK8G,IAAI2H,SAAS7G,EAAQwE,SAASwN,oBAAoB1S,KAGrDmD,EAlDR,CAAAI,EAAAhF,KAAA,cAmDMzF,MAAK8G,IAAI8D,GAAGiB,IAAZ,qBAAqCxB,EAArC,UAAqDsP,GAAQ,GAAMxX,QACnEnC,KAAK8G,IAAI8D,GAAG6H,QApDlBhI,EAAAlB,OAAA,SAqDgBrC,EArDhB,kBAqDsCyS,EArDtC,4BAAAlP,GAAAT,SAAAI,EAAApK,QAAA,OAAAwZ,QAAAxX,IAAA,WAAAG,MAAA,mBAAA0X,GAAAzR,EAAA0R,GAAA,MAAAC,GAAArY,MAAA1B,KAAA2B,WAAA,GAAAoY,GAAAxY,EAAA+G,mBAAAC,KAAA,QAAAyR,GAAAC,EA4DiCrS,GA5DjC,GAAAyC,GAAA6P,EAAAC,EAAArV,EAAAmV,EAAA,GA4D0B/S,GA5D1BiT,EAAA,GAAAA,EAAA,UAAA7R,oBAAAY,KAAA,SAAAkR,GAAA,cAAAA,EAAAhR,KAAAgR,EAAA3U,MAAA,aAAA2U,GAAA3U,KAAA,EA6DUzF,KAAK2K,qBA7Df,WA+DUN,EAAS+O,EAAYG,SACzBvZ,KAAK8G,IAAI2H,SAAS7G,EAAQwE,SAASwN,oBAAoB1S,KAGrDmD,EAnER,CAAA+P,EAAA3U,KAAA,cAoEYyU,GAAQxW,OAAOoH,KAAK9K,KAAK8G,IAAI8D,GAAGpG,IAAZ,qBAAqC6F,EAArC,UAAqDlI,SApErFiY,EAAA7Q,OAAA,SAqEa2Q,EAAMhC,KAAK,MArExB,wBAAAkC,GAAApQ,SAAAgQ,EAAAha,QAAA,OAAA6Z,QAAA7X,IAAA,qBAAAG,MAAA,mBAAAkY,GAAApQ,EAAAC,GAAA,MAAAoQ,GAAA5Y,MAAA1B,KAAA2B,WAAA,GAAA2Y,GAAA/Y,EAAA+G,mBAAAC,KAAA,QAAAgS,GAAAC,EA4EiD5S,GA5EjD,GAAAyC,GAAAE,EAAAkQ,EAAA3V,EAAA0V,EAAA,GA4EoCtT,GA5EpCuT,EAAA,GAAAA,EAAA,IA4E0Cd,EA5E1Cc,EAAA,SAAAnS,oBAAAY,KAAA,SAAAwR,GAAA,cAAAA,EAAAtR,KAAAsR,EAAAjV,MAAA,aA6EIkU,GAAOP,EAAYG,SAASI,GA7EhCe,EAAAjV,KAAA,EA8EUzF,KAAK2K,qBA9Ef,WAgFUN,EAAS+O,EAAYG,SACzBvZ,KAAK8G,IAAI2H,SAAS7G,EAAQwE,SAASwN,oBAAoB1S,KAGrDmD,EApFR,CAAAqQ,EAAAjV,KAAA,eAqFY8E,GAAQvK,KAAK8G,IAAI8D,GAAGpG,IAAZ,qBAAqC6F,EAArC,UAAqDlI,cAC5DoI,GAAMoP,GACb3Z,KAAK8G,IAAI8D,GAAGiB,IAAZ,qBAAqCxB,EAArC,SAAqDE,GAAOpI,QAC5DnC,KAAK8G,IAAI8D,GAAG6H,QAxFlBiI,EAAAnR,OAAA,SAyFgBrC,EAzFhB,sBAyF0CyS,EAzF1C,6BAAAe,GAAA1Q,SAAAuQ,EAAAva,QAAA,OAAAqa,QAAArY,IAAA,iBAAAG,MAAA,mBAAAwY,GAAAC,GAAA,MAAAC,GAAAnZ,MAAA1B,KAAA2B,WAAA,GAAAkZ,GAAAtZ,EAAA+G,mBAAAC,KAAA,QAAAuS,GAAAC,GAAA,GAAAC,GAAAlW,EAAAiW,EAAA,GAgG2BlU,EAhG3BmU,EAAA,GAgG4CrB,EAhG5CqB,EAAA,SAAA1S,oBAAAY,KAAA,SAAA+R,GAAA,cAAAA,EAAA7R,KAAA6R,EAAAxV,MAAA,aAiGIkU,GAAOP,EAAYG,SAASI,GAjGhCsB,EAAAxV,KAAA,EAkGUzF,KAAK2K,qBAlGf,cAoGI3K,MAAK8G,IAAI8D,GAAGiB,IAAZ,sBAAsChF,EAAtC,IAAyD8S,GAAQ,GAAMxX,QACvEnC,KAAK8G,IAAI8D,GAAG6H,QArGhBwI,EAAA1R,OAAA,kBAsGoBoQ,EAtGpB,+CAsGuE9S,EAtGvE,6BAAAoU,GAAAjR,SAAA8Q,EAAA9a,QAAA,OAAA2a,QAAA3Y,IAAA,sBAAAG,MAAA,mBAAA+Y,GAAAC,GAAA,MAAAC,GAAA1Z,MAAA1B,KAAA2B,WAAA,GAAAyZ,GAAA7Z,EAAA+G,mBAAAC,KAAA,QAAA8S,GAAAC,GAAA,GAAAC,GAAAC,EAAA1W,EAAAwW,EAAA,GA4GgCzU,EA5GhC2U,EAAA,GA4GiD7B,EA5GjD6B,EAAA,SAAAlT,oBAAAY,KAAA,SAAAuS,GAAA,cAAAA,EAAArS,KAAAqS,EAAAhW,MAAA,aA6GIkU,GAAOP,EAAYG,SAASI,GA7GhC8B,EAAAhW,KAAA,EA8GUzF,KAAK2K,qBA9Gf,cAgHU4Q,GAAQvb,KAAK8G,IAAI8D,GAAGpG,IAAZ,sBAAsCqC,GAAmB1E,cAChEoZ,GAAM5B,GACb3Z,KAAK8G,IAAI8D,GAAGiB,IAAZ,sBAAsChF,EAAmB0U,GAAOpZ,QAChEnC,KAAK8G,IAAI8D,GAAG6H,QAnHhBgJ,EAAAlS,OAAA,kBAoHoBoQ,EApHpB,iDAoHyE9S,EApHzE,6BAAA4U,GAAAzR,SAAAqR,EAAArb,QAAA,OAAAkb,QAAAlZ,IAAA,YAAAG,MAAA,mBAAAuZ,GAAAC,GAAA,MAAAC,GAAAla,MAAA1B,KAAA2B,WAAA,GAAAia,GAAAra,EAAA+G,mBAAAC,KAAA,QAAAsT,GAAAC,GAAA,GAAA5B,GAAA6B,EAAAjX,EAAAgX,EAAA,GA6HsBP,EA7HtBQ,EAAA,SAAAzT,oBAAAY,KAAA,SAAA8S,GAAA,cAAAA,EAAA5S,KAAA4S,EAAAvW,MAAA,aAAAuW,GAAAvW,KAAA,EA8HUzF,KAAK2K,qBA9Hf,cAgIUuP,GAAQxW,OAAOoH,KAAK9K,KAAK8G,IAAI8D,GAAGpG,IAAZ,sBAAsC+W,GAASpZ,SAhI7E6Z,EAAAzS,OAAA,SAiIW2Q,EAAMhC,KAAK,MAjItB,wBAAA8D,GAAAhS,SAAA6R,EAAA7b,QAAA,OAAA0b,SAAAtC,GAAiCpC,EAAA,GAAjCmC,EAISI,SAAW,SAACrS,GACjB,MAAOA,GAAK+U,QAAQ,SAAU,IAAI7G,eALtCpI,EAAAC,EAAAkJ,EAAAnJ,EAAAvJ,UAAA,SAAAiT,EAAAC,EAAAC,GAAAlT,OAAAkM,yBAAA5C,EAAAvJ,UAAA,SAAAuJ,EAAAvJ,WAAA0S,EAAAnJ,EAAAvJ,UAAA,iBAAAoT,EAAAC,EAAAC,GAAArT,OAAAkM,yBAAA5C,EAAAvJ,UAAA,iBAAAuJ,EAAAvJ,WAAA0S,EAAAnJ,EAAAvJ,UAAA,YAAA2U,EAAAC,EAAAC,GAAA5U,OAAAkM,yBAAA5C,EAAAvJ,UAAA,YAAAuJ,EAAAvJ,WAAA0S,EAAAnJ,EAAAvJ,UAAA,sBAAA8U,EAAAC,EAAAC,GAAA/U,OAAAkM,yBAAA5C,EAAAvJ,UAAA,sBAAAuJ,EAAAvJ,WAAA0S,EAAAnJ,EAAAvJ,UAAA,kBAAAiV,EAAAC,EAAAC,GAAAlV,OAAAkM,yBAAA5C,EAAAvJ,UAAA,kBAAAuJ,EAAAvJ,WAAA0S,EAAAnJ,EAAAvJ,UAAA,uBAAAoV,EAAAC,EAAAC,GAAArV,OAAAkM,yBAAA5C,EAAAvJ,UAAA,uBAAAuJ,EAAAvJ,WAAA0S,EAAAnJ,EAAAvJ,UAAA,aAAAuV,EAAAC,EAAAC,GAAAxV,OAAAkM,yBAAA5C,EAAAvJ,UAAA,aAAAuJ,EAAAvJ,WAAAuJ,EvBw7DsBtJ,QAAOa,eAAe5E,EAAS,KAAMoE,cAAc,EAAOF,YAAY,EAAMW,IAAK,WAAa,MAAO4U,OAIrH,SAASxZ,EAAQD,GwB97DvBC,EAAAD,QAAAE,QAAA,WxBo8DM,SAASD,EAAQD,GyBp8DvBC,EAAAD,QAAAE,QAAA,azB08DM,SAASD,EAAQD,G0B18DvBC,EAAAD,QAAAE,QAAA,iB1Bg9DM,SAASD,EAAQD,G2Bh9DvBC,EAAAD,QAAAE,QAAA,U3Bs9DM,SAASD,EAAQD,G4Bt9DvBC,EAAAD,QAAAE,QAAA,a5B49DM,SAASD,EAAQD,G6B59DvBC,EAAAD,QAAAE,QAAA","file":"exobot.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"node-uuid\"), require(\"eventemitter3\"), require(\"log\"), require(\"superagent\"), require(\"superagent-promise-plugin\"), require(\"cryptr\"), require(\"fs-extra\"), require(\"lodash/array\"), require(\"lowdb\"), require(\"readline\"), require(\"underscore-db\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"node-uuid\", \"eventemitter3\", \"log\", \"superagent\", \"superagent-promise-plugin\", \"cryptr\", \"fs-extra\", \"lodash/array\", \"lowdb\", \"readline\", \"underscore-db\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"exobot.js\"] = factory(require(\"node-uuid\"), require(\"eventemitter3\"), require(\"log\"), require(\"superagent\"), require(\"superagent-promise-plugin\"), require(\"cryptr\"), require(\"fs-extra\"), require(\"lodash/array\"), require(\"lowdb\"), require(\"readline\"), require(\"underscore-db\"));\n\telse\n\t\troot[\"exobot.js\"] = factory(root[\"node-uuid\"], root[\"eventemitter3\"], root[\"log\"], root[\"superagent\"], root[\"superagent-promise-plugin\"], root[\"cryptr\"], root[\"fs-extra\"], root[\"lodash/array\"], root[\"lowdb\"], root[\"readline\"], root[\"underscore-db\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_9__, __WEBPACK_EXTERNAL_MODULE_13__, __WEBPACK_EXTERNAL_MODULE_14__, __WEBPACK_EXTERNAL_MODULE_15__, __WEBPACK_EXTERNAL_MODULE_16__, __WEBPACK_EXTERNAL_MODULE_26__, __WEBPACK_EXTERNAL_MODULE_27__, __WEBPACK_EXTERNAL_MODULE_28__, __WEBPACK_EXTERNAL_MODULE_29__, __WEBPACK_EXTERNAL_MODULE_30__, __WEBPACK_EXTERNAL_MODULE_31__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"node-uuid\"), require(\"eventemitter3\"), require(\"log\"), require(\"superagent\"), require(\"superagent-promise-plugin\"), require(\"cryptr\"), require(\"fs-extra\"), require(\"lodash/array\"), require(\"lowdb\"), require(\"readline\"), require(\"underscore-db\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"node-uuid\", \"eventemitter3\", \"log\", \"superagent\", \"superagent-promise-plugin\", \"cryptr\", \"fs-extra\", \"lodash/array\", \"lowdb\", \"readline\", \"underscore-db\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"exobot.js\"] = factory(require(\"node-uuid\"), require(\"eventemitter3\"), require(\"log\"), require(\"superagent\"), require(\"superagent-promise-plugin\"), require(\"cryptr\"), require(\"fs-extra\"), require(\"lodash/array\"), require(\"lowdb\"), require(\"readline\"), require(\"underscore-db\"));\n\telse\n\t\troot[\"exobot.js\"] = factory(root[\"node-uuid\"], root[\"eventemitter3\"], root[\"log\"], root[\"superagent\"], root[\"superagent-promise-plugin\"], root[\"cryptr\"], root[\"fs-extra\"], root[\"lodash/array\"], root[\"lowdb\"], root[\"readline\"], root[\"underscore-db\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_9__, __WEBPACK_EXTERNAL_MODULE_13__, __WEBPACK_EXTERNAL_MODULE_14__, __WEBPACK_EXTERNAL_MODULE_15__, __WEBPACK_EXTERNAL_MODULE_16__, __WEBPACK_EXTERNAL_MODULE_26__, __WEBPACK_EXTERNAL_MODULE_27__, __WEBPACK_EXTERNAL_MODULE_28__, __WEBPACK_EXTERNAL_MODULE_29__, __WEBPACK_EXTERNAL_MODULE_30__, __WEBPACK_EXTERNAL_MODULE_31__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 20);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__plugin__ = __webpack_require__(1);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__messages_text__ = __webpack_require__(4);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash_array__ = __webpack_require__(28);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash_array___default = __WEBPACK_IMPORTED_MODULE_2_lodash_array__ && __WEBPACK_IMPORTED_MODULE_2_lodash_array__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_2_lodash_array__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_2_lodash_array__; }\n\t/* harmony import */ Object.defineProperty(__WEBPACK_IMPORTED_MODULE_2_lodash_array___default, 'a', { get: __WEBPACK_IMPORTED_MODULE_2_lodash_array___default });\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { return step(\"next\", value); }, function (err) { return step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t\n\t\n\t\n\t\n\tvar DEFAULT_REGEXP = /.+/;\n\t\n\tvar ChatPlugin = function (_Plugin) {\n\t  _inherits(ChatPlugin, _Plugin);\n\t\n\t  function ChatPlugin() {\n\t    _classCallCheck(this, ChatPlugin);\n\t\n\t    var _this = _possibleConstructorReturn(this, (ChatPlugin.__proto__ || Object.getPrototypeOf(ChatPlugin)).apply(this, arguments));\n\t\n\t    _this.regexp = DEFAULT_REGEXP;\n\t    _this.respondFunctions = [];\n\t    _this.listenFunctions = [];\n\t    _this.help = [];\n\t    return _this;\n\t  }\n\t\n\t  _createClass(ChatPlugin, [{\n\t    key: 'helpText',\n\t    value: function helpText() {\n\t      var _this2 = this;\n\t\n\t      return this.help.map(function (n) {\n\t        return '[' + _this2[n].permissionGroup + '] ' + _this2[n].help;\n\t      });\n\t    }\n\t  }, {\n\t    key: 'register',\n\t    value: function register(bot) {\n\t      var _this3 = this;\n\t\n\t      this.bot = bot;\n\t      this.botNameRegex = new RegExp('^(?:(?:@?' + bot.name + '|' + bot.alias + ')[,\\\\s:.-]*)(.+)', 'i');\n\t\n\t      if (this.postConstructor) {\n\t        this.postConstructor.forEach(function (_ref) {\n\t          var _ref2 = _slicedToArray(_ref, 2);\n\t\n\t          var fn = _ref2[0];\n\t          var args = _ref2[1];\n\t          return fn.bind(_this3).apply(undefined, _toConsumableArray(args));\n\t        });\n\t      }\n\t\n\t      bot.emitter.on('receive-message', function (message) {\n\t        // v = [\n\t        //   validation function or regex,\n\t        //   the response function from the plugin,\n\t        //   the name of the function (the class.property name)\n\t        // ];\n\t        // as pushed by the listen/respond functions below\n\t        _this3.respondFunctions.forEach(function (v) {\n\t          return _this3.process.apply(_this3, _toConsumableArray(v).concat([message, true]));\n\t        });\n\t        _this3.listenFunctions.forEach(function (v) {\n\t          return _this3.process.apply(_this3, _toConsumableArray(v).concat([message]));\n\t        });\n\t      });\n\t    }\n\t  }, {\n\t    key: 'process',\n\t    value: function () {\n\t      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee(validation, response, fnName, message) {\n\t        var _this4 = this;\n\t\n\t        var isResponder = arguments.length <= 4 || arguments[4] === undefined ? false : arguments[4];\n\t\n\t        var text, res, _text, newMessage;\n\t\n\t        return regeneratorRuntime.wrap(function _callee$(_context) {\n\t          while (1) {\n\t            switch (_context.prev = _context.next) {\n\t              case 0:\n\t                if (!isResponder) {\n\t                  _context.next = 7;\n\t                  break;\n\t                }\n\t\n\t                text = this.validateBotName(message);\n\t\n\t                if (!text) {\n\t                  _context.next = 6;\n\t                  break;\n\t                }\n\t\n\t                message = new /* harmony import */__WEBPACK_IMPORTED_MODULE_1__messages_text__[\"a\"](_extends({}, message, { text: text, direct: true }));\n\t                _context.next = 7;\n\t                break;\n\t\n\t              case 6:\n\t                return _context.abrupt('return');\n\t\n\t              case 7:\n\t\n\t                if (validation.exec) {\n\t                  validation = this.validate(validation);\n\t                }\n\t\n\t                res = validation(message);\n\t\n\t                if (!res) {\n\t                  _context.next = 15;\n\t                  break;\n\t                }\n\t\n\t                _context.next = 12;\n\t                return this.checkPermissions(message.user.id, this[fnName].permissionGroup);\n\t\n\t              case 12:\n\t                if (!_context.sent) {\n\t                  _context.next = 15;\n\t                  break;\n\t                }\n\t\n\t                _text = response.bind(this)(res, message);\n\t\n\t\n\t                if (_text) {\n\t                  if (_text instanceof Promise) {\n\t                    _text.then(function (t) {\n\t                      var newMessage = new /* harmony import */__WEBPACK_IMPORTED_MODULE_1__messages_text__[\"a\"](_extends({}, message, { text: t }));\n\t                      _this4.bot.send(newMessage);\n\t                    });\n\t                  } else {\n\t                    newMessage = new /* harmony import */__WEBPACK_IMPORTED_MODULE_1__messages_text__[\"a\"](_extends({}, message, { text: _text }));\n\t\n\t                    this.bot.send(newMessage);\n\t                  }\n\t                }\n\t\n\t              case 15:\n\t              case 'end':\n\t                return _context.stop();\n\t            }\n\t          }\n\t        }, _callee, this);\n\t      }));\n\t\n\t      function process(_x, _x2, _x3, _x4, _x5) {\n\t        return _ref3.apply(this, arguments);\n\t      }\n\t\n\t      return process;\n\t    }()\n\t  }, {\n\t    key: 'checkPermissions',\n\t    value: function () {\n\t      var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(userId, commandPermissionGroup) {\n\t        var roles, groups;\n\t        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n\t          while (1) {\n\t            switch (_context2.prev = _context2.next) {\n\t              case 0:\n\t                if (this.bot.usePermissions) {\n\t                  _context2.next = 2;\n\t                  break;\n\t                }\n\t\n\t                return _context2.abrupt('return', true);\n\t\n\t              case 2:\n\t                if (!(commandPermissionGroup === 'permissions.public')) {\n\t                  _context2.next = 4;\n\t                  break;\n\t                }\n\t\n\t                return _context2.abrupt('return', true);\n\t\n\t              case 4:\n\t                _context2.next = 6;\n\t                return this.databaseInitialized();\n\t\n\t              case 6:\n\t\n\t                // get user's roles\n\t                roles = this.bot.db.get('permissions.users.' + userId + '.roles').value();\n\t\n\t                // if user has `admin` role, allow it\n\t\n\t                if (!roles.admin) {\n\t                  _context2.next = 9;\n\t                  break;\n\t                }\n\t\n\t                return _context2.abrupt('return', true);\n\t\n\t              case 9:\n\t\n\t                // get roles assigned to the command group\n\t                groups = this.bot.db.get('permissions.groups.' + commandPermissionGroup).value();\n\t\n\t                // if there are no groups, and requirePermissions is false, allow it\n\t                // requirePermissions = false == (public by default)\n\t\n\t                if (!(!groups || !Object.keys(groups))) {\n\t                  _context2.next = 13;\n\t                  break;\n\t                }\n\t\n\t                if (this.bot.requirePermissions) {\n\t                  _context2.next = 13;\n\t                  break;\n\t                }\n\t\n\t                return _context2.abrupt('return', true);\n\t\n\t              case 13:\n\t                if (!groups.public) {\n\t                  _context2.next = 15;\n\t                  break;\n\t                }\n\t\n\t                return _context2.abrupt('return', true);\n\t\n\t              case 15:\n\t                if (!/* harmony import */__WEBPACK_IMPORTED_MODULE_2_lodash_array__[\"intersection\"].bind()(Object.keys(roles), Object.keys(groups)).length) {\n\t                  _context2.next = 17;\n\t                  break;\n\t                }\n\t\n\t                return _context2.abrupt('return', true);\n\t\n\t              case 17:\n\t                return _context2.abrupt('return', false);\n\t\n\t              case 18:\n\t              case 'end':\n\t                return _context2.stop();\n\t            }\n\t          }\n\t        }, _callee2, this);\n\t      }));\n\t\n\t      function checkPermissions(_x7, _x8) {\n\t        return _ref4.apply(this, arguments);\n\t      }\n\t\n\t      return checkPermissions;\n\t    }()\n\t  }, {\n\t    key: 'validate',\n\t    value: function validate(regex) {\n\t      return function (message) {\n\t        return regex.exec(message.text);\n\t      };\n\t    }\n\t  }, {\n\t    key: 'validateBotName',\n\t    value: function validateBotName(message) {\n\t      var exec = this.botNameRegex.exec(message.text);\n\t      if (!exec) {\n\t        return;\n\t      }\n\t\n\t      return exec[1];\n\t    }\n\t  }, {\n\t    key: 'respond',\n\t    value: function respond(validation, fn, name) {\n\t      this.respondFunctions.push([validation, fn, name]);\n\t    }\n\t  }, {\n\t    key: 'listen',\n\t    value: function listen(validation, fn, name) {\n\t      this.listenFunctions.push([validation, fn, name]);\n\t    }\n\t  }, {\n\t    key: 'setHelp',\n\t    value: function setHelp(text, fnName) {\n\t      this.help.push(fnName);\n\t      this[fnName].help = text;\n\t    }\n\t  }, {\n\t    key: 'setPermissionGroup',\n\t    value: function setPermissionGroup(fn, name) {\n\t      this[fn].permissionGroup = this.name + '.' + name;\n\t    }\n\t  }]);\n\t\n\t  return ChatPlugin;\n\t}(/* harmony import */__WEBPACK_IMPORTED_MODULE_0__plugin__[\"a\"]);\n\t/* harmony export */ Object.defineProperty(exports, \"d\", {configurable: false, enumerable: true, get: function() { return ChatPlugin; }});\n\t\n\tvar listen = function listen(validation) {\n\t  return function (target, name, descriptor) {\n\t    var fn = descriptor.value;\n\t\n\t    if (!fn.permissionGroup) {\n\t      fn.permissionGoup = target.name + '.' + name;\n\t    }\n\t\n\t    target.postConstructor = target.postConstructor || [];\n\t    target.postConstructor.push([target.listen, [validation, fn, name]]);\n\t  };\n\t};\n\t/* harmony export */ Object.defineProperty(exports, \"c\", {configurable: false, enumerable: true, get: function() { return listen; }});\n\t\n\tvar respond = function respond(validation) {\n\t  return function (target, name, descriptor) {\n\t    var fn = descriptor.value;\n\t\n\t    if (!fn.permissionGroup) {\n\t      fn.permissionGoup = target.name + '.' + name;\n\t    }\n\t\n\t    target.postConstructor = target.postConstructor || [];\n\t    target.postConstructor.push([target.respond, [validation, fn, name]]);\n\t  };\n\t};\n\t/* harmony export */ Object.defineProperty(exports, \"e\", {configurable: false, enumerable: true, get: function() { return respond; }});\n\t\n\tvar help = function help(text) {\n\t  return function (target, fnName) {\n\t    target.postConstructor.push([target.setHelp, [text, fnName]]);\n\t  };\n\t};\n\t/* harmony export */ Object.defineProperty(exports, \"a\", {configurable: false, enumerable: true, get: function() { return help; }});\n\t\n\tvar permissionGroup = function permissionGroup(name) {\n\t  return function (target, fnName) {\n\t    target.postConstructor.push([target.setPermissionGroup, [fnName, name]]);\n\t  };\n\t};\n\t/* harmony export */ Object.defineProperty(exports, \"b\", {configurable: false, enumerable: true, get: function() { return permissionGroup; }});\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { return step(\"next\", value); }, function (err) { return step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Plugin = function () {\n\t  function Plugin() {\n\t    var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\t\n\t    _classCallCheck(this, Plugin);\n\t\n\t    this.help = undefined;\n\t    this._requiresDatabase = false;\n\t\n\t    this.options = options;\n\t  }\n\t\n\t  _createClass(Plugin, [{\n\t    key: 'register',\n\t    value: function register(bot) {\n\t      if (!bot) {\n\t        throw new Error('No bot passed to register; fatal.');\n\t      }\n\t\n\t      if (!this.name) {\n\t        throw new Error('This plugin has a missing `name` property; some functionality will not work.');\n\t      }\n\t\n\t      this.bot = bot;\n\t      this.database();\n\t    }\n\t  }, {\n\t    key: 'listen',\n\t    value: function listen() {\n\t      if (!this.bot) {\n\t        throw new Error('No bot to listen on; fatal.');\n\t      }\n\t    }\n\t  }, {\n\t    key: 'database',\n\t    value: function () {\n\t      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n\t        var _this = this;\n\t\n\t        return regeneratorRuntime.wrap(function _callee$(_context) {\n\t          while (1) {\n\t            switch (_context.prev = _context.next) {\n\t              case 0:\n\t                if (!this.defaultDatabase) {\n\t                  _context.next = 4;\n\t                  break;\n\t                }\n\t\n\t                _context.next = 3;\n\t                return this.databaseInitialized();\n\t\n\t              case 3:\n\t\n\t                Object.keys(this.defaultDatabase).forEach(function (name) {\n\t                  var val = _this.bot.db.get(name).value();\n\t\n\t                  if (typeof val === 'undefined') {\n\t                    _this.bot.db.set(name, _this.defaultDatabase[name]).value();\n\t                  }\n\t                });\n\t\n\t              case 4:\n\t              case 'end':\n\t                return _context.stop();\n\t            }\n\t          }\n\t        }, _callee, this);\n\t      }));\n\t\n\t      function database() {\n\t        return _ref.apply(this, arguments);\n\t      }\n\t\n\t      return database;\n\t    }()\n\t  }, {\n\t    key: 'databaseInitialized',\n\t    value: function () {\n\t      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n\t        var _this2 = this;\n\t\n\t        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n\t          while (1) {\n\t            switch (_context2.prev = _context2.next) {\n\t              case 0:\n\t                this._requiresDatabase = true;\n\t\n\t                if (!(this._requiresDatabase && this.bot.db)) {\n\t                  _context2.next = 3;\n\t                  break;\n\t                }\n\t\n\t                return _context2.abrupt('return', true);\n\t\n\t              case 3:\n\t                return _context2.abrupt('return', new Promise(function (resolve) {\n\t                  _this2.bot.emitter.on('dbLoaded', resolve);\n\t                }));\n\t\n\t              case 4:\n\t              case 'end':\n\t                return _context2.stop();\n\t            }\n\t          }\n\t        }, _callee2, this);\n\t      }));\n\t\n\t      function databaseInitialized() {\n\t        return _ref2.apply(this, arguments);\n\t      }\n\t\n\t      return databaseInitialized;\n\t    }()\n\t  }]);\n\t\n\t  return Plugin;\n\t}();\n\t\n\t\n\t/* harmony export */ Object.defineProperty(exports, \"a\", {configurable: false, enumerable: true, get: function() { return Plugin; }});\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__db__ = __webpack_require__(19);\n\t/* harmony namespace reexport */ for(var __WEBPACK_IMPORT_KEY__ in __WEBPACK_IMPORTED_MODULE_0__db__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { Object.defineProperty(exports, key, {configurable: false, enumerable: true, get: function() { return __WEBPACK_IMPORTED_MODULE_0__db__[key]; }}) }(__WEBPACK_IMPORT_KEY__));\n\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_node_uuid__ = __webpack_require__(9);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_node_uuid___default = __WEBPACK_IMPORTED_MODULE_0_node_uuid__ && __WEBPACK_IMPORTED_MODULE_0_node_uuid__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_0_node_uuid__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_0_node_uuid__; }\n\t/* harmony import */ Object.defineProperty(__WEBPACK_IMPORTED_MODULE_0_node_uuid___default, 'a', { get: __WEBPACK_IMPORTED_MODULE_0_node_uuid___default });\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t\n\t\n\tvar Message = function Message(_ref) {\n\t  var user = _ref.user;\n\t  var channel = _ref.channel;\n\t  var adapter = _ref.adapter;\n\t  var _ref$id = _ref.id;\n\t  var id = _ref$id === undefined ? /* harmony import */__WEBPACK_IMPORTED_MODULE_0_node_uuid__[\"v4\"].bind()() : _ref$id;\n\t\n\t  _classCallCheck(this, Message);\n\t\n\t  this.user = user;\n\t  this.channel = channel;\n\t  this.adapter = adapter;\n\t  this.id = id;\n\t};\n\t\n\t\n\t/* harmony export */ Object.defineProperty(exports, \"a\", {configurable: false, enumerable: true, get: function() { return Message; }});\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__message__ = __webpack_require__(3);\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t\n\t\n\tvar TextMessage = function (_Message) {\n\t  _inherits(TextMessage, _Message);\n\t\n\t  function TextMessage(_ref) {\n\t    var text = _ref.text;\n\t    var _ref$whisper = _ref.whisper;\n\t    var whisper = _ref$whisper === undefined ? false : _ref$whisper;\n\t\n\t    _classCallCheck(this, TextMessage);\n\t\n\t    var _this = _possibleConstructorReturn(this, (TextMessage.__proto__ || Object.getPrototypeOf(TextMessage)).apply(this, arguments));\n\t\n\t    _this.text = text.trim();\n\t    _this.whisper = !!whisper;\n\t    return _this;\n\t  }\n\t\n\t  return TextMessage;\n\t}(/* harmony import */__WEBPACK_IMPORTED_MODULE_0__message__[\"a\"]);\n\t\n\t\n\t/* harmony export */ Object.defineProperty(exports, \"a\", {configurable: false, enumerable: true, get: function() { return TextMessage; }});\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__greetings__ = __webpack_require__(23);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__help__ = __webpack_require__(24);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__permissions__ = __webpack_require__(25);\n\t/* harmony reexport */ if(Object.prototype.hasOwnProperty.call(__WEBPACK_IMPORTED_MODULE_0__greetings__, \"a\")) Object.defineProperty(exports, \"Greetings\", {configurable: false, enumerable: true, get: function() { return __WEBPACK_IMPORTED_MODULE_0__greetings__[\"a\"]; }});\n\t/* harmony reexport */ if(Object.prototype.hasOwnProperty.call(__WEBPACK_IMPORTED_MODULE_1__help__, \"a\")) Object.defineProperty(exports, \"Help\", {configurable: false, enumerable: true, get: function() { return __WEBPACK_IMPORTED_MODULE_1__help__[\"a\"]; }});\n\t/* harmony reexport */ if(Object.prototype.hasOwnProperty.call(__WEBPACK_IMPORTED_MODULE_2__permissions__, \"a\")) Object.defineProperty(exports, \"Permissions\", {configurable: false, enumerable: true, get: function() { return __WEBPACK_IMPORTED_MODULE_2__permissions__[\"a\"]; }});\n\t\n\t\n\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar User = function User(name) {\n\t  var id = arguments.length <= 1 || arguments[1] === undefined ? name : arguments[1];\n\t\n\t  _classCallCheck(this, User);\n\t\n\t  this.name = name;\n\t  this.id = id;\n\t};\n\t\n\t\n\t/* harmony export */ Object.defineProperty(exports, \"a\", {configurable: false, enumerable: true, get: function() { return User; }});\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_node_uuid__ = __webpack_require__(9);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_node_uuid___default = __WEBPACK_IMPORTED_MODULE_0_node_uuid__ && __WEBPACK_IMPORTED_MODULE_0_node_uuid__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_0_node_uuid__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_0_node_uuid__; }\n\t/* harmony import */ Object.defineProperty(__WEBPACK_IMPORTED_MODULE_0_node_uuid___default, 'a', { get: __WEBPACK_IMPORTED_MODULE_0_node_uuid___default });\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__messages_text__ = __webpack_require__(4);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__messages_presence__ = __webpack_require__(8);\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _class, _temp;\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t\n\t\n\t\n\t\n\t\n\tvar Adapter = (_temp = _class = function () {\n\t  function Adapter() {\n\t    var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\t\n\t    _classCallCheck(this, Adapter);\n\t\n\t    this.options = options;\n\t    this.id = options.id || /* harmony import */__WEBPACK_IMPORTED_MODULE_0_node_uuid__[\"v4\"].bind()();\n\t    this.status = Adapter.STATUS.UNINITIALIZED;\n\t  }\n\t\n\t  _createClass(Adapter, [{\n\t    key: 'register',\n\t    value: function register(bot) {\n\t      if (!bot) {\n\t        throw new Error('No bot passed to register; fatal.');\n\t      }\n\t      if (!this.name) {\n\t        throw new Error('This adapter has no `name` property; some plugins will not work.');\n\t      }\n\t\n\t      this.bot = bot;\n\t\n\t      this.status = Adapter.STATUS.CONNECTING;\n\t      this.listen();\n\t    }\n\t  }, {\n\t    key: 'listen',\n\t    value: function listen() {\n\t      if (!this.bot) {\n\t        throw new Error('No bot to listen on; fatal.');\n\t      }\n\t    }\n\t  }, {\n\t    key: 'receive',\n\t    value: function receive(_ref) {\n\t      var user = _ref.user;\n\t      var text = _ref.text;\n\t      var channel = _ref.channel;\n\t      var whisper = _ref.whisper;\n\t\n\t      var message = new /* harmony import */__WEBPACK_IMPORTED_MODULE_1__messages_text__[\"a\"]({ user: user, text: text, channel: channel, whisper: whisper, adapter: this.id });\n\t      this.bot.emitter.emit('receive-message', message);\n\t    }\n\t  }, {\n\t    key: 'receiveWhisper',\n\t    value: function receiveWhisper(_ref2) {\n\t      var user = _ref2.user;\n\t      var text = _ref2.text;\n\t      var channel = _ref2.channel;\n\t\n\t      text = this.bot.prependNameForWhisper(text);\n\t      this.receive({ user: user, text: text, channel: channel, whisper: true });\n\t    }\n\t  }, {\n\t    key: 'enter',\n\t    value: function enter(_ref3) {\n\t      var user = _ref3.user;\n\t      var channel = _ref3.channel;\n\t\n\t      var message = new /* harmony import */__WEBPACK_IMPORTED_MODULE_2__messages_presence__[\"a\"]({\n\t        user: user,\n\t        channel: channel,\n\t        adapter: this.id,\n\t        type: /* harmony import */__WEBPACK_IMPORTED_MODULE_2__messages_presence__[\"a\"].TYPES.ENTER\n\t      });\n\t\n\t      this.bot.emitter.emit('enter', message);\n\t    }\n\t  }, {\n\t    key: 'leave',\n\t    value: function leave(_ref4) {\n\t      var user = _ref4.user;\n\t      var channel = _ref4.channel;\n\t\n\t      var message = new /* harmony import */__WEBPACK_IMPORTED_MODULE_2__messages_presence__[\"a\"]({\n\t        user: user,\n\t        channel: channel,\n\t        adapter: this.id,\n\t        type: /* harmony import */__WEBPACK_IMPORTED_MODULE_2__messages_presence__[\"a\"].TYPES.LEAVE\n\t      });\n\t\n\t      this.bot.emitter.emit('leave', message);\n\t    }\n\t  }, {\n\t    key: 'send',\n\t    value: function send(message) {\n\t      console.log(message.text);\n\t    }\n\t  }, {\n\t    key: 'ping',\n\t    value: function ping() {\n\t      this.pong();\n\t    }\n\t  }, {\n\t    key: 'pong',\n\t    value: function pong() {\n\t      console.log('Ping received, this.pong() not implemented.');\n\t    }\n\t  }, {\n\t    key: 'getUserIdByUserName',\n\t    value: function getUserIdByUserName(name) {\n\t      console.log('getUserIdByUserName not implemented by this adapter.');\n\t      return name;\n\t    }\n\t  }]);\n\t\n\t  return Adapter;\n\t}(), _class.STATUS = {\n\t  UNINITIALIZED: 0,\n\t  CONNECTING: 1,\n\t  CONNECTED: 2,\n\t  DISCONNECTED: 3,\n\t  RECONNECTING: 4,\n\t  ERROR: 5\n\t}, _temp);\n\t\n\t/* harmony export */ Object.defineProperty(exports, \"a\", {configurable: false, enumerable: true, get: function() { return Adapter; }});\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__message__ = __webpack_require__(3);\n\tvar _class, _temp;\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t\n\t\n\tvar PresenceMessage = (_temp = _class = function (_Message) {\n\t  _inherits(PresenceMessage, _Message);\n\t\n\t  function PresenceMessage(_ref) {\n\t    var type = _ref.type;\n\t\n\t    _classCallCheck(this, PresenceMessage);\n\t\n\t    var _this = _possibleConstructorReturn(this, (PresenceMessage.__proto__ || Object.getPrototypeOf(PresenceMessage)).apply(this, arguments));\n\t\n\t    _this.type = type;\n\t    return _this;\n\t  }\n\t\n\t  return PresenceMessage;\n\t}(/* harmony import */__WEBPACK_IMPORTED_MODULE_0__message__[\"a\"]), _class.TYPES = {\n\t  ENTER: 0,\n\t  LEAVE: 1\n\t}, _temp);\n\t\n\t/* harmony export */ Object.defineProperty(exports, \"a\", {configurable: false, enumerable: true, get: function() { return PresenceMessage; }});\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"node-uuid\");\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__adapter__ = __webpack_require__(7);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__adapters__ = __webpack_require__(17);\n\t/* harmony reexport */ if(Object.prototype.hasOwnProperty.call(__WEBPACK_IMPORTED_MODULE_0__adapter__, \"a\")) Object.defineProperty(exports, \"Adapter\", {configurable: false, enumerable: true, get: function() { return __WEBPACK_IMPORTED_MODULE_0__adapter__[\"a\"]; }});\n\t\n\t\n\t\n\tvar adapters = /* harmony namespace import */ __WEBPACK_IMPORTED_MODULE_1__adapters__;\n\t/* harmony export */ Object.defineProperty(exports, \"adapters\", {configurable: false, enumerable: true, get: function() { return adapters; }});\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__message__ = __webpack_require__(3);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__presence__ = __webpack_require__(8);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__text__ = __webpack_require__(4);\n\t/* harmony reexport */ if(Object.prototype.hasOwnProperty.call(__WEBPACK_IMPORTED_MODULE_0__message__, \"a\")) Object.defineProperty(exports, \"Message\", {configurable: false, enumerable: true, get: function() { return __WEBPACK_IMPORTED_MODULE_0__message__[\"a\"]; }});\n\t/* harmony reexport */ if(Object.prototype.hasOwnProperty.call(__WEBPACK_IMPORTED_MODULE_1__presence__, \"a\")) Object.defineProperty(exports, \"PresenceMessage\", {configurable: false, enumerable: true, get: function() { return __WEBPACK_IMPORTED_MODULE_1__presence__[\"a\"]; }});\n\t/* harmony reexport */ if(Object.prototype.hasOwnProperty.call(__WEBPACK_IMPORTED_MODULE_2__text__, \"a\")) Object.defineProperty(exports, \"TextMessage\", {configurable: false, enumerable: true, get: function() { return __WEBPACK_IMPORTED_MODULE_2__text__[\"a\"]; }});\n\t\n\t\n\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__plugin__ = __webpack_require__(1);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__event__ = __webpack_require__(21);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__http__ = __webpack_require__(22);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__chat__ = __webpack_require__(0);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__plugins__ = __webpack_require__(5);\n\t/* harmony reexport */ if(Object.prototype.hasOwnProperty.call(__WEBPACK_IMPORTED_MODULE_0__plugin__, \"a\")) Object.defineProperty(exports, \"Plugin\", {configurable: false, enumerable: true, get: function() { return __WEBPACK_IMPORTED_MODULE_0__plugin__[\"a\"]; }});\n\t/* harmony reexport */ if(Object.prototype.hasOwnProperty.call(__WEBPACK_IMPORTED_MODULE_1__event__, \"a\")) Object.defineProperty(exports, \"EventPlugin\", {configurable: false, enumerable: true, get: function() { return __WEBPACK_IMPORTED_MODULE_1__event__[\"a\"]; }});\n\t/* harmony reexport */ if(Object.prototype.hasOwnProperty.call(__WEBPACK_IMPORTED_MODULE_2__http__, \"a\")) Object.defineProperty(exports, \"HTTPPlugin\", {configurable: false, enumerable: true, get: function() { return __WEBPACK_IMPORTED_MODULE_2__http__[\"a\"]; }});\n\t/* harmony reexport */ if(Object.prototype.hasOwnProperty.call(__WEBPACK_IMPORTED_MODULE_3__chat__, \"d\")) Object.defineProperty(exports, \"ChatPlugin\", {configurable: false, enumerable: true, get: function() { return __WEBPACK_IMPORTED_MODULE_3__chat__[\"d\"]; }});\n\t/* harmony reexport */ if(Object.prototype.hasOwnProperty.call(__WEBPACK_IMPORTED_MODULE_3__chat__, \"e\")) Object.defineProperty(exports, \"respond\", {configurable: false, enumerable: true, get: function() { return __WEBPACK_IMPORTED_MODULE_3__chat__[\"e\"]; }});\n\t/* harmony reexport */ if(Object.prototype.hasOwnProperty.call(__WEBPACK_IMPORTED_MODULE_3__chat__, \"c\")) Object.defineProperty(exports, \"listen\", {configurable: false, enumerable: true, get: function() { return __WEBPACK_IMPORTED_MODULE_3__chat__[\"c\"]; }});\n\t/* harmony reexport */ if(Object.prototype.hasOwnProperty.call(__WEBPACK_IMPORTED_MODULE_3__chat__, \"a\")) Object.defineProperty(exports, \"help\", {configurable: false, enumerable: true, get: function() { return __WEBPACK_IMPORTED_MODULE_3__chat__[\"a\"]; }});\n\t/* harmony reexport */ if(Object.prototype.hasOwnProperty.call(__WEBPACK_IMPORTED_MODULE_3__chat__, \"b\")) Object.defineProperty(exports, \"permissionGroup\", {configurable: false, enumerable: true, get: function() { return __WEBPACK_IMPORTED_MODULE_3__chat__[\"b\"]; }});\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\tvar plugins = /* harmony namespace import */ __WEBPACK_IMPORTED_MODULE_4__plugins__;\n\t/* harmony export */ Object.defineProperty(exports, \"plugins\", {configurable: false, enumerable: true, get: function() { return plugins; }});\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"eventemitter3\");\n\n/***/ },\n/* 14 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"log\");\n\n/***/ },\n/* 15 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"superagent\");\n\n/***/ },\n/* 16 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"superagent-promise-plugin\");\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__shell__ = __webpack_require__(18);\n\t/* harmony reexport */ if(Object.prototype.hasOwnProperty.call(__WEBPACK_IMPORTED_MODULE_0__shell__, \"a\")) Object.defineProperty(exports, \"Shell\", {configurable: false, enumerable: true, get: function() { return __WEBPACK_IMPORTED_MODULE_0__shell__[\"a\"]; }});\n\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_readline__ = __webpack_require__(30);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_readline___default = __WEBPACK_IMPORTED_MODULE_0_readline__ && __WEBPACK_IMPORTED_MODULE_0_readline__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_0_readline__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_0_readline__; }\n\t/* harmony import */ Object.defineProperty(__WEBPACK_IMPORTED_MODULE_0_readline___default, 'a', { get: __WEBPACK_IMPORTED_MODULE_0_readline___default });\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__adapter__ = __webpack_require__(7);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__user__ = __webpack_require__(6);\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t\n\t\n\t\n\t\n\t\n\tvar SHELL = 'SHELL';\n\tvar SHELL_USER = new /* harmony import */__WEBPACK_IMPORTED_MODULE_2__user__[\"a\"]('shell');\n\t\n\tvar EXIT_COMMANDS = ['exit', 'quit', 'q'];\n\t\n\tvar ShellAdapter = function (_Adapter) {\n\t  _inherits(ShellAdapter, _Adapter);\n\t\n\t  function ShellAdapter() {\n\t    _classCallCheck(this, ShellAdapter);\n\t\n\t    var _this = _possibleConstructorReturn(this, (ShellAdapter.__proto__ || Object.getPrototypeOf(ShellAdapter)).call(this));\n\t\n\t    _this.name = 'shell';\n\t\n\t    _this.rl = /* harmony import */__WEBPACK_IMPORTED_MODULE_0_readline___default.a.createInterface({\n\t      input: process.stdin,\n\t      output: process.stdout\n\t    });\n\t    return _this;\n\t  }\n\t\n\t  _createClass(ShellAdapter, [{\n\t    key: 'prompt',\n\t    value: function prompt() {\n\t      var _this2 = this;\n\t\n\t      this.rl.question('Chat: ', function (answer) {\n\t        if (EXIT_COMMANDS.includes(answer)) {\n\t          return process.exit();\n\t        }\n\t\n\t        _get(ShellAdapter.prototype.__proto__ || Object.getPrototypeOf(ShellAdapter.prototype), 'receive', _this2).call(_this2, {\n\t          text: answer,\n\t          channel: SHELL,\n\t          user: SHELL_USER\n\t        });\n\t\n\t        _this2.prompt();\n\t      });\n\t    }\n\t  }, {\n\t    key: 'register',\n\t    value: function register(bot) {\n\t      _get(ShellAdapter.prototype.__proto__ || Object.getPrototypeOf(ShellAdapter.prototype), 'register', this).call(this, bot);\n\t      this.prompt();\n\t      this.status = /* harmony import */__WEBPACK_IMPORTED_MODULE_1__adapter__[\"a\"].STATUS.CONNECTED;\n\t    }\n\t  }, {\n\t    key: 'getUserIdByUserName',\n\t    value: function getUserIdByUserName() {\n\t      return 'shell';\n\t    }\n\t  }]);\n\t\n\t  return ShellAdapter;\n\t}(/* harmony import */__WEBPACK_IMPORTED_MODULE_1__adapter__[\"a\"]);\n\t\n\t\n\t/* harmony export */ Object.defineProperty(exports, \"a\", {configurable: false, enumerable: true, get: function() { return ShellAdapter; }});\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_cryptr__ = __webpack_require__(26);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_cryptr___default = __WEBPACK_IMPORTED_MODULE_0_cryptr__ && __WEBPACK_IMPORTED_MODULE_0_cryptr__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_0_cryptr__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_0_cryptr__; }\n\t/* harmony import */ Object.defineProperty(__WEBPACK_IMPORTED_MODULE_0_cryptr___default, 'a', { get: __WEBPACK_IMPORTED_MODULE_0_cryptr___default });\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lowdb__ = __webpack_require__(29);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lowdb___default = __WEBPACK_IMPORTED_MODULE_1_lowdb__ && __WEBPACK_IMPORTED_MODULE_1_lowdb__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_1_lowdb__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_1_lowdb__; }\n\t/* harmony import */ Object.defineProperty(__WEBPACK_IMPORTED_MODULE_1_lowdb___default, 'a', { get: __WEBPACK_IMPORTED_MODULE_1_lowdb___default });\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_fs_extra__ = __webpack_require__(27);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_fs_extra___default = __WEBPACK_IMPORTED_MODULE_2_fs_extra__ && __WEBPACK_IMPORTED_MODULE_2_fs_extra__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_2_fs_extra__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_2_fs_extra__; }\n\t/* harmony import */ Object.defineProperty(__WEBPACK_IMPORTED_MODULE_2_fs_extra___default, 'a', { get: __WEBPACK_IMPORTED_MODULE_2_fs_extra___default });\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_underscore_db__ = __webpack_require__(31);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_underscore_db___default = __WEBPACK_IMPORTED_MODULE_3_underscore_db__ && __WEBPACK_IMPORTED_MODULE_3_underscore_db__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_3_underscore_db__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_3_underscore_db__; }\n\t/* harmony import */ Object.defineProperty(__WEBPACK_IMPORTED_MODULE_3_underscore_db___default, 'a', { get: __WEBPACK_IMPORTED_MODULE_3_underscore_db___default });\n\tfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { return step(\"next\", value); }, function (err) { return step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\t\n\t\n\t\n\t\n\t\n\t\n\tvar deserialize = function deserialize(cryptr) {\n\t  return function (str) {\n\t    if (!str) {\n\t      return {};\n\t    }\n\t    var decrypted = cryptr.decrypt(str);\n\t    var obj = JSON.parse(decrypted);\n\t    return obj;\n\t  };\n\t};\n\t/* harmony export */ Object.defineProperty(exports, \"deserialize\", {configurable: false, enumerable: true, get: function() { return deserialize; }});\n\t\n\tvar serialize = function serialize(cryptr) {\n\t  return function (obj) {\n\t    var str = JSON.stringify(obj);\n\t    var encrypted = cryptr.encrypt(str);\n\t    return encrypted;\n\t  };\n\t};\n\t/* harmony export */ Object.defineProperty(exports, \"serialize\", {configurable: false, enumerable: true, get: function() { return serialize; }});\n\t\n\tvar read = function read(readFile) {\n\t  return function (path, deserialize) {\n\t    return new Promise(function (resolve, reject) {\n\t      readFile(path).then(function (data) {\n\t        try {\n\t          resolve(deserialize(data));\n\t        } catch (e) {\n\t          reject(e);\n\t        }\n\t      });\n\t    });\n\t  };\n\t};\n\t/* harmony export */ Object.defineProperty(exports, \"read\", {configurable: false, enumerable: true, get: function() { return read; }});\n\t\n\tvar write = function write(writeFile) {\n\t  return function (path, obj, serialize) {\n\t    return new Promise(function (resolve, reject) {\n\t      try {\n\t        var data = serialize(obj);\n\t        writeFile(path, data).then(resolve, reject);\n\t      } catch (e) {\n\t        reject(e);\n\t      }\n\t    });\n\t  };\n\t};\n\t/* harmony export */ Object.defineProperty(exports, \"write\", {configurable: false, enumerable: true, get: function() { return write; }});\n\t\n\tvar readLocal = function readLocal(path) {\n\t  return new Promise(function (resolve, reject) {\n\t    /* harmony import */__WEBPACK_IMPORTED_MODULE_2_fs_extra___default.a.ensureFile(path, function (err) {\n\t      if (err) {\n\t        return reject(err);\n\t      }\n\t      /* harmony import */__WEBPACK_IMPORTED_MODULE_2_fs_extra___default.a.readFile(path, 'utf8', function (err, data) {\n\t        if (err) {\n\t          return reject(err);\n\t        }\n\t        return resolve(data);\n\t      });\n\t    });\n\t  });\n\t};\n\t/* harmony export */ Object.defineProperty(exports, \"readLocal\", {configurable: false, enumerable: true, get: function() { return readLocal; }});\n\t\n\tvar writeLocal = function writeLocal(path, data) {\n\t  return new Promise(function (resolve, reject) {\n\t    /* harmony import */__WEBPACK_IMPORTED_MODULE_2_fs_extra___default.a.ensureFile(path, function (err) {\n\t      if (err) {\n\t        return reject(err);\n\t      }\n\t      /* harmony import */__WEBPACK_IMPORTED_MODULE_2_fs_extra___default.a.writeFile(path, data, 'utf8', function (err) {\n\t        if (err) {\n\t          return reject(err);\n\t        }\n\t        return resolve(data);\n\t      });\n\t    });\n\t  });\n\t};\n\t/* harmony export */ Object.defineProperty(exports, \"writeLocal\", {configurable: false, enumerable: true, get: function() { return writeLocal; }});\n\t\n\tvar DB = function () {\n\t  var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(_ref2) {\n\t    var path = _ref2.path;\n\t    var key = _ref2.key;\n\t    var _ref2$readFile = _ref2.readFile;\n\t    var readFile = _ref2$readFile === undefined ? readLocal : _ref2$readFile;\n\t    var _ref2$writeFile = _ref2.writeFile;\n\t    var writeFile = _ref2$writeFile === undefined ? writeLocal : _ref2$writeFile;\n\t    var cryptr, dbPath, db;\n\t    return regeneratorRuntime.wrap(function _callee$(_context) {\n\t      while (1) {\n\t        switch (_context.prev = _context.next) {\n\t          case 0:\n\t            cryptr = new /* harmony import */__WEBPACK_IMPORTED_MODULE_0_cryptr___default.a(key || name);\n\t            dbPath = path || './data/' + name + '.json';\n\t            _context.next = 4;\n\t            return new /* harmony import */__WEBPACK_IMPORTED_MODULE_1_lowdb___default.a(dbPath, {\n\t              storage: {\n\t                read: read(readFile),\n\t                write: write(writeFile)\n\t              },\n\t              format: {\n\t                deserialize: deserialize(cryptr),\n\t                serialize: serialize(cryptr)\n\t              }\n\t            });\n\t\n\t          case 4:\n\t            db = _context.sent;\n\t\n\t\n\t            db._.mixin(/* harmony import */__WEBPACK_IMPORTED_MODULE_3_underscore_db___default.a);\n\t            return _context.abrupt('return', db);\n\t\n\t          case 7:\n\t          case 'end':\n\t            return _context.stop();\n\t        }\n\t      }\n\t    }, _callee, this);\n\t  }));\n\t\n\t  return function DB(_x) {\n\t    return _ref.apply(this, arguments);\n\t  };\n\t}();\n\t/* harmony export */ Object.defineProperty(exports, \"DB\", {configurable: false, enumerable: true, get: function() { return DB; }});\n\n/***/ },\n/* 20 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_eventemitter3__ = __webpack_require__(13);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_eventemitter3___default = __WEBPACK_IMPORTED_MODULE_0_eventemitter3__ && __WEBPACK_IMPORTED_MODULE_0_eventemitter3__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_0_eventemitter3__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_0_eventemitter3__; }\n\t/* harmony import */ Object.defineProperty(__WEBPACK_IMPORTED_MODULE_0_eventemitter3___default, 'a', { get: __WEBPACK_IMPORTED_MODULE_0_eventemitter3___default });\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_log__ = __webpack_require__(14);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_log___default = __WEBPACK_IMPORTED_MODULE_1_log__ && __WEBPACK_IMPORTED_MODULE_1_log__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_1_log__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_1_log__; }\n\t/* harmony import */ Object.defineProperty(__WEBPACK_IMPORTED_MODULE_1_log___default, 'a', { get: __WEBPACK_IMPORTED_MODULE_1_log___default });\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_superagent__ = __webpack_require__(15);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_superagent___default = __WEBPACK_IMPORTED_MODULE_2_superagent__ && __WEBPACK_IMPORTED_MODULE_2_superagent__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_2_superagent__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_2_superagent__; }\n\t/* harmony import */ Object.defineProperty(__WEBPACK_IMPORTED_MODULE_2_superagent___default, 'a', { get: __WEBPACK_IMPORTED_MODULE_2_superagent___default });\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_superagent_promise_plugin__ = __webpack_require__(16);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_superagent_promise_plugin___default = __WEBPACK_IMPORTED_MODULE_3_superagent_promise_plugin__ && __WEBPACK_IMPORTED_MODULE_3_superagent_promise_plugin__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_3_superagent_promise_plugin__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_3_superagent_promise_plugin__; }\n\t/* harmony import */ Object.defineProperty(__WEBPACK_IMPORTED_MODULE_3_superagent_promise_plugin___default, 'a', { get: __WEBPACK_IMPORTED_MODULE_3_superagent_promise_plugin___default });\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__plugins_plugins__ = __webpack_require__(5);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__db__ = __webpack_require__(2);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__adapters__ = __webpack_require__(10);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__messages__ = __webpack_require__(11);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__plugins__ = __webpack_require__(12);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__user__ = __webpack_require__(6);\n\t/* harmony namespace reexport */ for(var __WEBPACK_IMPORT_KEY__ in __WEBPACK_IMPORTED_MODULE_6__adapters__) if([\"Exobot\",\"User\",\"LogLevels\",\"default\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { Object.defineProperty(exports, key, {configurable: false, enumerable: true, get: function() { return __WEBPACK_IMPORTED_MODULE_6__adapters__[key]; }}) }(__WEBPACK_IMPORT_KEY__));\n\t/* harmony namespace reexport */ for(var __WEBPACK_IMPORT_KEY__ in __WEBPACK_IMPORTED_MODULE_7__messages__) if([\"Exobot\",\"User\",\"LogLevels\",\"default\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { Object.defineProperty(exports, key, {configurable: false, enumerable: true, get: function() { return __WEBPACK_IMPORTED_MODULE_7__messages__[key]; }}) }(__WEBPACK_IMPORT_KEY__));\n\t/* harmony namespace reexport */ for(var __WEBPACK_IMPORT_KEY__ in __WEBPACK_IMPORTED_MODULE_8__plugins__) if([\"Exobot\",\"User\",\"LogLevels\",\"default\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { Object.defineProperty(exports, key, {configurable: false, enumerable: true, get: function() { return __WEBPACK_IMPORTED_MODULE_8__plugins__[key]; }}) }(__WEBPACK_IMPORT_KEY__));\n\t/* harmony namespace reexport */ for(var __WEBPACK_IMPORT_KEY__ in __WEBPACK_IMPORTED_MODULE_5__db__) if([\"Exobot\",\"User\",\"LogLevels\",\"default\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { Object.defineProperty(exports, key, {configurable: false, enumerable: true, get: function() { return __WEBPACK_IMPORTED_MODULE_5__db__[key]; }}) }(__WEBPACK_IMPORT_KEY__));\n\t/* harmony reexport */ if(Object.prototype.hasOwnProperty.call(__WEBPACK_IMPORTED_MODULE_9__user__, \"a\")) Object.defineProperty(exports, \"User\", {configurable: false, enumerable: true, get: function() { return __WEBPACK_IMPORTED_MODULE_9__user__[\"a\"]; }});\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _class, _temp, _initialiseProps;\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t\n\t\n\t\n\t\n\t/* harmony import */__WEBPACK_IMPORTED_MODULE_3_superagent_promise_plugin___default.a.Promise = Promise;\n\t\n\t\n\t\n\tvar http = /* harmony import */__WEBPACK_IMPORTED_MODULE_3_superagent_promise_plugin___default.a.patch(/* harmony import */__WEBPACK_IMPORTED_MODULE_2_superagent___default.a);\n\t\n\t\n\t\n\tvar Exobot = (_temp = _class = function () {\n\t  function Exobot(name) {\n\t    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\t\n\t    _classCallCheck(this, Exobot);\n\t\n\t    _initialiseProps.call(this);\n\t\n\t    this.name = name;\n\t    this.alias = options.alias;\n\t    this.emitter = new /* harmony import */__WEBPACK_IMPORTED_MODULE_0_eventemitter3___default.a();\n\t    this.http = http;\n\t    this.requirePermissions = options.requirePermissions;\n\t\n\t    this.initLog(options.logLevel || /* harmony import */__WEBPACK_IMPORTED_MODULE_1_log___default.a.WARNING);\n\t    this.initAdapters(options.adapters);\n\t    this.initPlugins(options.plugins);\n\t\n\t    var dbPath = options.dbPath || './data/' + name + '.json';\n\t    this.initDB(options.key, dbPath, options.readFile, options.writeFile);\n\t  }\n\t\n\t  _createClass(Exobot, [{\n\t    key: 'addPlugin',\n\t    value: function addPlugin(plugin) {\n\t      plugin.register(this);\n\t      this.plugins.push(plugin);\n\t    }\n\t  }, {\n\t    key: 'addAdapter',\n\t    value: function addAdapter(adapter) {\n\t      var name = adapter.name;\n\t\n\t      if (this.getAdapterByName(name)) {\n\t        this.log.warning('Multiple \"' + name + '\" adapters were initialized.');\n\t      }\n\t\n\t      adapter.register(this);\n\t      this.adapters[adapter.id] = adapter;\n\t    }\n\t  }, {\n\t    key: 'prependNameForWhisper',\n\t    value: function prependNameForWhisper(text) {\n\t      if (text.slice(0, this.name.length).toLowerCase() !== this.name.toLowerCase() && text.slice(0, this.alias.length).toLowerCase() !== this.alias.toLowerCase()) {\n\t        text = this.name + ' ' + text;\n\t      }\n\t\n\t      return text;\n\t    }\n\t  }, {\n\t    key: 'send',\n\t    value: function send(message) {\n\t      if (!message.text) {\n\t        return;\n\t      }\n\t      var adapter = this.getAdapterByMessage(message);\n\t\n\t      if (!adapter) {\n\t        this.bot.log.warning('Message sent with invalid adapter: ' + message.adapter);\n\t        return;\n\t      }\n\t\n\t      adapter.send(message);\n\t    }\n\t  }, {\n\t    key: 'getAdapterByMessage',\n\t    value: function getAdapterByMessage(message) {\n\t      return this.adapters[message.adapter];\n\t    }\n\t  }, {\n\t    key: 'getAdapterByName',\n\t    value: function getAdapterByName(name) {\n\t      var _this = this;\n\t\n\t      return Object.keys(this.adapters).map(function (id) {\n\t        return _this.adapters[id];\n\t      }).find(function (a) {\n\t        return a.name.toLowerCase() === name.toLowerCase();\n\t      });\n\t    }\n\t  }]);\n\t\n\t  return Exobot;\n\t}(), _initialiseProps = function _initialiseProps() {\n\t  var _this2 = this;\n\t\n\t  this.plugins = [];\n\t  this.adapters = {};\n\t\n\t  this.initAdapters = function () {\n\t    var adapters = arguments.length <= 0 || arguments[0] === undefined ? [] : arguments[0];\n\t\n\t    adapters.forEach(function (a) {\n\t      return _this2.addAdapter(a);\n\t    });\n\t  };\n\t\n\t  this.initPlugins = function () {\n\t    var plugins = arguments.length <= 0 || arguments[0] === undefined ? [] : arguments[0];\n\t\n\t    plugins.forEach(function (p) {\n\t      _this2.addPlugin(p);\n\t\n\t      // if the Permissions plugin isn't initialized, we can optimize later on\n\t      // by not waiting for DB initialization and permissions checking.\n\t      if (p instanceof /* harmony import */__WEBPACK_IMPORTED_MODULE_4__plugins_plugins__[\"Permissions\"]) {\n\t        _this2.usePermissions = true;\n\t      }\n\t    });\n\t  };\n\t\n\t  this.initLog = function (logLevel) {\n\t    var log = new /* harmony import */__WEBPACK_IMPORTED_MODULE_1_log___default.a(logLevel || /* harmony import */__WEBPACK_IMPORTED_MODULE_1_log___default.a.WARNING);\n\t    _this2.log = log;\n\t    _this2.logLevel = logLevel;\n\t\n\t    if (logLevel === /* harmony import */__WEBPACK_IMPORTED_MODULE_1_log___default.a.DEBUG) {\n\t      setInterval(_this2.logProcess, 10000);\n\t    }\n\t  };\n\t\n\t  this.initDB = function (key, dbPath, readFile, writeFile) {\n\t    if (!key) {\n\t      _this2.log.critical('Pass options.key in to bot initializer. Database not initializing.');\n\t      return;\n\t    }\n\t\n\t    /* harmony import */__WEBPACK_IMPORTED_MODULE_5__db__[\"DB\"].bind()({\n\t      key: key,\n\t      readFile: readFile,\n\t      writeFile: writeFile,\n\t      path: dbPath,\n\t      emitter: _this2.emitter\n\t    }).then(function (db) {\n\t      _this2.db = db;\n\t      _this2.emitter.emit('dbLoaded', db);\n\t    }, _this2.log.critical);\n\t  };\n\t\n\t  this.logProcess = function () {\n\t    _this2.log.debug(process.memoryUsage(), process.cpuUsage());\n\t  };\n\t}, _temp);\n\t/* harmony export */ Object.defineProperty(exports, \"Exobot\", {configurable: false, enumerable: true, get: function() { return Exobot; }});\n\t\n\t\n\t\n\t\n\t\n\t\n\tvar LogLevels = /* harmony import */__WEBPACK_IMPORTED_MODULE_1_log___default.a;\n\t/* harmony export */ Object.defineProperty(exports, \"LogLevels\", {configurable: false, enumerable: true, get: function() { return LogLevels; }});\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__plugin__ = __webpack_require__(1);\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t\n\t\n\tvar EventPlugin = function (_Plugin) {\n\t  _inherits(EventPlugin, _Plugin);\n\t\n\t  function EventPlugin() {\n\t    _classCallCheck(this, EventPlugin);\n\t\n\t    return _possibleConstructorReturn(this, (EventPlugin.__proto__ || Object.getPrototypeOf(EventPlugin)).apply(this, arguments));\n\t  }\n\t\n\t  return EventPlugin;\n\t}(/* harmony import */__WEBPACK_IMPORTED_MODULE_0__plugin__[\"a\"]);\n\t\n\t\n\t/* harmony export */ Object.defineProperty(exports, \"a\", {configurable: false, enumerable: true, get: function() { return EventPlugin; }});\n\n/***/ },\n/* 22 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__plugin__ = __webpack_require__(1);\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t\n\t\n\tvar HTTPPlugin = function (_Plugin) {\n\t  _inherits(HTTPPlugin, _Plugin);\n\t\n\t  function HTTPPlugin() {\n\t    _classCallCheck(this, HTTPPlugin);\n\t\n\t    return _possibleConstructorReturn(this, (HTTPPlugin.__proto__ || Object.getPrototypeOf(HTTPPlugin)).apply(this, arguments));\n\t  }\n\t\n\t  return HTTPPlugin;\n\t}(/* harmony import */__WEBPACK_IMPORTED_MODULE_0__plugin__[\"a\"]);\n\t\n\t\n\t/* harmony export */ Object.defineProperty(exports, \"a\", {configurable: false, enumerable: true, get: function() { return HTTPPlugin; }});\n\n/***/ },\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__chat__ = __webpack_require__(0);\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _desc, _value, _class;\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n\t  var desc = {};\n\t  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n\t    desc[key] = descriptor[key];\n\t  });\n\t  desc.enumerable = !!desc.enumerable;\n\t  desc.configurable = !!desc.configurable;\n\t\n\t  if ('value' in desc || desc.initializer) {\n\t    desc.writable = true;\n\t  }\n\t\n\t  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n\t    return decorator(target, property, desc) || desc;\n\t  }, desc);\n\t\n\t  if (context && desc.initializer !== void 0) {\n\t    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n\t    desc.initializer = undefined;\n\t  }\n\t\n\t  if (desc.initializer === void 0) {\n\t    Object['define' + 'Property'](target, property, desc);\n\t    desc = null;\n\t  }\n\t\n\t  return desc;\n\t}\n\t\n\t\n\t\n\tvar GREETINGS = ['hi', 'hello', 'sup', 'greetings', 'yo', 'hey'];\n\t\n\tvar FAREWELLS = ['goodbye', 'farwell', 'bye', 'later', 'see ya', 'cya'];\n\t\n\tvar shouldGreet = function shouldGreet(m) {\n\t  return GREETINGS.includes(m.text.toLowerCase());\n\t};\n\tvar shouldFarewell = function shouldFarewell(m) {\n\t  return FAREWELLS.includes(m.text.toLowerCase());\n\t};\n\t\n\tvar Greetings = (_dec = /* harmony import */__WEBPACK_IMPORTED_MODULE_0__chat__[\"a\"].bind()('Greets you back when you greet the channel.'), _dec2 = /* harmony import */__WEBPACK_IMPORTED_MODULE_0__chat__[\"b\"].bind()('greetings'), _dec3 = /* harmony import */__WEBPACK_IMPORTED_MODULE_0__chat__[\"c\"].bind()(shouldGreet), _dec4 = /* harmony import */__WEBPACK_IMPORTED_MODULE_0__chat__[\"a\"].bind()('Says goodbye when you do.'), _dec5 = /* harmony import */__WEBPACK_IMPORTED_MODULE_0__chat__[\"b\"].bind()('greetings'), _dec6 = /* harmony import */__WEBPACK_IMPORTED_MODULE_0__chat__[\"c\"].bind()(shouldFarewell), (_class = function (_ChatPlugin) {\n\t  _inherits(Greetings, _ChatPlugin);\n\t\n\t  function Greetings() {\n\t    var _ref;\n\t\n\t    var _temp, _this, _ret;\n\t\n\t    _classCallCheck(this, Greetings);\n\t\n\t    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t      args[_key] = arguments[_key];\n\t    }\n\t\n\t    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Greetings.__proto__ || Object.getPrototypeOf(Greetings)).call.apply(_ref, [this].concat(args))), _this), _this.name = 'greeting', _temp), _possibleConstructorReturn(_this, _ret);\n\t  }\n\t\n\t  _createClass(Greetings, [{\n\t    key: 'greeting',\n\t    value: function greeting(_, message) {\n\t      var randomGreeting = GREETINGS[parseInt(Math.random() * GREETINGS.length)];\n\t      return randomGreeting + ', ' + message.user.name + '!';\n\t    }\n\t  }, {\n\t    key: 'farewell',\n\t    value: function farewell(_, message) {\n\t      var randomFarewell = FAREWELLS[parseInt(Math.random() * FAREWELLS.length)];\n\t      return randomFarewell + ', ' + message.user.name + '!';\n\t    }\n\t  }]);\n\t\n\t  return Greetings;\n\t}(/* harmony import */__WEBPACK_IMPORTED_MODULE_0__chat__[\"d\"]), (_applyDecoratedDescriptor(_class.prototype, 'greeting', [_dec, _dec2, _dec3], Object.getOwnPropertyDescriptor(_class.prototype, 'greeting'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'farewell', [_dec4, _dec5, _dec6], Object.getOwnPropertyDescriptor(_class.prototype, 'farewell'), _class.prototype)), _class));\n\t/* harmony export */ Object.defineProperty(exports, \"a\", {configurable: false, enumerable: true, get: function() { return Greetings; }});\n\n/***/ },\n/* 24 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__chat__ = __webpack_require__(0);\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _desc, _value, _class;\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n\t  var desc = {};\n\t  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n\t    desc[key] = descriptor[key];\n\t  });\n\t  desc.enumerable = !!desc.enumerable;\n\t  desc.configurable = !!desc.configurable;\n\t\n\t  if ('value' in desc || desc.initializer) {\n\t    desc.writable = true;\n\t  }\n\t\n\t  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n\t    return decorator(target, property, desc) || desc;\n\t  }, desc);\n\t\n\t  if (context && desc.initializer !== void 0) {\n\t    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n\t    desc.initializer = undefined;\n\t  }\n\t\n\t  if (desc.initializer === void 0) {\n\t    Object['define' + 'Property'](target, property, desc);\n\t    desc = null;\n\t  }\n\t\n\t  return desc;\n\t}\n\t\n\t\n\t\n\tvar Help = (_dec = /* harmony import */__WEBPACK_IMPORTED_MODULE_0__chat__[\"a\"].bind()('/help explains commands.'), _dec2 = /* harmony import */__WEBPACK_IMPORTED_MODULE_0__chat__[\"b\"].bind()('help'), _dec3 = /* harmony import */__WEBPACK_IMPORTED_MODULE_0__chat__[\"e\"].bind()(/^help$/i), _dec4 = /* harmony import */__WEBPACK_IMPORTED_MODULE_0__chat__[\"a\"].bind()('/help <search> finds information about a specific command.'), _dec5 = /* harmony import */__WEBPACK_IMPORTED_MODULE_0__chat__[\"b\"].bind()('help'), _dec6 = /* harmony import */__WEBPACK_IMPORTED_MODULE_0__chat__[\"e\"].bind()(/^help (\\w+)$/i), (_class = function (_ChatPlugin) {\n\t  _inherits(Help, _ChatPlugin);\n\t\n\t  function Help() {\n\t    var _ref;\n\t\n\t    var _temp, _this, _ret;\n\t\n\t    _classCallCheck(this, Help);\n\t\n\t    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t      args[_key] = arguments[_key];\n\t    }\n\t\n\t    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Help.__proto__ || Object.getPrototypeOf(Help)).call.apply(_ref, [this].concat(args))), _this), _this.name = 'help', _temp), _possibleConstructorReturn(_this, _ret);\n\t  }\n\t\n\t  _createClass(Help, [{\n\t    key: 'pluginHelp',\n\t    value: function pluginHelp() {\n\t      return this.bot.plugins.filter(function (p) {\n\t        return p.help && p.help.length > 0;\n\t      }).map(function (p) {\n\t        return p.helpText().join('\\n');\n\t      }, []).join('\\n');\n\t    }\n\t  }, {\n\t    key: 'pluginHelpSearch',\n\t    value: function pluginHelpSearch(_ref2) {\n\t      var _ref3 = _slicedToArray(_ref2, 2);\n\t\n\t      var search = _ref3[1];\n\t\n\t      return this.bot.plugins.filter(function (p) {\n\t        return p.help && p.help.length > 0;\n\t      }).map(function (p) {\n\t        return p.helpText().filter(function (t) {\n\t          return t.toLowerCase().indexOf(search.toLowerCase()) > -1;\n\t        }).join('\\n');\n\t      }, []).join('\\n');\n\t    }\n\t  }]);\n\t\n\t  return Help;\n\t}(/* harmony import */__WEBPACK_IMPORTED_MODULE_0__chat__[\"d\"]), (_applyDecoratedDescriptor(_class.prototype, 'pluginHelp', [_dec, _dec2, _dec3], Object.getOwnPropertyDescriptor(_class.prototype, 'pluginHelp'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'pluginHelpSearch', [_dec4, _dec5, _dec6], Object.getOwnPropertyDescriptor(_class.prototype, 'pluginHelpSearch'), _class.prototype)), _class));\n\t/* harmony export */ Object.defineProperty(exports, \"a\", {configurable: false, enumerable: true, get: function() { return Help; }});\n\n/***/ },\n/* 25 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__chat__ = __webpack_require__(0);\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _dec15, _dec16, _dec17, _dec18, _dec19, _dec20, _dec21, _desc, _value, _class, _class2, _temp;\n\t\n\tfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { return step(\"next\", value); }, function (err) { return step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n\t  var desc = {};\n\t  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n\t    desc[key] = descriptor[key];\n\t  });\n\t  desc.enumerable = !!desc.enumerable;\n\t  desc.configurable = !!desc.configurable;\n\t\n\t  if ('value' in desc || desc.initializer) {\n\t    desc.writable = true;\n\t  }\n\t\n\t  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n\t    return decorator(target, property, desc) || desc;\n\t  }, desc);\n\t\n\t  if (context && desc.initializer !== void 0) {\n\t    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n\t    desc.initializer = undefined;\n\t  }\n\t\n\t  if (desc.initializer === void 0) {\n\t    Object['define' + 'Property'](target, property, desc);\n\t    desc = null;\n\t  }\n\t\n\t  return desc;\n\t}\n\t\n\t\n\t\n\tvar Permissions = (_dec = /* harmony import */__WEBPACK_IMPORTED_MODULE_0__chat__[\"a\"].bind()('/permissions authorize admin <password> to authorize yourself as an admin'), _dec2 = /* harmony import */__WEBPACK_IMPORTED_MODULE_0__chat__[\"b\"].bind()('public'), _dec3 = /* harmony import */__WEBPACK_IMPORTED_MODULE_0__chat__[\"e\"].bind()(/^permissions authorize admin (\\S+)$/i), _dec4 = /* harmony import */__WEBPACK_IMPORTED_MODULE_0__chat__[\"a\"].bind()('/permissions add user <user> <role> to add a role to a user'), _dec5 = /* harmony import */__WEBPACK_IMPORTED_MODULE_0__chat__[\"b\"].bind()('role-management'), _dec6 = /* harmony import */__WEBPACK_IMPORTED_MODULE_0__chat__[\"e\"].bind()(/^permissions add user (\\w+) (\\w+)$/i), _dec7 = /* harmony import */__WEBPACK_IMPORTED_MODULE_0__chat__[\"a\"].bind()('/permissions view user <user> to view roles given to a user'), _dec8 = /* harmony import */__WEBPACK_IMPORTED_MODULE_0__chat__[\"b\"].bind()('role-management'), _dec9 = /* harmony import */__WEBPACK_IMPORTED_MODULE_0__chat__[\"e\"].bind()(/^permissions view user (\\w+)$/i), _dec10 = /* harmony import */__WEBPACK_IMPORTED_MODULE_0__chat__[\"a\"].bind()('/permissions remove user <user> <role> to remove a role from a user'), _dec11 = /* harmony import */__WEBPACK_IMPORTED_MODULE_0__chat__[\"b\"].bind()('role-management'), _dec12 = /* harmony import */__WEBPACK_IMPORTED_MODULE_0__chat__[\"e\"].bind()(/^permissions remove user (\\w+) (\\w+)$/i), _dec13 = /* harmony import */__WEBPACK_IMPORTED_MODULE_0__chat__[\"a\"].bind()('/permissions add role <permissiongroup> <role> to allow access to a permissionGroup'), _dec14 = /* harmony import */__WEBPACK_IMPORTED_MODULE_0__chat__[\"b\"].bind()('role-management'), _dec15 = /* harmony import */__WEBPACK_IMPORTED_MODULE_0__chat__[\"e\"].bind()(/^permissions add role (\\S+) (\\w+)$/i), _dec16 = /* harmony import */__WEBPACK_IMPORTED_MODULE_0__chat__[\"a\"].bind()('/permissions remove group <permissionGroup> <role> to allow access to a permissionGroup'), _dec17 = /* harmony import */__WEBPACK_IMPORTED_MODULE_0__chat__[\"b\"].bind()('role-management'), _dec18 = /* harmony import */__WEBPACK_IMPORTED_MODULE_0__chat__[\"e\"].bind()(/^permissions remove role (\\S+) (\\w+)$/i), _dec19 = /* harmony import */__WEBPACK_IMPORTED_MODULE_0__chat__[\"a\"].bind()('/permissions view group <permissionGroup> to view roles with access to ' + 'commands under that permissionGroup'), _dec20 = /* harmony import */__WEBPACK_IMPORTED_MODULE_0__chat__[\"b\"].bind()('role-management'), _dec21 = /* harmony import */__WEBPACK_IMPORTED_MODULE_0__chat__[\"e\"].bind()(/^permissions view group (\\S+)$/i), (_class = (_temp = _class2 = function (_ChatPlugin) {\n\t  _inherits(Permissions, _ChatPlugin);\n\t\n\t  function Permissions(options) {\n\t    _classCallCheck(this, Permissions);\n\t\n\t    var _this = _possibleConstructorReturn(this, (Permissions.__proto__ || Object.getPrototypeOf(Permissions)).apply(this, arguments));\n\t\n\t    _this.name = 'permissions';\n\t    _this.defaultDatabase = { permissions: {} };\n\t\n\t\n\t    if (options) {\n\t      _this.adminPassword = options.adminPassword;\n\t    }\n\t    return _this;\n\t  }\n\t\n\t  _createClass(Permissions, [{\n\t    key: 'register',\n\t    value: function register(bot) {\n\t      _get(Permissions.prototype.__proto__ || Object.getPrototypeOf(Permissions.prototype), 'register', this).call(this, bot);\n\t\n\t      if (!this.adminPassword) {\n\t        bot.log.error('No adminPassword provided to Permissions plugin');\n\t      }\n\t    }\n\t  }, {\n\t    key: 'admin',\n\t    value: function () {\n\t      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(_ref2, message) {\n\t        var _ref3 = _slicedToArray(_ref2, 2);\n\t\n\t        var adminPassword = _ref3[1];\n\t        var id;\n\t        return regeneratorRuntime.wrap(function _callee$(_context) {\n\t          while (1) {\n\t            switch (_context.prev = _context.next) {\n\t              case 0:\n\t                _context.next = 2;\n\t                return this.databaseInitialized();\n\t\n\t              case 2:\n\t                if (!(this.adminPassword && adminPassword === this.adminPassword)) {\n\t                  _context.next = 7;\n\t                  break;\n\t                }\n\t\n\t                id = Permissions.nameToId(message.user.id);\n\t\n\t                this.bot.db.set('permissions.users.' + id + '.roles.admin', true).value();\n\t                this.bot.db.write();\n\t                return _context.abrupt('return', 'User authorized as admin.');\n\t\n\t              case 7:\n\t              case 'end':\n\t                return _context.stop();\n\t            }\n\t          }\n\t        }, _callee, this);\n\t      }));\n\t\n\t      function admin(_x, _x2) {\n\t        return _ref.apply(this, arguments);\n\t      }\n\t\n\t      return admin;\n\t    }()\n\t  }, {\n\t    key: 'addRoleToUser',\n\t    value: function () {\n\t      var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(_ref5, message) {\n\t        var _ref6 = _slicedToArray(_ref5, 3);\n\t\n\t        var match = _ref6[0];\n\t        var name = _ref6[1];\n\t        var role = _ref6[2];\n\t        var userId;\n\t        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n\t          while (1) {\n\t            switch (_context2.prev = _context2.next) {\n\t              case 0:\n\t                role = Permissions.nameToId(role);\n\t                _context2.next = 3;\n\t                return this.databaseInitialized();\n\t\n\t              case 3:\n\t                userId = Permissions.nameToId(this.bot.adapters[message.adapter].getUserIdByUserName(name));\n\t\n\t                if (!userId) {\n\t                  _context2.next = 8;\n\t                  break;\n\t                }\n\t\n\t                this.bot.db.set('permissions.users.' + userId + '.roles.' + role, true).value();\n\t                this.bot.db.write();\n\t                return _context2.abrupt('return', name + ' added to role ' + role + '.');\n\t\n\t              case 8:\n\t              case 'end':\n\t                return _context2.stop();\n\t            }\n\t          }\n\t        }, _callee2, this);\n\t      }));\n\t\n\t      function addRoleToUser(_x3, _x4) {\n\t        return _ref4.apply(this, arguments);\n\t      }\n\t\n\t      return addRoleToUser;\n\t    }()\n\t  }, {\n\t    key: 'viewUser',\n\t    value: function () {\n\t      var _ref7 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3(_ref8, message) {\n\t        var _ref9 = _slicedToArray(_ref8, 2);\n\t\n\t        var match = _ref9[0];\n\t        var name = _ref9[1];\n\t        var userId, perms;\n\t        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n\t          while (1) {\n\t            switch (_context3.prev = _context3.next) {\n\t              case 0:\n\t                _context3.next = 2;\n\t                return this.databaseInitialized();\n\t\n\t              case 2:\n\t                userId = Permissions.nameToId(this.bot.adapters[message.adapter].getUserIdByUserName(name));\n\t\n\t                if (!userId) {\n\t                  _context3.next = 6;\n\t                  break;\n\t                }\n\t\n\t                perms = Object.keys(this.bot.db.get('permissions.users.' + userId + '.roles').value());\n\t                return _context3.abrupt('return', perms.join(', '));\n\t\n\t              case 6:\n\t              case 'end':\n\t                return _context3.stop();\n\t            }\n\t          }\n\t        }, _callee3, this);\n\t      }));\n\t\n\t      function viewUser(_x5, _x6) {\n\t        return _ref7.apply(this, arguments);\n\t      }\n\t\n\t      return viewUser;\n\t    }()\n\t  }, {\n\t    key: 'removeRoleFromUser',\n\t    value: function () {\n\t      var _ref10 = _asyncToGenerator(regeneratorRuntime.mark(function _callee4(_ref11, message) {\n\t        var _ref12 = _slicedToArray(_ref11, 3);\n\t\n\t        var match = _ref12[0];\n\t        var name = _ref12[1];\n\t        var role = _ref12[2];\n\t        var userId, roles;\n\t        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n\t          while (1) {\n\t            switch (_context4.prev = _context4.next) {\n\t              case 0:\n\t                role = Permissions.nameToId(role);\n\t                _context4.next = 3;\n\t                return this.databaseInitialized();\n\t\n\t              case 3:\n\t                userId = Permissions.nameToId(this.bot.adapters[message.adapter].getUserIdByUserName(name));\n\t\n\t                if (!userId) {\n\t                  _context4.next = 10;\n\t                  break;\n\t                }\n\t\n\t                roles = this.bot.db.get('permissions.users.' + userId + '.roles').value();\n\t\n\t                delete roles[role];\n\t                this.bot.db.set('permissions.users.' + userId + '.roles', roles).value();\n\t                this.bot.db.write();\n\t                return _context4.abrupt('return', name + ' removed from role ' + role + '.');\n\t\n\t              case 10:\n\t              case 'end':\n\t                return _context4.stop();\n\t            }\n\t          }\n\t        }, _callee4, this);\n\t      }));\n\t\n\t      function removeRoleFromUser(_x7, _x8) {\n\t        return _ref10.apply(this, arguments);\n\t      }\n\t\n\t      return removeRoleFromUser;\n\t    }()\n\t  }, {\n\t    key: 'addRoleToGroup',\n\t    value: function () {\n\t      var _ref13 = _asyncToGenerator(regeneratorRuntime.mark(function _callee5(_ref14 /*, message*/) {\n\t        var _ref15 = _slicedToArray(_ref14, 3);\n\t\n\t        var permissionGroup = _ref15[1];\n\t        var role = _ref15[2];\n\t        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n\t          while (1) {\n\t            switch (_context5.prev = _context5.next) {\n\t              case 0:\n\t                role = Permissions.nameToId(role);\n\t                _context5.next = 3;\n\t                return this.databaseInitialized();\n\t\n\t              case 3:\n\t\n\t                this.bot.db.set('permissions.groups.' + permissionGroup + '.' + role, true).value();\n\t                this.bot.db.write();\n\t                return _context5.abrupt('return', 'role \"' + role + '\" given permission to commands under group \"' + permissionGroup + '\".');\n\t\n\t              case 6:\n\t              case 'end':\n\t                return _context5.stop();\n\t            }\n\t          }\n\t        }, _callee5, this);\n\t      }));\n\t\n\t      function addRoleToGroup(_x9) {\n\t        return _ref13.apply(this, arguments);\n\t      }\n\t\n\t      return addRoleToGroup;\n\t    }()\n\t  }, {\n\t    key: 'removeRoleFromGroup',\n\t    value: function () {\n\t      var _ref16 = _asyncToGenerator(regeneratorRuntime.mark(function _callee6(_ref17 /*, message*/) {\n\t        var _ref18 = _slicedToArray(_ref17, 3);\n\t\n\t        var permissionGroup = _ref18[1];\n\t        var role = _ref18[2];\n\t        var group;\n\t        return regeneratorRuntime.wrap(function _callee6$(_context6) {\n\t          while (1) {\n\t            switch (_context6.prev = _context6.next) {\n\t              case 0:\n\t                role = Permissions.nameToId(role);\n\t                _context6.next = 3;\n\t                return this.databaseInitialized();\n\t\n\t              case 3:\n\t                group = this.bot.db.get('permissions.groups.' + permissionGroup).value();\n\t\n\t                delete group[role];\n\t                this.bot.db.set('permissions.groups.' + permissionGroup, group).value();\n\t                this.bot.db.write();\n\t                return _context6.abrupt('return', 'role \"' + role + '\" removed permission to commands under group \"' + permissionGroup + '\".');\n\t\n\t              case 8:\n\t              case 'end':\n\t                return _context6.stop();\n\t            }\n\t          }\n\t        }, _callee6, this);\n\t      }));\n\t\n\t      function removeRoleFromGroup(_x10) {\n\t        return _ref16.apply(this, arguments);\n\t      }\n\t\n\t      return removeRoleFromGroup;\n\t    }()\n\t  }, {\n\t    key: 'viewGroup',\n\t    value: function () {\n\t      var _ref19 = _asyncToGenerator(regeneratorRuntime.mark(function _callee7(_ref20 /*, message*/) {\n\t        var _ref21 = _slicedToArray(_ref20, 2);\n\t\n\t        var group = _ref21[1];\n\t        var perms;\n\t        return regeneratorRuntime.wrap(function _callee7$(_context7) {\n\t          while (1) {\n\t            switch (_context7.prev = _context7.next) {\n\t              case 0:\n\t                _context7.next = 2;\n\t                return this.databaseInitialized();\n\t\n\t              case 2:\n\t                perms = Object.keys(this.bot.db.get('permissions.groups.' + group).value());\n\t                return _context7.abrupt('return', perms.join(', '));\n\t\n\t              case 4:\n\t              case 'end':\n\t                return _context7.stop();\n\t            }\n\t          }\n\t        }, _callee7, this);\n\t      }));\n\t\n\t      function viewGroup(_x11) {\n\t        return _ref19.apply(this, arguments);\n\t      }\n\t\n\t      return viewGroup;\n\t    }()\n\t  }]);\n\t\n\t  return Permissions;\n\t}(/* harmony import */__WEBPACK_IMPORTED_MODULE_0__chat__[\"d\"]), _class2.nameToId = function (name) {\n\t  return name.replace(/[^\\w]/g, '').toLowerCase();\n\t}, _temp), (_applyDecoratedDescriptor(_class.prototype, 'admin', [_dec, _dec2, _dec3], Object.getOwnPropertyDescriptor(_class.prototype, 'admin'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'addRoleToUser', [_dec4, _dec5, _dec6], Object.getOwnPropertyDescriptor(_class.prototype, 'addRoleToUser'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'viewUser', [_dec7, _dec8, _dec9], Object.getOwnPropertyDescriptor(_class.prototype, 'viewUser'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'removeRoleFromUser', [_dec10, _dec11, _dec12], Object.getOwnPropertyDescriptor(_class.prototype, 'removeRoleFromUser'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'addRoleToGroup', [_dec13, _dec14, _dec15], Object.getOwnPropertyDescriptor(_class.prototype, 'addRoleToGroup'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'removeRoleFromGroup', [_dec16, _dec17, _dec18], Object.getOwnPropertyDescriptor(_class.prototype, 'removeRoleFromGroup'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'viewGroup', [_dec19, _dec20, _dec21], Object.getOwnPropertyDescriptor(_class.prototype, 'viewGroup'), _class.prototype)), _class));\n\t/* harmony export */ Object.defineProperty(exports, \"a\", {configurable: false, enumerable: true, get: function() { return Permissions; }});\n\n/***/ },\n/* 26 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"cryptr\");\n\n/***/ },\n/* 27 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"fs-extra\");\n\n/***/ },\n/* 28 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"lodash/array\");\n\n/***/ },\n/* 29 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"lowdb\");\n\n/***/ },\n/* 30 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"readline\");\n\n/***/ },\n/* 31 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"underscore-db\");\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** exobot.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 20);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap d1e0a1408c4fc1ca94f4\n **/","import Plugin from './plugin';\nimport TextMessage from '../messages/text';\nimport { intersection } from 'lodash/array';\n\nconst DEFAULT_REGEXP = /.+/;\n\nexport class ChatPlugin extends Plugin {\n  regexp = DEFAULT_REGEXP;\n\n  respondFunctions = [];\n  listenFunctions = [];\n  help = [];\n\n  constructor () {\n    super(...arguments);\n  }\n\n  helpText () {\n    return this.help.map(n => `[${this[n].permissionGroup}] ${this[n].help}`);\n  }\n\n  register (bot) {\n    this.bot = bot;\n    this.botNameRegex = new RegExp(`^(?:(?:@?${bot.name}|${bot.alias})[,\\\\s:.-]*)(.+)`, 'i');\n\n    if (this.postConstructor) {\n      this.postConstructor.forEach(([fn, args]) => fn.bind(this)(...args));\n    }\n\n    bot.emitter.on('receive-message', message => {\n      // v = [\n      //   validation function or regex,\n      //   the response function from the plugin,\n      //   the name of the function (the class.property name)\n      // ];\n      // as pushed by the listen/respond functions below\n      this.respondFunctions.forEach(v => this.process(...v, message, true));\n      this.listenFunctions.forEach(v => this.process(...v, message));\n    });\n  }\n\n  async process (validation, response, fnName, message, isResponder=false) {\n    if (isResponder) {\n      const text = this.validateBotName(message);\n\n      if (text) {\n        message = new TextMessage({ ...message, text, direct: true });\n      } else {\n        return;\n      }\n    }\n\n    if (validation.exec) { validation = this.validate(validation); }\n\n    const res = validation(message);\n\n    if (res) {\n      if (await this.checkPermissions(message.user.id, this[fnName].permissionGroup)) {\n        const text = response.bind(this)(res, message);\n\n        if (text) {\n          if (text instanceof Promise) {\n            text.then(t => {\n              const newMessage = new TextMessage({ ...message, text: t });\n              this.bot.send(newMessage);\n            });\n          } else {\n            const newMessage = new TextMessage({ ...message, text });\n            this.bot.send(newMessage);\n          }\n        }\n      }\n    }\n  }\n\n  async checkPermissions (userId, commandPermissionGroup) {\n    if (!this.bot.usePermissions) { return true; }\n\n    // special group for admin authorization - otherwise you could never auth\n    // in the first place when public commands are disabled\n    if (commandPermissionGroup === 'permissions.public') { return true; }\n\n    await this.databaseInitialized();\n\n    // get user's roles\n    const roles = this.bot.db.get(`permissions.users.${userId}.roles`).value();\n\n    // if user has `admin` role, allow it\n    if (roles.admin) { return true; }\n\n    // get roles assigned to the command group\n    const groups = this.bot.db.get(`permissions.groups.${commandPermissionGroup}`).value();\n\n    // if there are no groups, and requirePermissions is false, allow it\n    // requirePermissions = false == (public by default)\n    if (!groups || !Object.keys(groups)) {\n      if (!this.bot.requirePermissions) {\n        return true;\n      }\n    }\n    // if command is in `public`, allow it\n    if (groups.public) { return true; }\n\n    // check user's list of roles against list of groups that have the command\n    // if there's a match (user is in a group with the command), allow it\n    if (intersection(Object.keys(roles), Object.keys(groups)).length) {\n      return true;\n    }\n\n    return false;\n  }\n\n  validate (regex) {\n    return message => regex.exec(message.text);\n  }\n\n  validateBotName (message) {\n    const exec = this.botNameRegex.exec(message.text);\n    if (!exec) { return; }\n\n    return exec[1];\n  }\n\n  respond (validation, fn, name) {\n    this.respondFunctions.push([validation, fn, name]);\n  }\n\n  listen (validation, fn, name) {\n    this.listenFunctions.push([validation, fn, name]);\n  }\n\n  setHelp (text, fnName) {\n    this.help.push(fnName);\n    this[fnName].help = text;\n  }\n\n  setPermissionGroup (fn, name) {\n    this[fn].permissionGroup = `${this.name}.${name}`;\n  }\n}\n\nexport const listen = (validation) => (target, name, descriptor) => {\n  const fn = descriptor.value;\n\n  if (!fn.permissionGroup) {\n    fn.permissionGoup = `${target.name}.${name}`;\n  }\n\n  target.postConstructor = target.postConstructor || [];\n  target.postConstructor.push(\n    [target.listen, [validation, fn, name]]\n  );\n};\n\nexport const respond = (validation) => (target, name, descriptor) => {\n  const fn = descriptor.value;\n\n  if (!fn.permissionGroup) {\n    fn.permissionGoup = `${target.name}.${name}`;\n  }\n\n  target.postConstructor = target.postConstructor || [];\n  target.postConstructor.push(\n    [target.respond, [validation, fn, name]]\n  );\n};\n\nexport const help = (text) => (target, fnName) => {\n  target.postConstructor.push(\n    [target.setHelp, [text, fnName]]\n  );\n};\n\nexport const permissionGroup = (name) => (target, fnName) => {\n  target.postConstructor.push([target.setPermissionGroup, [fnName, name] ]);\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/plugins/chat.js\n **/","export default class Plugin {\n  help = undefined;\n  _requiresDatabase = false;\n\n  constructor (options={}) {\n    this.options = options;\n  }\n\n  register (bot) {\n    if (!bot) { throw new Error('No bot passed to register; fatal.'); }\n\n    if (!this.name) {\n      throw new Error(\n        'This plugin has a missing `name` property; some functionality will not work.'\n      );\n    }\n\n    this.bot = bot;\n    this.database();\n  }\n\n  listen () {\n    if (!this.bot) {\n      throw new Error('No bot to listen on; fatal.');\n    }\n  }\n\n  async database () {\n    if (this.defaultDatabase) {\n      await this.databaseInitialized();\n\n      Object.keys(this.defaultDatabase).forEach(name => {\n        const val = this.bot.db.get(name).value();\n\n        if (typeof val === 'undefined') {\n          this.bot.db.set(name, this.defaultDatabase[name]).value();\n        }\n      });\n    }\n  }\n\n  async databaseInitialized () {\n    this._requiresDatabase = true;\n\n    if (this._requiresDatabase && this.bot.db) {\n      return true;\n    }\n\n    return new Promise((resolve) => {\n      this.bot.emitter.on('dbLoaded', resolve);\n    });\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/plugins/plugin.js\n **/","import { v4 as uuid } from 'node-uuid';\n\nexport default class Message {\n  constructor ({ user, channel, adapter, id=uuid() }) {\n    this.user = user;\n    this.channel = channel;\n    this.adapter = adapter;\n    this.id = id;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/messages/message.js\n **/","import Message from './message';\n\nexport default class TextMessage extends Message {\n  constructor ({ text, whisper=false }) {\n    super(...arguments);\n    this.text = text.trim();\n    this.whisper = !!whisper;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/messages/text.js\n **/","export default class User {\n  constructor (name, id=name) {\n    this.name = name;\n    this.id = id;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/user.js\n **/","import { v4 as uuid } from 'node-uuid';\n\nimport TextMessage from '../messages/text';\nimport PresenceMessage from '../messages/presence';\n\nexport default class Adapter {\n  static STATUS = {\n    UNINITIALIZED: 0,\n    CONNECTING: 1,\n    CONNECTED: 2,\n    DISCONNECTED: 3,\n    RECONNECTING: 4,\n    ERROR: 5,\n  }\n\n  constructor (options={}) {\n    this.options = options;\n    this.id = options.id || uuid();\n    this.status = Adapter.STATUS.UNINITIALIZED;\n  }\n\n  register (bot) {\n    if (!bot) { throw new Error('No bot passed to register; fatal.'); }\n    if (!this.name) {\n      throw new Error('This adapter has no `name` property; some plugins will not work.');\n    }\n\n    this.bot = bot;\n\n    this.status = Adapter.STATUS.CONNECTING;\n    this.listen();\n  }\n\n  listen () {\n    if (!this.bot) { throw new Error('No bot to listen on; fatal.'); }\n  }\n\n  receive ({ user, text, channel, whisper }) {\n    const message = new TextMessage({ user, text, channel, whisper, adapter: this.id });\n    this.bot.emitter.emit('receive-message', message);\n  }\n\n  receiveWhisper ({ user, text, channel }) {\n    text = this.bot.prependNameForWhisper(text);\n    this.receive({ user, text, channel, whisper: true });\n  }\n\n  enter ({ user, channel }) {\n    const message = new PresenceMessage({\n      user,\n      channel,\n      adapter: this.id,\n      type: PresenceMessage.TYPES.ENTER,\n    });\n\n    this.bot.emitter.emit('enter', message);\n  }\n\n  leave ({ user, channel }) {\n    const message = new PresenceMessage({\n      user,\n      channel,\n      adapter: this.id,\n      type: PresenceMessage.TYPES.LEAVE,\n    });\n\n    this.bot.emitter.emit('leave', message);\n  }\n\n  send (message) {\n    console.log(message.text);\n  }\n\n  ping () {\n    this.pong();\n  }\n\n  pong () {\n    console.log('Ping received, this.pong() not implemented.');\n  }\n\n  getUserIdByUserName (name) {\n    console.log('getUserIdByUserName not implemented by this adapter.');\n    return name;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/adapters/adapter.js\n **/","import Message from './message';\n\nexport default class PresenceMessage extends Message {\n  static TYPES = {\n    ENTER: 0,\n    LEAVE: 1,\n  }\n\n  constructor ({ type }) {\n    super(...arguments);\n    this.type = type;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/messages/presence.js\n **/","module.exports = require(\"node-uuid\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"node-uuid\"\n ** module id = 9\n ** module chunks = 0\n **/","export { default as Adapter } from './adapter';\n\nimport * as a from './adapters';\nexport const adapters = a;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/adapters/index.js\n **/","export { default as Plugin } from './plugin';\nexport { default as EventPlugin } from './event';\nexport { default as HTTPPlugin } from './http';\n\nexport { ChatPlugin, respond, listen, help, permissionGroup } from './chat';\n\nimport * as p from './plugins';\nexport const plugins = p;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/plugins/index.js\n **/","module.exports = require(\"eventemitter3\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"eventemitter3\"\n ** module id = 13\n ** module chunks = 0\n **/","module.exports = require(\"log\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"log\"\n ** module id = 14\n ** module chunks = 0\n **/","module.exports = require(\"superagent\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"superagent\"\n ** module id = 15\n ** module chunks = 0\n **/","module.exports = require(\"superagent-promise-plugin\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"superagent-promise-plugin\"\n ** module id = 16\n ** module chunks = 0\n **/","import readline from 'readline';\n\nimport Adapter from '../adapter';\nimport User from '../../user';\n\nconst SHELL = 'SHELL';\nconst SHELL_USER = new User('shell');\n\nconst EXIT_COMMANDS = [\n  'exit',\n  'quit',\n  'q',\n];\n\nexport default class ShellAdapter extends Adapter {\n  name = 'shell';\n\n  constructor () {\n    super();\n    this.rl = readline.createInterface({\n      input: process.stdin,\n      output: process.stdout,\n    });\n  }\n\n  prompt () {\n    this.rl.question('Chat: ', (answer) => {\n      if (EXIT_COMMANDS.includes(answer)) {\n        return process.exit();\n      }\n\n      super.receive({\n        text: answer,\n        channel: SHELL,\n        user: SHELL_USER,\n      });\n\n      this.prompt();\n    });\n  }\n\n  register (bot) {\n    super.register(bot);\n    this.prompt();\n    this.status = Adapter.STATUS.CONNECTED;\n  }\n\n  getUserIdByUserName () {\n    return 'shell';\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/adapters/adapters/shell.js\n **/","import Cryptr from 'cryptr';\nimport Low from 'lowdb';\nimport fs from 'fs-extra';\nimport underscoredb from 'underscore-db';\n\nexport const deserialize = cryptr => {\n  return str => {\n    if (!str) { return {}; }\n    const decrypted = cryptr.decrypt(str);\n    const obj = JSON.parse(decrypted);\n    return obj;\n  };\n};\n\nexport const serialize = cryptr => {\n  return obj => {\n    const str = JSON.stringify(obj);\n    const encrypted = cryptr.encrypt(str);\n    return encrypted;\n  };\n};\n\nexport const read = (readFile) => {\n  return (path, deserialize) => {\n    return new Promise((resolve, reject) => {\n      readFile(path).then(data => {\n        try {\n          resolve(deserialize(data));\n        } catch (e) {\n          reject(e);\n        }\n      });\n    });\n  };\n};\n\nexport const write = writeFile => {\n  return (path, obj, serialize) => {\n    return new Promise((resolve, reject) => {\n      try {\n        const data = serialize(obj);\n        writeFile(path, data).then(resolve, reject);\n      } catch (e) {\n        reject(e);\n      }\n    });\n  };\n};\n\nexport const readLocal = (path) => {\n  return new Promise((resolve, reject) => {\n    fs.ensureFile(path, (err) => {\n      if (err) { return reject(err); }\n      fs.readFile(path, 'utf8', (err, data) => {\n        if (err) { return reject(err); }\n        return resolve(data);\n      });\n    });\n  });\n};\n\nexport const writeLocal = (path, data) => {\n  return new Promise((resolve, reject) => {\n    fs.ensureFile(path, (err) => {\n      if (err) { return reject(err); }\n      fs.writeFile(path, data, 'utf8', (err) => {\n        if (err) { return reject(err); }\n        return resolve(data);\n      });\n    });\n  });\n};\n\nexport async function DB ({ path, key, readFile=readLocal, writeFile=writeLocal }) {\n  const cryptr = new Cryptr(key || name);\n  const dbPath = path || `./data/${name}.json`;\n\n  const db = await new Low(dbPath, {\n    storage: {\n      read: read(readFile),\n      write: write(writeFile),\n    },\n    format: {\n      deserialize: deserialize(cryptr),\n      serialize: serialize(cryptr),\n    },\n  });\n\n  db._.mixin(underscoredb);\n  return db;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/db/db.js\n **/","import Emitter from 'eventemitter3';\nimport Log from 'log';\nimport superagent from 'superagent';\nimport sapp from 'superagent-promise-plugin';\nsapp.Promise = Promise;\n\nimport { Permissions } from './plugins/plugins';\n\nconst http = sapp.patch(superagent);\n\nimport { DB } from './db';\n\nexport class Exobot {\n  plugins = [];\n  adapters = {};\n\n  constructor (name, options={}) {\n    this.name = name;\n    this.alias = options.alias;\n    this.emitter = new Emitter();\n    this.http = http;\n    this.requirePermissions = options.requirePermissions;\n\n    this.initLog(options.logLevel || Log.WARNING);\n    this.initAdapters(options.adapters);\n    this.initPlugins(options.plugins);\n\n    const dbPath = options.dbPath || `./data/${name}.json`;\n    this.initDB(options.key, dbPath, options.readFile, options.writeFile);\n  }\n\n  initAdapters = (adapters=[]) => {\n    adapters.forEach(a => this.addAdapter(a));\n  }\n\n  initPlugins = (plugins=[]) => {\n    plugins.forEach(p => {\n      this.addPlugin(p);\n\n      // if the Permissions plugin isn't initialized, we can optimize later on\n      // by not waiting for DB initialization and permissions checking.\n      if (p instanceof Permissions) {\n        this.usePermissions = true;\n      }\n    });\n  }\n\n  initLog = (logLevel) => {\n    const log = new Log(logLevel || Log.WARNING);\n    this.log = log;\n    this.logLevel = logLevel;\n\n    if (logLevel === Log.DEBUG) {\n      setInterval(this.logProcess, 10000);\n    }\n  }\n\n  initDB = (key, dbPath, readFile, writeFile) => {\n    if (!key) {\n      this.log.critical('Pass options.key in to bot initializer. Database not initializing.');\n      return;\n    }\n\n    DB({\n      key,\n      readFile,\n      writeFile,\n      path: dbPath,\n      emitter: this.emitter,\n    }).then((db) => {\n      this.db = db;\n      this.emitter.emit('dbLoaded', db);\n    }, this.log.critical);\n  }\n\n  logProcess = () => {\n    this.log.debug(process.memoryUsage(), process.cpuUsage());\n  }\n\n  addPlugin (plugin) {\n    plugin.register(this);\n    this.plugins.push(plugin);\n  }\n\n  addAdapter (adapter) {\n    const name = adapter.name;\n\n    if (this.getAdapterByName(name)) {\n      this.log.warning(`Multiple \"${name}\" adapters were initialized.`);\n    }\n\n    adapter.register(this);\n    this.adapters[adapter.id] = adapter;\n  }\n\n  prependNameForWhisper (text) {\n    if (\n      text.slice(0, this.name.length).toLowerCase() !== this.name.toLowerCase() &&\n      text.slice(0, this.alias.length).toLowerCase() !== this.alias.toLowerCase()\n    ) {\n      text = `${this.name} ${text}`;\n    }\n\n    return text;\n  }\n\n  send (message) {\n    if (!message.text) { return; }\n    const adapter = this.getAdapterByMessage(message);\n\n    if (!adapter) {\n      this.bot.log.warning(`Message sent with invalid adapter: ${message.adapter}`);\n      return;\n    }\n\n    adapter.send(message);\n  }\n\n  getAdapterByMessage (message) {\n    return this.adapters[message.adapter];\n  }\n\n  getAdapterByName (name) {\n    return Object\n            .keys(this.adapters)\n            .map(id => this.adapters[id])\n            .find(a => a.name.toLowerCase() === name.toLowerCase());\n  }\n}\n\nexport * from './adapters';\nexport * from './messages';\nexport * from './plugins';\nexport * from './db';\nexport { default as User } from './user';\nexport const LogLevels = Log;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/exobot.js\n **/","import Plugin from './plugin';\n\nexport default class EventPlugin extends Plugin {\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/plugins/event.js\n **/","import Plugin from './plugin';\n\nexport default class HTTPPlugin extends Plugin {\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/plugins/http.js\n **/","import { ChatPlugin, listen, help, permissionGroup } from '../chat';\n\nconst GREETINGS = [\n  'hi',\n  'hello',\n  'sup',\n  'greetings',\n  'yo',\n  'hey',\n];\n\nconst FAREWELLS = [\n  'goodbye',\n  'farwell',\n  'bye',\n  'later',\n  'see ya',\n  'cya',\n];\n\nconst shouldGreet = (m) => GREETINGS.includes(m.text.toLowerCase());\nconst shouldFarewell = (m) => FAREWELLS.includes(m.text.toLowerCase());\n\nexport class Greetings extends ChatPlugin {\n  name = 'greeting';\n\n  @help('Greets you back when you greet the channel.');\n  @permissionGroup('greetings');\n  @listen(shouldGreet)\n  greeting (_, message) {\n    const randomGreeting = GREETINGS[parseInt(Math.random() * GREETINGS.length)];\n    return `${randomGreeting}, ${message.user.name}!`;\n  }\n\n  @help('Says goodbye when you do.');\n  @permissionGroup('greetings');\n  @listen(shouldFarewell)\n  farewell (_, message) {\n    const randomFarewell = FAREWELLS[parseInt(Math.random() * FAREWELLS.length)];\n    return `${randomFarewell}, ${message.user.name}!`;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/plugins/plugins/greetings.js\n **/","import { ChatPlugin, respond, help, permissionGroup } from '../chat';\n\nexport class Help extends ChatPlugin {\n  name = 'help';\n\n  @help('/help explains commands.');\n  @permissionGroup('help');\n  @respond(/^help$/i);\n  pluginHelp () {\n    return this.bot.plugins\n                    .filter(p => p.help && p.help.length > 0)\n                    .map(p => p.helpText().join('\\n'), [])\n                    .join('\\n');\n  }\n\n  @help('/help <search> finds information about a specific command.');\n  @permissionGroup('help');\n  @respond(/^help (\\w+)$/i);\n  pluginHelpSearch ([, search]) {\n    return this.bot.plugins\n                    .filter(p => p.help && p.help.length > 0)\n                    .map(p => {\n                      return p.helpText().filter(t => {\n                        return t.toLowerCase().indexOf(search.toLowerCase()) > -1;\n                      }).join('\\n');\n                    }, [])\n                    .join('\\n');\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/plugins/plugins/help.js\n **/","import { ChatPlugin, respond, help, permissionGroup } from '../chat';\n\nexport class Permissions extends ChatPlugin {\n  name = 'permissions';\n  defaultDatabase = { permissions: {} };\n\n  static nameToId = (name) => {\n    return name.replace(/[^\\w]/g, '').toLowerCase();\n  }\n\n  constructor (options) {\n    super(...arguments);\n\n    if (options) {\n      this.adminPassword = options.adminPassword;\n    }\n  }\n\n  register (bot) {\n    super.register(bot);\n\n    if (!this.adminPassword) {\n      bot.log.error('No adminPassword provided to Permissions plugin');\n    }\n  }\n\n  @help('/permissions authorize admin <password> to authorize yourself as an admin');\n  @permissionGroup('public');\n  @respond(/^permissions authorize admin (\\S+)$/i);\n  async admin ([, adminPassword], message) {\n    await this.databaseInitialized();\n\n    // Validate the password - if there is one.\n    if (this.adminPassword && adminPassword === this.adminPassword) {\n      const id = Permissions.nameToId(message.user.id);\n      this.bot.db.set(`permissions.users.${id}.roles.admin`, true).value();\n      this.bot.db.write();\n      return 'User authorized as admin.';\n    }\n  }\n\n  @help('/permissions add user <user> <role> to add a role to a user');\n  @permissionGroup('role-management');\n  @respond(/^permissions add user (\\w+) (\\w+)$/i);\n  async addRoleToUser ([match, name, role], message) {\n    role = Permissions.nameToId(role);\n    await this.databaseInitialized();\n\n    const userId = Permissions.nameToId(\n      this.bot.adapters[message.adapter].getUserIdByUserName(name)\n    );\n\n    if (userId) {\n      this.bot.db.set(`permissions.users.${userId}.roles.${role}`, true).value();\n      this.bot.db.write();\n      return `${name} added to role ${role}.`;\n    }\n  }\n\n  @help('/permissions view user <user> to view roles given to a user');\n  @permissionGroup('role-management');\n  @respond(/^permissions view user (\\w+)$/i);\n  async viewUser ([match, name], message) {\n    await this.databaseInitialized();\n\n    const userId = Permissions.nameToId(\n      this.bot.adapters[message.adapter].getUserIdByUserName(name)\n    );\n\n    if (userId) {\n      const perms = Object.keys(this.bot.db.get(`permissions.users.${userId}.roles`).value());\n      return perms.join(', ');\n    }\n  }\n\n  @help('/permissions remove user <user> <role> to remove a role from a user');\n  @permissionGroup('role-management');\n  @respond(/^permissions remove user (\\w+) (\\w+)$/i);\n  async removeRoleFromUser ([match, name, role], message) {\n    role = Permissions.nameToId(role);\n    await this.databaseInitialized();\n\n    const userId = Permissions.nameToId(\n      this.bot.adapters[message.adapter].getUserIdByUserName(name)\n    );\n\n    if (userId) {\n      const roles = this.bot.db.get(`permissions.users.${userId}.roles`).value();\n      delete roles[role];\n      this.bot.db.set(`permissions.users.${userId}.roles`, roles).value();\n      this.bot.db.write();\n      return `${name} removed from role ${role}.`;\n    }\n  }\n\n  @help('/permissions add role <permissiongroup> <role> to allow access to a permissionGroup');\n  @permissionGroup('role-management');\n  @respond(/^permissions add role (\\S+) (\\w+)$/i);\n  async addRoleToGroup ([, permissionGroup, role]/*, message*/) {\n    role = Permissions.nameToId(role);\n    await this.databaseInitialized();\n\n    this.bot.db.set(`permissions.groups.${permissionGroup}.${role}`, true).value();\n    this.bot.db.write();\n    return `role \"${role}\" given permission to commands under group \"${permissionGroup}\".`;\n  }\n\n  @help('/permissions remove group <permissionGroup> <role> to allow access to a permissionGroup');\n  @permissionGroup('role-management');\n  @respond(/^permissions remove role (\\S+) (\\w+)$/i);\n  async removeRoleFromGroup ([, permissionGroup, role]/*, message*/) {\n    role = Permissions.nameToId(role);\n    await this.databaseInitialized();\n\n    const group = this.bot.db.get(`permissions.groups.${permissionGroup}`).value();\n    delete group[role];\n    this.bot.db.set(`permissions.groups.${permissionGroup}`, group).value();\n    this.bot.db.write();\n    return `role \"${role}\" removed permission to commands under group \"${permissionGroup}\".`;\n  }\n\n  @help(\n    '/permissions view group <permissionGroup> to view roles with access to ' +\n    'commands under that permissionGroup'\n  );\n  @permissionGroup('role-management');\n  @respond(/^permissions view group (\\S+)$/i);\n  async viewGroup ([, group]/*, message*/) {\n    await this.databaseInitialized();\n\n    const perms = Object.keys(this.bot.db.get(`permissions.groups.${group}`).value());\n    return perms.join(', ');\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/plugins/plugins/permissions.js\n **/","module.exports = require(\"cryptr\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"cryptr\"\n ** module id = 26\n ** module chunks = 0\n **/","module.exports = require(\"fs-extra\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"fs-extra\"\n ** module id = 27\n ** module chunks = 0\n **/","module.exports = require(\"lodash/array\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"lodash/array\"\n ** module id = 28\n ** module chunks = 0\n **/","module.exports = require(\"lowdb\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"lowdb\"\n ** module id = 29\n ** module chunks = 0\n **/","module.exports = require(\"readline\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"readline\"\n ** module id = 30\n ** module chunks = 0\n **/","module.exports = require(\"underscore-db\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"underscore-db\"\n ** module id = 31\n ** module chunks = 0\n **/"],"sourceRoot":""}