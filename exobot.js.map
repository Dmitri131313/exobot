{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///exobot.js","webpack:///webpack/bootstrap 49ed7845da55dac7c6b9","webpack:///./src/plugins/chat.js","webpack:///./src/user.js","webpack:///./src/adapters/adapter.js","webpack:///./src/plugins/plugin.js","webpack:///./src/messages/message.js","webpack:///./src/messages/text.js","webpack:///./src/messages/presence.js","webpack:///external \"node-uuid\"","webpack:///./src/adapters/index.js","webpack:///./src/plugins/index.js","webpack:////Users/jack/projects/~/log/lib/log.js","webpack:///external \"babel-polyfill\"","webpack:///external \"eventemitter3\"","webpack:///external \"superagent\"","webpack:///external \"superagent-promise-plugin\"","webpack:///./src/adapters/adapters/discord.js","webpack:///./src/adapters/adapters/shell.js","webpack:///./src/adapters/adapters/slack.js","webpack:///./src/adapters/adapters/twitch.js","webpack:///./src/db/db.js","webpack:///./src/db/s3.js","webpack:///./src/exobot.js","webpack:///./src/plugins/event.js","webpack:///./src/plugins/http.js","webpack:///./src/plugins/plugins/db.js","webpack:///./src/plugins/plugins/giphy.js","webpack:///./src/plugins/plugins/greetings.js","webpack:///./src/plugins/plugins/help.js","webpack:///./src/plugins/plugins/points.js","webpack:///external \"@slack/client\"","webpack:///external \"aws-sdk\"","webpack:///external \"cryptr\"","webpack:///external \"discord.io\"","webpack:///external \"events\"","webpack:///external \"fs-extra\"","webpack:///external \"lowdb\"","webpack:///external \"readline\"","webpack:///external \"tmi.js\"","webpack:///external \"underscore-db\"","webpack:///external \"util\"","webpack:///external \"lodash\"","webpack:///external \"inherits\"","webpack:///./~/@slack/client/lib/models/model.js","webpack:///./~/@slack/client/lib/models/channel-group.js","webpack:///./~/@slack/client/lib/models/base-channel.js","webpack:///./~/@slack/client/lib/models/channel.js","webpack:///./~/@slack/client/lib/models/dm.js","webpack:///./~/@slack/client/lib/models/file.js","webpack:///./~/@slack/client/lib/models/group.js","webpack:///./~/@slack/client/lib/models/mpdm.js","webpack:///./~/@slack/client/lib/models/user-group.js","webpack:///./~/@slack/client/lib/models/user.js","webpack:///./~/@slack/client/lib/models/helpers.js","webpack:///./~/@slack/client/lib/models/index.js","webpack:///./~/@slack/client/lib/models/property-type.js"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_8__","__WEBPACK_EXTERNAL_MODULE_13__","__WEBPACK_EXTERNAL_MODULE_14__","__WEBPACK_EXTERNAL_MODULE_15__","__WEBPACK_EXTERNAL_MODULE_16__","__WEBPACK_EXTERNAL_MODULE_33__","__WEBPACK_EXTERNAL_MODULE_34__","__WEBPACK_EXTERNAL_MODULE_35__","__WEBPACK_EXTERNAL_MODULE_36__","__WEBPACK_EXTERNAL_MODULE_37__","__WEBPACK_EXTERNAL_MODULE_38__","__WEBPACK_EXTERNAL_MODULE_39__","__WEBPACK_EXTERNAL_MODULE_40__","__WEBPACK_EXTERNAL_MODULE_41__","__WEBPACK_EXTERNAL_MODULE_42__","__WEBPACK_EXTERNAL_MODULE_43__","__WEBPACK_EXTERNAL_MODULE_44__","__WEBPACK_EXTERNAL_MODULE_45__","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","Object","defineProperty","configurable","enumerable","get","o","object","property","prototype","hasOwnProperty","p","s","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","writable","setPrototypeOf","__proto__","__WEBPACK_IMPORTED_MODULE_0__plugin__","__WEBPACK_IMPORTED_MODULE_1__messages_text__","_extends","assign","target","arguments","length","source","key","_createClass","defineProperties","props","descriptor","protoProps","staticProps","DEFAULT_REGEXP","ChatPlugin","_Plugin","_this","getPrototypeOf","regexp","respondFunctions","listenFunctions","bot","_this2","botNameRegex","RegExp","alias","emitter","on","forEach","v","process","validation","response","message","_this3","isResponder","undefined","text","validateBotName","direct","exec","validate","res","_text","Promise","then","t","newMessage","send","regex","fn","bind","push","User","id","__WEBPACK_IMPORTED_MODULE_0_node_uuid__","__WEBPACK_IMPORTED_MODULE_0_node_uuid___default","__esModule","__WEBPACK_IMPORTED_MODULE_2__messages_presence__","Adapter","options","status","STATUS","UNINITIALIZED","Error","CONNECTING","listen","_ref","user","channel","whisper","adapter","emit","_ref2","prependNameForWhisper","receive","_ref3","type","TYPES","ENTER","_ref4","LEAVE","console","log","pong","CONNECTED","DISCONNECTED","RECONNECTING","ERROR","_asyncToGenerator","gen","apply","resolve","reject","step","arg","info","error","done","err","Plugin","help","_requiresDatabase","database","_x2","_x3","ref","regeneratorRuntime","mark","_callee","defaultValue","val","wrap","_context","prev","next","databaseInitialized","db","set","stop","_callee2","_context2","abrupt","__WEBPACK_IMPORTED_MODULE_0__db__","__WEBPACK_IMPORTED_MODULE_1__s3__","__WEBPACK_IMPORT_KEY__","Message","_ref$id","__WEBPACK_IMPORTED_MODULE_0__message__","TextMessage","_Message","_ref$whisper","PresenceMessage","__WEBPACK_IMPORTED_MODULE_0__adapter__","__WEBPACK_IMPORTED_MODULE_1__adapters__","adapters","__WEBPACK_IMPORTED_MODULE_1__presence__","__WEBPACK_IMPORTED_MODULE_2__text__","__WEBPACK_IMPORTED_MODULE_1__chat__","__WEBPACK_IMPORTED_MODULE_2__event__","__WEBPACK_IMPORTED_MODULE_3__http__","__WEBPACK_IMPORTED_MODULE_4__plugins__","plugins","fmt","format","EventEmitter","Log","level","stream","toUpperCase","DEBUG","stdout","readable","read","EMERGENCY","ALERT","CRITICAL","WARNING","NOTICE","INFO","buf","setEncoding","chunk","split","map","line","captures","match","obj","date","Date","levelString","msg","levelStr","args","write","emergency","alert","critical","warning","notice","debug","__WEBPACK_IMPORTED_MODULE_0_discord_io__","__WEBPACK_IMPORTED_MODULE_0_discord_io___default","__WEBPACK_IMPORTED_MODULE_1__adapter__","__WEBPACK_IMPORTED_MODULE_2__user__","_get","receiver","Function","desc","getOwnPropertyDescriptor","parent","EVENTS","ready","presence","disconnected","DiscordAdapter","_Adapter","token","botId","username","channels","discordReady","client","setPresence","game","discordDisconnected","a","Client","autorun","keys","discordEvent","mappedFn","_bot$emitter","_len","Array","_key","concat","sendMessage","to","userId","directMessages","gameName","rawEvent","channel_id","__WEBPACK_IMPORTED_MODULE_0__shell__","__WEBPACK_IMPORTED_MODULE_1__discord__","__WEBPACK_IMPORTED_MODULE_2__twitch__","__WEBPACK_IMPORTED_MODULE_3__slack__","__WEBPACK_IMPORTED_MODULE_0_readline__","__WEBPACK_IMPORTED_MODULE_0_readline___default","SHELL","SHELL_USER","EXIT_COMMANDS","ShellAdapter","rl","createInterface","input","stdin","output","question","answer","includes","exit","prompt","_defineProperty","__WEBPACK_IMPORTED_MODULE_0__slack_client__","__WEBPACK_IMPORTED_MODULE_0__slack_client___default","__WEBPACK_IMPORTED_MODULE_1__slack_client_lib_models__","__WEBPACK_IMPORTED_MODULE_1__slack_client_lib_models___default","_EVENTS","__WEBPACK_IMPORTED_MODULE_2__adapter__","__WEBPACK_IMPORTED_MODULE_3__user__","dmName","DM","_modelName","RTM","RTM_CONNECTION_OPENED","AUTHENTICATED","DISCONNECT","UNABLE_TO_RTM_START","ATTEMPTING_RECONNECT","MESSAGE","Slack","slackConnecting","slackConnected","slackAuthenticated","slackDisconnected","slackUnableToStart","slackReconnecting","slackMessage","activeUserId","slackUser","dataStore","getUserById","getChannelGroupOrDMById","receiveWhisper","logLevel","slackEvent","start","__WEBPACK_IMPORTED_MODULE_0_tmi_js__","__WEBPACK_IMPORTED_MODULE_0_tmi_js___default","connecting","connected","logon","reconnect","chat","emoteonly","join","part","mods","ping","roomstate","slowmode","subscribers","subscription","timeout","TwitchAdapter","oauthPassword","_ref$channels","_initialiseProps","identity","password","secure","logger","warn","connection","cluster","connect","twitchEvent","say","twitchConnecting","twitchConnected","twitchLogon","twitchDisconnected","twitchReconnect","twitchChat","twitchUser","twitchEmoteonly","twitchJoin","enter","twitchPart","leave","twitchPing","twitchWhisper","twitchPong","twitchRoomstate","twitchSlowmode","twitchSubscribers","twitchSubscription","twitchTimeout","twitchMods","twitchNotice","__WEBPACK_IMPORTED_MODULE_0_cryptr__","__WEBPACK_IMPORTED_MODULE_0_cryptr___default","__WEBPACK_IMPORTED_MODULE_1_lowdb__","__WEBPACK_IMPORTED_MODULE_1_lowdb___default","__WEBPACK_IMPORTED_MODULE_2_fs_extra__","__WEBPACK_IMPORTED_MODULE_2_fs_extra___default","__WEBPACK_IMPORTED_MODULE_3_underscore_db__","__WEBPACK_IMPORTED_MODULE_3_underscore_db___default","deserialize","serialize","readLocal","writeLocal","DB","cryptr","str","decrypted","decrypt","JSON","parse","stringify","encrypted","encrypt","readFile","path","data","e","writeFile","ensureFile","dbPath","_ref$readFile","_ref$writeFile","storage","sent","_","mixin","_x","readS3","region","accessKeyId","secretAccessKey","bucket","createBucket","_ret","delegateYield","s3bucket","createS3Bucket","__WEBPACK_IMPORTED_MODULE_0_aws_sdk___default","S3","params","Bucket","getObject","Key","statusCode","Body","toString","t0","_typeof","t1","writeS3","_callee4","_ret2","_context4","_callee3","_context3","upload","_x4","_x5","__WEBPACK_IMPORTED_MODULE_0_aws_sdk__","Symbol","iterator","_callee5","_ret3","_context5","newBucket","_x6","_x7","_x8","_x9","__WEBPACK_IMPORTED_MODULE_0_babel_polyfill__","__WEBPACK_IMPORTED_MODULE_0_babel_polyfill___default","__WEBPACK_IMPORTED_MODULE_1_eventemitter3__","__WEBPACK_IMPORTED_MODULE_1_eventemitter3___default","__WEBPACK_IMPORTED_MODULE_2_log__","__WEBPACK_IMPORTED_MODULE_2_log___default","__WEBPACK_IMPORTED_MODULE_3_superagent__","__WEBPACK_IMPORTED_MODULE_3_superagent___default","__WEBPACK_IMPORTED_MODULE_4_superagent_promise_plugin__","__WEBPACK_IMPORTED_MODULE_4_superagent_promise_plugin___default","__WEBPACK_IMPORTED_MODULE_5__db__","__WEBPACK_IMPORTED_MODULE_6__adapters__","__WEBPACK_IMPORTED_MODULE_7__messages__","__WEBPACK_IMPORTED_MODULE_8__plugins__","__WEBPACK_IMPORTED_MODULE_9__user__","Exobot","indexOf","http","patch","initLog","initAdapters","initPlugins","initDB","plugin","register","slice","toLowerCase","addAdapter","addPlugin","setInterval","logProcess","memoryUsage","cpuUsage","EventPlugin","HTTPPlugin","__WEBPACK_IMPORTED_MODULE_0__chat__","DBPlugin","_ChatPlugin","respond","dump","clear","getState","setState","initializePlugins","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","_s","_i","isArray","ENDPOINT","GiphyPlugin","apiKey","giphy","body","search","query","q","api_key","parseInt","Math","random","images","original","url","GREETINGS","FAREWELLS","botname","list","GreetingPlugin","_Object$getPrototypeO","_temp","greeting","farewell","randomGreeting","randomFarewell","HelpPlugin","pluginHelp","filter","__WEBPACK_IMPORTED_MODULE_0__greetings__","__WEBPACK_IMPORTED_MODULE_1__help__","__WEBPACK_IMPORTED_MODULE_2__points__","__WEBPACK_IMPORTED_MODULE_3__db__","__WEBPACK_IMPORTED_MODULE_4__giphy__","nameToId","replace","changePoints","tops","score","things","points","reasonId","existingReason","reason","trim","buildPoints","reasons","updateTops","scores","_ref4$","n","min","_ref5","reasonKeys","_ref6","r","orderBy","Model","opts","_properties","_setProperties","isEmpty","has","isObject","mapValues","PROPERTY_TYPES","helpers","update","_setModelProperty","_setObjectProperty","_setArrayProperty","SIMPLE","ModelClass","hasProperty","isModelObj","getModelClass","MODEL","firstItem","item","MODEL_ARRAY","toJSON","objRepresentation","arrVal","inherits","BaseChannel","ChannelGroup","objectName","history","_typing","unreadCount","lastRead","_maxTs","forEachRight","find","findLastIndex","USER_TYPING_TIMEOUT","super_","latest","addMessage","startedTyping","clearTimeout","setTimeout","recalcUnreads","continueIterating","ts","getType","getTypingUsers","getMessageByTs","hidden","updateMessage","messageUpdatedMsg","msgIndex","Channel","File","Group","MPDM","UserGroup","hasKey","RECOGNIZED_API_TYPE_PREFIXES","substr","modelClass","apiTypePrefix","is_mpim","is_group"],"mappings":"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","file":"exobot.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"node-uuid\"), require(\"babel-polyfill\"), require(\"eventemitter3\"), require(\"superagent\"), require(\"superagent-promise-plugin\"), require(\"@slack/client\"), require(\"aws-sdk\"), require(\"cryptr\"), require(\"discord.io\"), require(\"events\"), require(\"fs-extra\"), require(\"lowdb\"), require(\"readline\"), require(\"tmi.js\"), require(\"underscore-db\"), require(\"util\"), require(\"lodash\"), require(\"inherits\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"node-uuid\", \"babel-polyfill\", \"eventemitter3\", \"superagent\", \"superagent-promise-plugin\", \"@slack/client\", \"aws-sdk\", \"cryptr\", \"discord.io\", \"events\", \"fs-extra\", \"lowdb\", \"readline\", \"tmi.js\", \"underscore-db\", \"util\", \"lodash\", \"inherits\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"exobot.js\"] = factory(require(\"node-uuid\"), require(\"babel-polyfill\"), require(\"eventemitter3\"), require(\"superagent\"), require(\"superagent-promise-plugin\"), require(\"@slack/client\"), require(\"aws-sdk\"), require(\"cryptr\"), require(\"discord.io\"), require(\"events\"), require(\"fs-extra\"), require(\"lowdb\"), require(\"readline\"), require(\"tmi.js\"), require(\"underscore-db\"), require(\"util\"), require(\"lodash\"), require(\"inherits\"));\n\telse\n\t\troot[\"exobot.js\"] = factory(root[\"node-uuid\"], root[\"babel-polyfill\"], root[\"eventemitter3\"], root[\"superagent\"], root[\"superagent-promise-plugin\"], root[\"@slack/client\"], root[\"aws-sdk\"], root[\"cryptr\"], root[\"discord.io\"], root[\"events\"], root[\"fs-extra\"], root[\"lowdb\"], root[\"readline\"], root[\"tmi.js\"], root[\"underscore-db\"], root[\"util\"], root[\"lodash\"], root[\"inherits\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_8__, __WEBPACK_EXTERNAL_MODULE_13__, __WEBPACK_EXTERNAL_MODULE_14__, __WEBPACK_EXTERNAL_MODULE_15__, __WEBPACK_EXTERNAL_MODULE_16__, __WEBPACK_EXTERNAL_MODULE_33__, __WEBPACK_EXTERNAL_MODULE_34__, __WEBPACK_EXTERNAL_MODULE_35__, __WEBPACK_EXTERNAL_MODULE_36__, __WEBPACK_EXTERNAL_MODULE_37__, __WEBPACK_EXTERNAL_MODULE_38__, __WEBPACK_EXTERNAL_MODULE_39__, __WEBPACK_EXTERNAL_MODULE_40__, __WEBPACK_EXTERNAL_MODULE_41__, __WEBPACK_EXTERNAL_MODULE_42__, __WEBPACK_EXTERNAL_MODULE_43__, __WEBPACK_EXTERNAL_MODULE_44__, __WEBPACK_EXTERNAL_MODULE_45__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"node-uuid\"), require(\"babel-polyfill\"), require(\"eventemitter3\"), require(\"superagent\"), require(\"superagent-promise-plugin\"), require(\"@slack/client\"), require(\"aws-sdk\"), require(\"cryptr\"), require(\"discord.io\"), require(\"events\"), require(\"fs-extra\"), require(\"lowdb\"), require(\"readline\"), require(\"tmi.js\"), require(\"underscore-db\"), require(\"util\"), require(\"lodash\"), require(\"inherits\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"node-uuid\", \"babel-polyfill\", \"eventemitter3\", \"superagent\", \"superagent-promise-plugin\", \"@slack/client\", \"aws-sdk\", \"cryptr\", \"discord.io\", \"events\", \"fs-extra\", \"lowdb\", \"readline\", \"tmi.js\", \"underscore-db\", \"util\", \"lodash\", \"inherits\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"exobot.js\"] = factory(require(\"node-uuid\"), require(\"babel-polyfill\"), require(\"eventemitter3\"), require(\"superagent\"), require(\"superagent-promise-plugin\"), require(\"@slack/client\"), require(\"aws-sdk\"), require(\"cryptr\"), require(\"discord.io\"), require(\"events\"), require(\"fs-extra\"), require(\"lowdb\"), require(\"readline\"), require(\"tmi.js\"), require(\"underscore-db\"), require(\"util\"), require(\"lodash\"), require(\"inherits\"));\n\telse\n\t\troot[\"exobot.js\"] = factory(root[\"node-uuid\"], root[\"babel-polyfill\"], root[\"eventemitter3\"], root[\"superagent\"], root[\"superagent-promise-plugin\"], root[\"@slack/client\"], root[\"aws-sdk\"], root[\"cryptr\"], root[\"discord.io\"], root[\"events\"], root[\"fs-extra\"], root[\"lowdb\"], root[\"readline\"], root[\"tmi.js\"], root[\"underscore-db\"], root[\"util\"], root[\"lodash\"], root[\"inherits\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_8__, __WEBPACK_EXTERNAL_MODULE_13__, __WEBPACK_EXTERNAL_MODULE_14__, __WEBPACK_EXTERNAL_MODULE_15__, __WEBPACK_EXTERNAL_MODULE_16__, __WEBPACK_EXTERNAL_MODULE_33__, __WEBPACK_EXTERNAL_MODULE_34__, __WEBPACK_EXTERNAL_MODULE_35__, __WEBPACK_EXTERNAL_MODULE_36__, __WEBPACK_EXTERNAL_MODULE_37__, __WEBPACK_EXTERNAL_MODULE_38__, __WEBPACK_EXTERNAL_MODULE_39__, __WEBPACK_EXTERNAL_MODULE_40__, __WEBPACK_EXTERNAL_MODULE_41__, __WEBPACK_EXTERNAL_MODULE_42__, __WEBPACK_EXTERNAL_MODULE_43__, __WEBPACK_EXTERNAL_MODULE_44__, __WEBPACK_EXTERNAL_MODULE_45__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmory imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmory exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tObject.defineProperty(exports, name, {\n/******/ \t\t\tconfigurable: false,\n/******/ \t\t\tenumerable: true,\n/******/ \t\t\tget: getter\n/******/ \t\t});\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 24);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__plugin__ = __webpack_require__(3);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__messages_text__ = __webpack_require__(6);\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t\n\t\n\t\n\tvar DEFAULT_REGEXP = /.+/;\n\t\n\tvar ChatPlugin = function (_Plugin) {\n\t  _inherits(ChatPlugin, _Plugin);\n\t\n\t  function ChatPlugin() {\n\t    _classCallCheck(this, ChatPlugin);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(ChatPlugin).call(this));\n\t\n\t    _this.regexp = DEFAULT_REGEXP;\n\t    _this.respondFunctions = [];\n\t    _this.listenFunctions = [];\n\t    return _this;\n\t  }\n\t\n\t  _createClass(ChatPlugin, [{\n\t    key: 'register',\n\t    value: function register(bot) {\n\t      var _this2 = this;\n\t\n\t      this.bot = bot;\n\t      this.botNameRegex = new RegExp('^(?:(?:' + bot.name + '|' + bot.alias + ')[,\\\\s:.-]*)(.+)');\n\t\n\t      bot.emitter.on('receive-message', function (m) {\n\t        _this2.respondFunctions.forEach(function (v) {\n\t          return _this2.process(v[0], v[1], m, true);\n\t        });\n\t        _this2.listenFunctions.forEach(function (v) {\n\t          return _this2.process(v[0], v[1], m);\n\t        });\n\t      });\n\t    }\n\t  }, {\n\t    key: 'process',\n\t    value: function process(validation, response, message) {\n\t      var _this3 = this;\n\t\n\t      var isResponder = arguments.length <= 3 || arguments[3] === undefined ? false : arguments[3];\n\t\n\t      if (isResponder) {\n\t        var text = this.validateBotName(message);\n\t\n\t        if (text) {\n\t          message = new __WEBPACK_IMPORTED_MODULE_1__messages_text__[\"a\" /* default */](_extends({}, message, { text: text, direct: true }));\n\t        } else {\n\t          return;\n\t        }\n\t      }\n\t\n\t      if (validation.exec) {\n\t        validation = this.validate(validation);\n\t      }\n\t\n\t      var res = validation(message);\n\t\n\t      if (res) {\n\t        var _text = response(res, message);\n\t\n\t        if (_text) {\n\t          if (_text instanceof Promise) {\n\t            _text.then(function (t) {\n\t              var newMessage = new __WEBPACK_IMPORTED_MODULE_1__messages_text__[\"a\" /* default */](_extends({}, message, { text: t }));\n\t              _this3.bot.send(newMessage);\n\t            });\n\t          } else {\n\t            var newMessage = new __WEBPACK_IMPORTED_MODULE_1__messages_text__[\"a\" /* default */](_extends({}, message, { text: _text }));\n\t            this.bot.send(newMessage);\n\t          }\n\t        }\n\t      }\n\t    }\n\t  }, {\n\t    key: 'validate',\n\t    value: function validate(regex) {\n\t      return function (message) {\n\t        return regex.exec(message.text);\n\t      };\n\t    }\n\t  }, {\n\t    key: 'validateBotName',\n\t    value: function validateBotName(message) {\n\t      var exec = this.botNameRegex.exec(message.text);\n\t      if (!exec) {\n\t        return;\n\t      }\n\t\n\t      return exec[1];\n\t    }\n\t  }, {\n\t    key: 'respond',\n\t    value: function respond(validation, fn) {\n\t      if (fn) {\n\t        fn = fn.bind(this);\n\t      }\n\t      this.respondFunctions.push([validation, fn]);\n\t    }\n\t  }, {\n\t    key: 'listen',\n\t    value: function listen(validation, fn) {\n\t      if (fn) {\n\t        fn = fn.bind(this);\n\t      }\n\t      this.listenFunctions.push([validation, fn]);\n\t    }\n\t  }]);\n\t\n\t  return ChatPlugin;\n\t}(__WEBPACK_IMPORTED_MODULE_0__plugin__[\"a\" /* default */]);\n\t\n\t/* harmony default export */ exports[\"a\"] = ChatPlugin;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar User = function User(name) {\n\t  var id = arguments.length <= 1 || arguments[1] === undefined ? name : arguments[1];\n\t\n\t  _classCallCheck(this, User);\n\t\n\t  this.name = name;\n\t  this.id = id;\n\t};\n\t\n\t/* harmony default export */ exports[\"a\"] = User;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_node_uuid__ = __webpack_require__(8);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_node_uuid___default = __WEBPACK_IMPORTED_MODULE_0_node_uuid__ && __WEBPACK_IMPORTED_MODULE_0_node_uuid__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_0_node_uuid__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_0_node_uuid__; };\n\t/* harmony import */ __webpack_require__.d(__WEBPACK_IMPORTED_MODULE_0_node_uuid___default, 'a', __WEBPACK_IMPORTED_MODULE_0_node_uuid___default);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__messages_text__ = __webpack_require__(6);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__messages_presence__ = __webpack_require__(7);\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t\n\t\n\t\n\t\n\t\n\tvar Adapter = function () {\n\t  function Adapter() {\n\t    var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\t\n\t    _classCallCheck(this, Adapter);\n\t\n\t    this.options = options;\n\t    this.id = options.id || __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_node_uuid__[\"v4\"])();\n\t    this.status = Adapter.STATUS.UNINITIALIZED;\n\t  }\n\t\n\t  _createClass(Adapter, [{\n\t    key: 'register',\n\t    value: function register(bot) {\n\t      if (!bot) {\n\t        throw new Error('No bot passed to register; fatal.');\n\t      }\n\t\n\t      this.bot = bot;\n\t\n\t      this.status = Adapter.STATUS.CONNECTING;\n\t      this.listen();\n\t    }\n\t  }, {\n\t    key: 'listen',\n\t    value: function listen() {\n\t      if (!this.bot) {\n\t        throw new Error('No bot to listen on; fatal.');\n\t      }\n\t    }\n\t  }, {\n\t    key: 'receive',\n\t    value: function receive(_ref) {\n\t      var user = _ref.user;\n\t      var text = _ref.text;\n\t      var channel = _ref.channel;\n\t      var whisper = _ref.whisper;\n\t\n\t      var message = new __WEBPACK_IMPORTED_MODULE_1__messages_text__[\"a\" /* default */]({ user: user, text: text, channel: channel, whisper: whisper, adapter: this.id });\n\t      this.bot.emitter.emit('receive-message', message);\n\t    }\n\t  }, {\n\t    key: 'receiveWhisper',\n\t    value: function receiveWhisper(_ref2) {\n\t      var user = _ref2.user;\n\t      var text = _ref2.text;\n\t      var channel = _ref2.channel;\n\t\n\t      text = this.bot.prependNameForWhisper(text);\n\t      this.receive({ user: user, text: text, channel: channel, whisper: true });\n\t    }\n\t  }, {\n\t    key: 'enter',\n\t    value: function enter(_ref3) {\n\t      var user = _ref3.user;\n\t      var channel = _ref3.channel;\n\t\n\t      var message = new __WEBPACK_IMPORTED_MODULE_2__messages_presence__[\"a\" /* default */]({\n\t        user: user,\n\t        channel: channel,\n\t        adapter: this.id,\n\t        type: __WEBPACK_IMPORTED_MODULE_2__messages_presence__[\"a\" /* default */].TYPES.ENTER\n\t      });\n\t\n\t      this.bot.emitter.emit('enter', message);\n\t    }\n\t  }, {\n\t    key: 'leave',\n\t    value: function leave(_ref4) {\n\t      var user = _ref4.user;\n\t      var channel = _ref4.channel;\n\t\n\t      var message = new __WEBPACK_IMPORTED_MODULE_2__messages_presence__[\"a\" /* default */]({\n\t        user: user,\n\t        channel: channel,\n\t        adapter: this.id,\n\t        type: __WEBPACK_IMPORTED_MODULE_2__messages_presence__[\"a\" /* default */].TYPES.LEAVE\n\t      });\n\t\n\t      this.bot.emitter.emit('leave', message);\n\t    }\n\t  }, {\n\t    key: 'send',\n\t    value: function send(message) {\n\t      console.log(message.text);\n\t    }\n\t  }, {\n\t    key: 'ping',\n\t    value: function ping() {\n\t      this.pong();\n\t    }\n\t  }, {\n\t    key: 'pong',\n\t    value: function pong() {\n\t      console.log('Ping received, this.pong() not implemented.');\n\t    }\n\t  }]);\n\t\n\t  return Adapter;\n\t}();\n\t\n\tAdapter.STATUS = {\n\t  UNINITIALIZED: 0,\n\t  CONNECTING: 1,\n\t  CONNECTED: 2,\n\t  DISCONNECTED: 3,\n\t  RECONNECTING: 4,\n\t  ERROR: 5\n\t};\n\t/* harmony default export */ exports[\"a\"] = Adapter;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { return step(\"next\", value); }, function (err) { return step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Plugin = function () {\n\t  function Plugin() {\n\t    var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\t\n\t    _classCallCheck(this, Plugin);\n\t\n\t    this.help = undefined;\n\t    this._requiresDatabase = false;\n\t\n\t    this.options = options;\n\t  }\n\t\n\t  _createClass(Plugin, [{\n\t    key: 'register',\n\t    value: function register(bot) {\n\t      if (!bot) {\n\t        throw new Error('No bot passed to register; fatal.');\n\t      }\n\t\n\t      this.bot = bot;\n\t    }\n\t  }, {\n\t    key: 'listen',\n\t    value: function listen() {\n\t      if (!this.bot) {\n\t        throw new Error('No bot to listen on; fatal.');\n\t      }\n\t    }\n\t  }, {\n\t    key: 'database',\n\t    value: function () {\n\t      var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(name, defaultValue) {\n\t        var val;\n\t        return regeneratorRuntime.wrap(function _callee$(_context) {\n\t          while (1) {\n\t            switch (_context.prev = _context.next) {\n\t              case 0:\n\t                _context.next = 2;\n\t                return this.databaseInitialized();\n\t\n\t              case 2:\n\t                val = this.bot.db.get(name).value();\n\t\n\t\n\t                if (typeof val === 'undefined') {\n\t                  this.bot.db.set(name, defaultValue).value();\n\t                }\n\t\n\t              case 4:\n\t              case 'end':\n\t                return _context.stop();\n\t            }\n\t          }\n\t        }, _callee, this);\n\t      }));\n\t\n\t      function database(_x2, _x3) {\n\t        return ref.apply(this, arguments);\n\t      }\n\t\n\t      return database;\n\t    }()\n\t  }, {\n\t    key: 'databaseInitialized',\n\t    value: function () {\n\t      var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n\t        var _this = this;\n\t\n\t        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n\t          while (1) {\n\t            switch (_context2.prev = _context2.next) {\n\t              case 0:\n\t                this._requiresDatabase = true;\n\t\n\t                if (!(this._requiresDatabase && this.bot.db)) {\n\t                  _context2.next = 3;\n\t                  break;\n\t                }\n\t\n\t                return _context2.abrupt('return', true);\n\t\n\t              case 3:\n\t                return _context2.abrupt('return', new Promise(function (resolve) {\n\t                  _this.bot.emitter.on('dbLoaded', resolve);\n\t                }));\n\t\n\t              case 4:\n\t              case 'end':\n\t                return _context2.stop();\n\t            }\n\t          }\n\t        }, _callee2, this);\n\t      }));\n\t\n\t      function databaseInitialized() {\n\t        return ref.apply(this, arguments);\n\t      }\n\t\n\t      return databaseInitialized;\n\t    }()\n\t  }]);\n\t\n\t  return Plugin;\n\t}();\n\t\n\t/* harmony default export */ exports[\"a\"] = Plugin;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__db__ = __webpack_require__(22);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__s3__ = __webpack_require__(23);\n\t/* harmony namespace reexport */ for(var __WEBPACK_IMPORT_KEY__ in __WEBPACK_IMPORTED_MODULE_0__db__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(exports, key, function() { return __WEBPACK_IMPORTED_MODULE_0__db__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n\t/* harmony namespace reexport */ for(var __WEBPACK_IMPORT_KEY__ in __WEBPACK_IMPORTED_MODULE_1__s3__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(exports, key, function() { return __WEBPACK_IMPORTED_MODULE_1__s3__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n\t\n\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_node_uuid__ = __webpack_require__(8);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_node_uuid___default = __WEBPACK_IMPORTED_MODULE_0_node_uuid__ && __WEBPACK_IMPORTED_MODULE_0_node_uuid__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_0_node_uuid__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_0_node_uuid__; };\n\t/* harmony import */ __webpack_require__.d(__WEBPACK_IMPORTED_MODULE_0_node_uuid___default, 'a', __WEBPACK_IMPORTED_MODULE_0_node_uuid___default);\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t\n\t\n\tvar Message = function Message(_ref) {\n\t  var user = _ref.user;\n\t  var channel = _ref.channel;\n\t  var adapter = _ref.adapter;\n\t  var _ref$id = _ref.id;\n\t  var id = _ref$id === undefined ? __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_node_uuid__[\"v4\"])() : _ref$id;\n\t\n\t  _classCallCheck(this, Message);\n\t\n\t  this.user = user;\n\t  this.channel = channel;\n\t  this.adapter = adapter;\n\t  this.id = id;\n\t};\n\t\n\t/* harmony default export */ exports[\"a\"] = Message;\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__message__ = __webpack_require__(5);\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t\n\t\n\tvar TextMessage = function (_Message) {\n\t  _inherits(TextMessage, _Message);\n\t\n\t  function TextMessage(_ref) {\n\t    var text = _ref.text;\n\t    var _ref$whisper = _ref.whisper;\n\t    var whisper = _ref$whisper === undefined ? false : _ref$whisper;\n\t\n\t    _classCallCheck(this, TextMessage);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(TextMessage).apply(this, arguments));\n\t\n\t    _this.text = text;\n\t    _this.whisper = whisper;\n\t    return _this;\n\t  }\n\t\n\t  return TextMessage;\n\t}(__WEBPACK_IMPORTED_MODULE_0__message__[\"a\" /* default */]);\n\t\n\t/* harmony default export */ exports[\"a\"] = TextMessage;\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__message__ = __webpack_require__(5);\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t\n\t\n\tvar PresenceMessage = function (_Message) {\n\t  _inherits(PresenceMessage, _Message);\n\t\n\t  function PresenceMessage(_ref) {\n\t    var type = _ref.type;\n\t\n\t    _classCallCheck(this, PresenceMessage);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(PresenceMessage).apply(this, arguments));\n\t\n\t    _this.type = type;\n\t    return _this;\n\t  }\n\t\n\t  return PresenceMessage;\n\t}(__WEBPACK_IMPORTED_MODULE_0__message__[\"a\" /* default */]);\n\t\n\tPresenceMessage.TYPES = {\n\t  ENTER: 0,\n\t  LEAVE: 1\n\t};\n\t/* harmony default export */ exports[\"a\"] = PresenceMessage;\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"node-uuid\");\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__adapter__ = __webpack_require__(2);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__adapters__ = __webpack_require__(18);\n\t\n\t/* harmony export */ __webpack_require__.d(exports, \"adapters\", function() { return adapters; });/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_0__adapter__, \"a\")) __webpack_require__.d(exports, \"Adapter\", function() { return __WEBPACK_IMPORTED_MODULE_0__adapter__[\"a\"]; });\n\t\n\t\n\t\n\tvar adapters = __WEBPACK_IMPORTED_MODULE_1__adapters__;\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__message__ = __webpack_require__(5);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__presence__ = __webpack_require__(7);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__text__ = __webpack_require__(6);\n\t/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_0__message__, \"a\")) __webpack_require__.d(exports, \"Message\", function() { return __WEBPACK_IMPORTED_MODULE_0__message__[\"a\"]; });\n\t/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_1__presence__, \"a\")) __webpack_require__.d(exports, \"PresenceMessage\", function() { return __WEBPACK_IMPORTED_MODULE_1__presence__[\"a\"]; });\n\t/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_2__text__, \"a\")) __webpack_require__.d(exports, \"TextMessage\", function() { return __WEBPACK_IMPORTED_MODULE_2__text__[\"a\"]; });\n\t\n\t\n\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__plugin__ = __webpack_require__(3);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__chat__ = __webpack_require__(0);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__event__ = __webpack_require__(25);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__http__ = __webpack_require__(26);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__plugins__ = __webpack_require__(31);\n\t\n\t/* harmony export */ __webpack_require__.d(exports, \"plugins\", function() { return plugins; });/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_0__plugin__, \"a\")) __webpack_require__.d(exports, \"Plugin\", function() { return __WEBPACK_IMPORTED_MODULE_0__plugin__[\"a\"]; });\n\t/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_1__chat__, \"a\")) __webpack_require__.d(exports, \"ChatPlugin\", function() { return __WEBPACK_IMPORTED_MODULE_1__chat__[\"a\"]; });\n\t/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_2__event__, \"a\")) __webpack_require__.d(exports, \"EventPlugin\", function() { return __WEBPACK_IMPORTED_MODULE_2__event__[\"a\"]; });\n\t/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_3__http__, \"a\")) __webpack_require__.d(exports, \"HTTPPlugin\", function() { return __WEBPACK_IMPORTED_MODULE_3__http__[\"a\"]; });\n\t\n\t\n\t\n\t\n\t\n\t\n\tvar plugins = __WEBPACK_IMPORTED_MODULE_4__plugins__;\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*!\n\t * Log.js\n\t * Copyright(c) 2010 TJ Holowaychuk <tj@vision-media.ca>\n\t * MIT Licensed\n\t */\n\t\n\t/**\n\t * Module dependencies.\n\t */\n\t\n\tvar fmt = __webpack_require__(43).format;\n\tvar EventEmitter = __webpack_require__(37).EventEmitter;\n\t\n\t/**\n\t * Initialize a `Loggeer` with the given log `level` defaulting\n\t * to __DEBUG__ and `stream` defaulting to _stdout_.\n\t *\n\t * @param {Number} level\n\t * @param {Object} stream\n\t * @api public\n\t */\n\t\n\tvar Log = exports = module.exports = function Log(level, stream){\n\t  if ('string' == typeof level) level = exports[level.toUpperCase()];\n\t  this.level = level || exports.DEBUG;\n\t  this.stream = stream || process.stdout;\n\t  if (this.stream.readable) this.read();\n\t};\n\t\n\t/**\n\t * System is unusable.\n\t *\n\t * @type Number\n\t */\n\t\n\texports.EMERGENCY = 0;\n\t\n\t/**\n\t * Action must be taken immediately.\n\t *\n\t * @type Number\n\t */\n\t\n\texports.ALERT = 1;\n\t\n\t/**\n\t * Critical condition.\n\t *\n\t * @type Number\n\t */\n\t\n\texports.CRITICAL = 2;\n\t\n\t/**\n\t * Error condition.\n\t *\n\t * @type Number\n\t */\n\t\n\texports.ERROR = 3;\n\t\n\t/**\n\t * Warning condition.\n\t *\n\t * @type Number\n\t */\n\t\n\texports.WARNING = 4;\n\t\n\t/**\n\t * Normal but significant condition.\n\t *\n\t * @type Number\n\t */\n\t\n\texports.NOTICE = 5;\n\t\n\t/**\n\t * Purely informational message.\n\t *\n\t * @type Number\n\t */\n\t\n\texports.INFO = 6;\n\t\n\t/**\n\t * Application debug messages.\n\t *\n\t * @type Number\n\t */\n\t\n\texports.DEBUG = 7;\n\t\n\t/**\n\t * prototype.\n\t */\n\t\n\tLog.prototype = {\n\t\n\t  /**\n\t   * Start emitting \"line\" events.\n\t   *\n\t   * @api public\n\t   */\n\t\n\t  read: function(){\n\t    var buf = ''\n\t      , self = this\n\t      , stream = this.stream;\n\t\n\t    stream.setEncoding('utf8');\n\t    stream.on('data', function(chunk){\n\t      buf += chunk;\n\t      if ('\\n' != buf[buf.length - 1]) return;\n\t      buf.split('\\n').map(function(line){\n\t        if (!line.length) return;\n\t        try {\n\t          var captures = line.match(/^\\[([^\\]]+)\\] (\\w+) (.*)/);\n\t          var obj = {\n\t              date: new Date(captures[1])\n\t            , level: exports[captures[2]]\n\t            , levelString: captures[2]\n\t            , msg: captures[3]\n\t          };\n\t          self.emit('line', obj);\n\t        } catch (err) {\n\t          // Ignore\n\t        }\n\t      });\n\t      buf = '';\n\t    });\n\t\n\t    stream.on('end', function(){\n\t      self.emit('end');\n\t    });\n\t  },\n\t\n\t  /**\n\t   * Log output message.\n\t   *\n\t   * @param  {String} levelStr\n\t   * @param  {Array} args\n\t   * @api private\n\t   */\n\t\n\t  log: function(levelStr, args) {\n\t    if (exports[levelStr] <= this.level) {\n\t      var msg = fmt.apply(null, args);\n\t      this.stream.write(\n\t          '[' + new Date + ']'\n\t        + ' ' + levelStr\n\t        + ' ' + msg\n\t        + '\\n'\n\t      );\n\t    }\n\t  },\n\t\n\t  /**\n\t   * Log emergency `msg`.\n\t   *\n\t   * @param  {String} msg\n\t   * @api public\n\t   */\n\t\n\t  emergency: function(msg){\n\t    this.log('EMERGENCY', arguments);\n\t  },\n\t\n\t  /**\n\t   * Log alert `msg`.\n\t   *\n\t   * @param  {String} msg\n\t   * @api public\n\t   */\n\t\n\t  alert: function(msg){\n\t    this.log('ALERT', arguments);\n\t  },\n\t\n\t  /**\n\t   * Log critical `msg`.\n\t   *\n\t   * @param  {String} msg\n\t   * @api public\n\t   */\n\t\n\t  critical: function(msg){\n\t    this.log('CRITICAL', arguments);\n\t  },\n\t\n\t  /**\n\t   * Log error `msg`.\n\t   *\n\t   * @param  {String} msg\n\t   * @api public\n\t   */\n\t\n\t  error: function(msg){\n\t    this.log('ERROR', arguments);\n\t  },\n\t\n\t  /**\n\t   * Log warning `msg`.\n\t   *\n\t   * @param  {String} msg\n\t   * @api public\n\t   */\n\t\n\t  warning: function(msg){\n\t    this.log('WARNING', arguments);\n\t  },\n\t\n\t  /**\n\t   * Log notice `msg`.\n\t   *\n\t   * @param  {String} msg\n\t   * @api public\n\t   */\n\t\n\t  notice: function(msg){\n\t    this.log('NOTICE', arguments);\n\t  },\n\t\n\t  /**\n\t   * Log info `msg`.\n\t   *\n\t   * @param  {String} msg\n\t   * @api public\n\t   */\n\t\n\t  info: function(msg){\n\t    this.log('INFO', arguments);\n\t  },\n\t\n\t  /**\n\t   * Log debug `msg`.\n\t   *\n\t   * @param  {String} msg\n\t   * @api public\n\t   */\n\t\n\t  debug: function(msg){\n\t    this.log('DEBUG', arguments);\n\t  }\n\t};\n\t\n\t/**\n\t * Inherit from `EventEmitter`.\n\t */\n\t\n\tLog.prototype.__proto__ = EventEmitter.prototype;\n\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"babel-polyfill\");\n\n/***/ },\n/* 14 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"eventemitter3\");\n\n/***/ },\n/* 15 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"superagent\");\n\n/***/ },\n/* 16 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"superagent-promise-plugin\");\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_discord_io__ = __webpack_require__(36);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_discord_io___default = __WEBPACK_IMPORTED_MODULE_0_discord_io__ && __WEBPACK_IMPORTED_MODULE_0_discord_io__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_0_discord_io__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_0_discord_io__; };\n\t/* harmony import */ __webpack_require__.d(__WEBPACK_IMPORTED_MODULE_0_discord_io___default, 'a', __WEBPACK_IMPORTED_MODULE_0_discord_io___default);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__adapter__ = __webpack_require__(2);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__user__ = __webpack_require__(1);\n\t/* unused harmony export EVENTS */var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t\n\t\n\t\n\t\n\t\n\tvar EVENTS = {\n\t  ready: 'discordReady',\n\t  message: 'discordMessage',\n\t  presence: 'discordPresence',\n\t  disconnected: 'discordDisconnected'\n\t};\n\t\n\tvar DiscordAdapter = function (_Adapter) {\n\t  _inherits(DiscordAdapter, _Adapter);\n\t\n\t  function DiscordAdapter(_ref) {\n\t    var token = _ref.token;\n\t    var botId = _ref.botId;\n\t    var username = _ref.username;\n\t\n\t    _classCallCheck(this, DiscordAdapter);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(DiscordAdapter).apply(this, arguments));\n\t\n\t    _this.channels = {};\n\t\n\t    _this.discordReady = function () {\n\t      _this.status = __WEBPACK_IMPORTED_MODULE_1__adapter__[\"a\" /* default */].STATUS.CONNECTED;\n\t\n\t      _this.bot.emitter.emit('connected', _this.id);\n\t      _this.bot.log.notice('Connected to Discord.');\n\t\n\t      _this.client.setPresence({\n\t        game: 'Exobotting'\n\t      });\n\t    };\n\t\n\t    _this.discordDisconnected = function () {\n\t      _this.status = __WEBPACK_IMPORTED_MODULE_1__adapter__[\"a\" /* default */].STATUS.DISCONNECTED;\n\t      _this.bot.log.critical('Disconnected from Discord.');\n\t    };\n\t\n\t    _this.botId = botId;\n\t    _this.username = username;\n\t    _this.token = token;\n\t    return _this;\n\t  }\n\t\n\t  _createClass(DiscordAdapter, [{\n\t    key: 'register',\n\t    value: function register(bot) {\n\t      var _this2 = this;\n\t\n\t      _get(Object.getPrototypeOf(DiscordAdapter.prototype), 'register', this).apply(this, arguments);\n\t\n\t      var token = this.token;\n\t      var botId = this.botId;\n\t      var username = this.username;\n\t\n\t\n\t      if (!token || !botId || !username) {\n\t        this.status = __WEBPACK_IMPORTED_MODULE_1__adapter__[\"a\" /* default */].STATUS.ERROR;\n\t        bot.log.error('token, botId, and username are required to connect to discord.');\n\t        return;\n\t      }\n\t\n\t      this.client = new __WEBPACK_IMPORTED_MODULE_0_discord_io___default.a.Client({\n\t        token: token,\n\t        autorun: true\n\t      });\n\t\n\t      Object.keys(EVENTS).forEach(function (discordEvent) {\n\t        var mappedFn = _this2[EVENTS[discordEvent]];\n\t        _this2.client.on(discordEvent, function () {\n\t          return mappedFn.bind(_this2).apply(undefined, arguments);\n\t        });\n\t        _this2.client.on(discordEvent, function () {\n\t          var _bot$emitter;\n\t\n\t          for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t            args[_key] = arguments[_key];\n\t          }\n\t\n\t          (_bot$emitter = _this2.bot.emitter).emit.apply(_bot$emitter, ['discord-' + discordEvent].concat(args));\n\t        });\n\t      });\n\t    }\n\t  }, {\n\t    key: 'send',\n\t    value: function send(message) {\n\t      this.bot.log.debug('Sending ' + message.text + ' to ' + message.channel);\n\t\n\t      this.client.sendMessage({\n\t        to: message.channel,\n\t        message: message.text\n\t      });\n\t    }\n\t  }, {\n\t    key: 'discordMessage',\n\t    value: function discordMessage(username, userId, channel, text /*, rawEvent*/) {\n\t      if (username === this.username) {\n\t        return;\n\t      }\n\t\n\t      var user = new __WEBPACK_IMPORTED_MODULE_2__user__[\"a\" /* default */](username, userId);\n\t\n\t      // if it's a whisper, the channel is in directMessages\n\t      if (this.client.directMessages[channel]) {\n\t        return _get(Object.getPrototypeOf(DiscordAdapter.prototype), 'receiveWhisper', this).call(this, { user: user, text: text, channel: channel });\n\t      }\n\t\n\t      this.receive({ user: user, text: text, channel: channel });\n\t    }\n\t  }, {\n\t    key: 'discordPresence',\n\t    value: function discordPresence(username, userId, status, gameName, rawEvent) {\n\t      if (userId !== this.botId) {\n\t        var user = new __WEBPACK_IMPORTED_MODULE_2__user__[\"a\" /* default */](username, userId);\n\t\n\t        if (status === 'online') {\n\t          return _get(Object.getPrototypeOf(DiscordAdapter.prototype), 'enter', this).call(this, { user: user, channel: rawEvent.d.channel_id });\n\t        } else if (status === 'offline') {\n\t          return _get(Object.getPrototypeOf(DiscordAdapter.prototype), 'leave', this).call(this, { user: user, channel: rawEvent.d.channel_id });\n\t        }\n\t      }\n\t    }\n\t  }]);\n\t\n\t  return DiscordAdapter;\n\t}(__WEBPACK_IMPORTED_MODULE_1__adapter__[\"a\" /* default */]);\n\t\n\t/* harmony default export */ exports[\"a\"] = DiscordAdapter;\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__shell__ = __webpack_require__(19);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__discord__ = __webpack_require__(17);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__twitch__ = __webpack_require__(21);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__slack__ = __webpack_require__(20);\n\t/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_0__shell__, \"a\")) __webpack_require__.d(exports, \"Shell\", function() { return __WEBPACK_IMPORTED_MODULE_0__shell__[\"a\"]; });\n\t/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_1__discord__, \"a\")) __webpack_require__.d(exports, \"Discord\", function() { return __WEBPACK_IMPORTED_MODULE_1__discord__[\"a\"]; });\n\t/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_2__twitch__, \"a\")) __webpack_require__.d(exports, \"Twitch\", function() { return __WEBPACK_IMPORTED_MODULE_2__twitch__[\"a\"]; });\n\t/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_3__slack__, \"a\")) __webpack_require__.d(exports, \"Slack\", function() { return __WEBPACK_IMPORTED_MODULE_3__slack__[\"a\"]; });\n\t\n\t\n\t\n\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_readline__ = __webpack_require__(40);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_readline___default = __WEBPACK_IMPORTED_MODULE_0_readline__ && __WEBPACK_IMPORTED_MODULE_0_readline__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_0_readline__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_0_readline__; };\n\t/* harmony import */ __webpack_require__.d(__WEBPACK_IMPORTED_MODULE_0_readline___default, 'a', __WEBPACK_IMPORTED_MODULE_0_readline___default);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__adapter__ = __webpack_require__(2);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__user__ = __webpack_require__(1);\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t\n\t\n\t\n\t\n\t\n\tvar SHELL = 'SHELL';\n\tvar SHELL_USER = new __WEBPACK_IMPORTED_MODULE_2__user__[\"a\" /* default */]('shell');\n\t\n\tvar EXIT_COMMANDS = ['exit', 'quit', 'q'];\n\t\n\tvar ShellAdapter = function (_Adapter) {\n\t  _inherits(ShellAdapter, _Adapter);\n\t\n\t  function ShellAdapter() {\n\t    _classCallCheck(this, ShellAdapter);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(ShellAdapter).call(this));\n\t\n\t    _this.rl = __WEBPACK_IMPORTED_MODULE_0_readline___default.a.createInterface({\n\t      input: process.stdin,\n\t      output: process.stdout\n\t    });\n\t    return _this;\n\t  }\n\t\n\t  _createClass(ShellAdapter, [{\n\t    key: 'prompt',\n\t    value: function prompt() {\n\t      var _this2 = this;\n\t\n\t      this.rl.question('Chat: ', function (answer) {\n\t        if (EXIT_COMMANDS.includes(answer)) {\n\t          return process.exit();\n\t        }\n\t\n\t        _get(Object.getPrototypeOf(ShellAdapter.prototype), 'receive', _this2).call(_this2, {\n\t          text: answer,\n\t          channel: SHELL,\n\t          user: SHELL_USER\n\t        });\n\t\n\t        _this2.prompt();\n\t      });\n\t    }\n\t  }, {\n\t    key: 'register',\n\t    value: function register(bot) {\n\t      _get(Object.getPrototypeOf(ShellAdapter.prototype), 'register', this).call(this, bot);\n\t      this.prompt();\n\t      this.status = __WEBPACK_IMPORTED_MODULE_1__adapter__[\"a\" /* default */].STATUS.CONNECTED;\n\t    }\n\t  }]);\n\t\n\t  return ShellAdapter;\n\t}(__WEBPACK_IMPORTED_MODULE_1__adapter__[\"a\" /* default */]);\n\t\n\t/* harmony default export */ exports[\"a\"] = ShellAdapter;\n\n/***/ },\n/* 20 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__slack_client__ = __webpack_require__(33);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__slack_client___default = __WEBPACK_IMPORTED_MODULE_0__slack_client__ && __WEBPACK_IMPORTED_MODULE_0__slack_client__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_0__slack_client__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_0__slack_client__; };\n\t/* harmony import */ __webpack_require__.d(__WEBPACK_IMPORTED_MODULE_0__slack_client___default, 'a', __WEBPACK_IMPORTED_MODULE_0__slack_client___default);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__slack_client_lib_models__ = __webpack_require__(57);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__slack_client_lib_models___default = __WEBPACK_IMPORTED_MODULE_1__slack_client_lib_models__ && __WEBPACK_IMPORTED_MODULE_1__slack_client_lib_models__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_1__slack_client_lib_models__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_1__slack_client_lib_models__; };\n\t/* harmony import */ __webpack_require__.d(__WEBPACK_IMPORTED_MODULE_1__slack_client_lib_models___default, 'a', __WEBPACK_IMPORTED_MODULE_1__slack_client_lib_models___default);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__adapter__ = __webpack_require__(2);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__user__ = __webpack_require__(1);\n\t/* unused harmony export EVENTS */var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _EVENTS;\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\tvar dmName = new __WEBPACK_IMPORTED_MODULE_1__slack_client_lib_models___default.a.DM()._modelName;\n\t\n\tvar EVENTS = (_EVENTS = {}, _defineProperty(_EVENTS, __WEBPACK_IMPORTED_MODULE_0__slack_client__[\"CLIENT_EVENTS\"].RTM.CONNECTING, 'slackConnecting'), _defineProperty(_EVENTS, __WEBPACK_IMPORTED_MODULE_0__slack_client__[\"CLIENT_EVENTS\"].RTM.RTM_CONNECTION_OPENED, 'slackConnected'), _defineProperty(_EVENTS, __WEBPACK_IMPORTED_MODULE_0__slack_client__[\"CLIENT_EVENTS\"].RTM.AUTHENTICATED, 'slackAuthenticated'), _defineProperty(_EVENTS, __WEBPACK_IMPORTED_MODULE_0__slack_client__[\"CLIENT_EVENTS\"].RTM.DISCONNECT, 'slackDisconnected'), _defineProperty(_EVENTS, __WEBPACK_IMPORTED_MODULE_0__slack_client__[\"CLIENT_EVENTS\"].RTM.UNABLE_TO_RTM_START, 'slackUnableToStart'), _defineProperty(_EVENTS, __WEBPACK_IMPORTED_MODULE_0__slack_client__[\"CLIENT_EVENTS\"].RTM.ATTEMPTING_RECONNECT, 'slackReconnecting'), _defineProperty(_EVENTS, __WEBPACK_IMPORTED_MODULE_0__slack_client__[\"RTM_EVENTS\"].MESSAGE, 'slackMessage'), _EVENTS);\n\t\n\tvar Slack = function (_Adapter) {\n\t  _inherits(Slack, _Adapter);\n\t\n\t  function Slack(_ref) {\n\t    var token = _ref.token;\n\t\n\t    _classCallCheck(this, Slack);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Slack).apply(this, arguments));\n\t\n\t    _this.slackConnecting = function () {\n\t      _this.bot.log.info('Connecting to Slack.');\n\t      _this.status = __WEBPACK_IMPORTED_MODULE_2__adapter__[\"a\" /* default */].STATUS.CONNECTING;\n\t    };\n\t\n\t    _this.slackConnected = function () {\n\t      _this.bot.log.info('Connected to Slack.');\n\t    };\n\t\n\t    _this.slackAuthenticated = function () {\n\t      _this.bot.log.notice('Successfully authenticated to Slack.');\n\t      _this.status = __WEBPACK_IMPORTED_MODULE_2__adapter__[\"a\" /* default */].STATUS.CONNECTED;\n\t    };\n\t\n\t    _this.slackDisconnected = function () {\n\t      _this.bot.log.critical('Disconnected from Slack.');\n\t      _this.status = __WEBPACK_IMPORTED_MODULE_2__adapter__[\"a\" /* default */].STATUS.DISCONNECTED;\n\t    };\n\t\n\t    _this.slackUnableToStart = function () {\n\t      _this.bot.log.critical('Unable to start Slack.');\n\t      _this.status = __WEBPACK_IMPORTED_MODULE_2__adapter__[\"a\" /* default */].STATUS.DISCONNECTED;\n\t    };\n\t\n\t    _this.slackReconnecting = function () {\n\t      _this.bot.log.notice('Reconnecting to Slack.');\n\t      _this.status = __WEBPACK_IMPORTED_MODULE_2__adapter__[\"a\" /* default */].STATUS.RECONNECTING;\n\t    };\n\t\n\t    _this.slackMessage = function (message) {\n\t      var botId = _this.client.activeUserId;\n\t      if (message.user === botId) {\n\t        return;\n\t      }\n\t\n\t      var slackUser = _this.client.dataStore.getUserById(message.user);\n\t      var user = void 0;\n\t\n\t      if (slackUser) {\n\t        user = new __WEBPACK_IMPORTED_MODULE_3__user__[\"a\" /* default */](slackUser.name, slackUser.id);\n\t      } else {\n\t        user = new __WEBPACK_IMPORTED_MODULE_3__user__[\"a\" /* default */](message.user);\n\t      }\n\t\n\t      var channel = _this.client.dataStore.getChannelGroupOrDMById(message.channel);\n\t\n\t      if (channel && channel._modelName === dmName) {\n\t        return _this.receiveWhisper({ user: user, text: message.text, channel: message.channel });\n\t      }\n\t\n\t      _this.receive({ user: user, text: message.text, channel: message.channel });\n\t    };\n\t\n\t    _this.token = token;\n\t    return _this;\n\t  }\n\t\n\t  _createClass(Slack, [{\n\t    key: 'register',\n\t    value: function register(bot) {\n\t      var _this2 = this;\n\t\n\t      _get(Object.getPrototypeOf(Slack.prototype), 'register', this).apply(this, arguments);\n\t      var token = this.token;\n\t\n\t\n\t      this.client = new __WEBPACK_IMPORTED_MODULE_0__slack_client__[\"RtmClient\"](token, { logLevel: bot.logLevel });\n\t\n\t      Object.keys(EVENTS).forEach(function (slackEvent) {\n\t        var mappedFn = _this2[EVENTS[slackEvent]];\n\t        _this2.client.on(slackEvent, function () {\n\t          return mappedFn.apply(undefined, arguments);\n\t        });\n\t        _this2.client.on(slackEvent, function () {\n\t          var _bot$emitter;\n\t\n\t          for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t            args[_key] = arguments[_key];\n\t          }\n\t\n\t          (_bot$emitter = bot.emitter).emit.apply(_bot$emitter, ['slack-' + slackEvent].concat(args));\n\t        });\n\t      });\n\t\n\t      this.client.start();\n\t    }\n\t  }, {\n\t    key: 'send',\n\t    value: function send(message) {\n\t      this.bot.log.debug('Sending ' + message.text + ' to ' + message.channel);\n\t      this.client.sendMessage(message.text, message.channel);\n\t    }\n\t  }]);\n\t\n\t  return Slack;\n\t}(__WEBPACK_IMPORTED_MODULE_2__adapter__[\"a\" /* default */]);\n\t\n\t/* harmony default export */ exports[\"a\"] = Slack;\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tmi_js__ = __webpack_require__(41);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tmi_js___default = __WEBPACK_IMPORTED_MODULE_0_tmi_js__ && __WEBPACK_IMPORTED_MODULE_0_tmi_js__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_0_tmi_js__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_0_tmi_js__; };\n\t/* harmony import */ __webpack_require__.d(__WEBPACK_IMPORTED_MODULE_0_tmi_js___default, 'a', __WEBPACK_IMPORTED_MODULE_0_tmi_js___default);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__adapter__ = __webpack_require__(2);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__user__ = __webpack_require__(1);\n\t/* unused harmony export EVENTS */var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t\n\t\n\t\n\t\n\t\n\tvar EVENTS = {\n\t  connecting: 'twitchConnecting',\n\t  connected: 'twitchConnected',\n\t  logon: 'twitchLogon',\n\t  disconnected: 'twitchDisconnected',\n\t  reconnect: 'twitchReconnect',\n\t  chat: 'twitchChat',\n\t  emoteonly: 'twitchEmoteonly',\n\t  join: 'twitchJoin',\n\t  part: 'twitchPart',\n\t  mods: 'twitchMods',\n\t  notice: 'twitchNotice',\n\t  ping: 'twitchPing',\n\t  pong: 'twitchPong',\n\t  roomstate: 'twitchRoomstate',\n\t  slowmode: 'twitchSlowmode',\n\t  subscribers: 'twitchSubscribers',\n\t  subscription: 'twitchSubscription',\n\t  timeout: 'twitchTimeout',\n\t  whisper: 'twitchWhisper'\n\t};\n\t\n\tvar TwitchAdapter = function (_Adapter) {\n\t  _inherits(TwitchAdapter, _Adapter);\n\t\n\t  function TwitchAdapter(_ref) {\n\t    var username = _ref.username;\n\t    var oauthPassword = _ref.oauthPassword;\n\t    var _ref$channels = _ref.channels;\n\t    var channels = _ref$channels === undefined ? [] : _ref$channels;\n\t\n\t    _classCallCheck(this, TwitchAdapter);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(TwitchAdapter).apply(this, arguments));\n\t\n\t    _initialiseProps.call(_this);\n\t\n\t    _this.username = username;\n\t    _this.oauthPassword = oauthPassword;\n\t    _this.channels = channels;\n\t    return _this;\n\t  }\n\t\n\t  _createClass(TwitchAdapter, [{\n\t    key: 'register',\n\t    value: function register(bot) {\n\t      var _this2 = this;\n\t\n\t      _get(Object.getPrototypeOf(TwitchAdapter.prototype), 'register', this).apply(this, arguments);\n\t\n\t      var username = this.username;\n\t      var oauthPassword = this.oauthPassword;\n\t      var channels = this.channels;\n\t\n\t\n\t      if (!username || !oauthPassword) {\n\t        bot.log.error('username and oauthPassword are required to connect to Twitch.');\n\t        return;\n\t      }\n\t\n\t      if (!channels.length) {\n\t        bot.log.critical('No channels passed to Twitch adapter to connect to.');\n\t      }\n\t\n\t      this.client = new __WEBPACK_IMPORTED_MODULE_0_tmi_js___default.a.client({\n\t        channels: channels,\n\t        identity: {\n\t          username: username,\n\t          password: oauthPassword\n\t        },\n\t        options: {\n\t          debug: true\n\t        },\n\t        secure: true,\n\t        reconnect: true,\n\t        logger: {\n\t          info: bot.log.info.bind(bot.log),\n\t          warn: bot.log.warning.bind(bot.log),\n\t          error: bot.log.error.bind(bot.log)\n\t        },\n\t        connection: {\n\t          cluster: 'aws'\n\t        }\n\t      });\n\t\n\t      this.client.connect();\n\t\n\t      Object.keys(EVENTS).forEach(function (twitchEvent) {\n\t        var mappedFn = _this2[EVENTS[twitchEvent]];\n\t        _this2.client.on(twitchEvent, function () {\n\t          return mappedFn.apply(undefined, arguments);\n\t        });\n\t        _this2.client.on(twitchEvent, function () {\n\t          var _bot$emitter;\n\t\n\t          for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t            args[_key] = arguments[_key];\n\t          }\n\t\n\t          (_bot$emitter = _this2.bot.emitter).emit.apply(_bot$emitter, ['twitch-' + twitchEvent].concat(args));\n\t        });\n\t      });\n\t    }\n\t  }, {\n\t    key: 'send',\n\t    value: function send(message) {\n\t      this.bot.log.debug('Sending ' + message.text + ' to ' + message.channel);\n\t\n\t      if (message.whisper) {\n\t        return this.client.whisper(message.user.name, message.text);\n\t      }\n\t\n\t      this.client.say(message.channel, message.text);\n\t    }\n\t  }]);\n\t\n\t  return TwitchAdapter;\n\t}(__WEBPACK_IMPORTED_MODULE_1__adapter__[\"a\" /* default */]);\n\t\n\tvar _initialiseProps = function _initialiseProps() {\n\t  var _this3 = this;\n\t\n\t  this.twitchConnecting = function () {\n\t    _this3.status = __WEBPACK_IMPORTED_MODULE_1__adapter__[\"a\" /* default */].STATUS.CONNECTING;\n\t  };\n\t\n\t  this.twitchConnected = function () {\n\t    _this3.status = __WEBPACK_IMPORTED_MODULE_1__adapter__[\"a\" /* default */].STATUS.CONNECTED;\n\t    _this3.bot.emitter.emit('connected', _this3.id);\n\t    _this3.bot.log.notice('Connected to Twitch.');\n\t  };\n\t\n\t  this.twitchLogon = function () {\n\t    _this3.status = __WEBPACK_IMPORTED_MODULE_1__adapter__[\"a\" /* default */].STATUS.CONNECTED;\n\t    _this3.bot.log.notice('Successfully logged on to Twitch.');\n\t  };\n\t\n\t  this.twitchDisconnected = function () {\n\t    _this3.status = __WEBPACK_IMPORTED_MODULE_1__adapter__[\"a\" /* default */].STATUS.DISCONNECTED;\n\t    _this3.bot.log.warning('Disconnected from Twitch.');\n\t  };\n\t\n\t  this.twitchReconnect = function () {\n\t    _this3.status = __WEBPACK_IMPORTED_MODULE_1__adapter__[\"a\" /* default */].STATUS.RECONNECTING;\n\t    _this3.bot.log.notice('Reconnecting to Twitch.');\n\t  };\n\t\n\t  this.twitchChat = function (channel, twitchUser, text) {\n\t    if (twitchUser.username === _this3.username) {\n\t      return;\n\t    }\n\t    var user = new __WEBPACK_IMPORTED_MODULE_2__user__[\"a\" /* default */](twitchUser.username);\n\t    _this3.receive({ user: user, text: text, channel: channel });\n\t  };\n\t\n\t  this.twitchEmoteonly = function () {};\n\t\n\t  this.twitchJoin = function (channel, username) {\n\t    if (username !== _this3.username) {\n\t      return;\n\t    }\n\t    var user = new __WEBPACK_IMPORTED_MODULE_2__user__[\"a\" /* default */](username);\n\t    return _this3.enter({ user: user, channel: channel });\n\t  };\n\t\n\t  this.twitchPart = function (channel, username) {\n\t    if (username !== _this3.username) {\n\t      return;\n\t    }\n\t    var user = new __WEBPACK_IMPORTED_MODULE_2__user__[\"a\" /* default */](username);\n\t    return _this3.leave({ user: user, channel: channel });\n\t  };\n\t\n\t  this.twitchPing = function () {\n\t    _this3.ping();\n\t  };\n\t\n\t  this.twitchWhisper = function (twitchUser, text) {\n\t    if (twitchUser.username === _this3.username) {\n\t      return;\n\t    }\n\t    var user = new __WEBPACK_IMPORTED_MODULE_2__user__[\"a\" /* default */](twitchUser.username);\n\t    _this3.receiveWhisper({ user: user, text: text, channel: twitchUser.username });\n\t  };\n\t\n\t  this.twitchPong = function () {};\n\t\n\t  this.twitchRoomstate = function () {};\n\t\n\t  this.twitchSlowmode = function () {};\n\t\n\t  this.twitchSubscribers = function () {};\n\t\n\t  this.twitchSubscription = function () {};\n\t\n\t  this.twitchTimeout = function () {};\n\t\n\t  this.twitchMods = function () {};\n\t\n\t  this.twitchNotice = function () {};\n\t};\n\t\n\t/* harmony default export */ exports[\"a\"] = TwitchAdapter;\n\n/***/ },\n/* 22 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_cryptr__ = __webpack_require__(35);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_cryptr___default = __WEBPACK_IMPORTED_MODULE_0_cryptr__ && __WEBPACK_IMPORTED_MODULE_0_cryptr__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_0_cryptr__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_0_cryptr__; };\n\t/* harmony import */ __webpack_require__.d(__WEBPACK_IMPORTED_MODULE_0_cryptr___default, 'a', __WEBPACK_IMPORTED_MODULE_0_cryptr___default);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lowdb__ = __webpack_require__(39);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lowdb___default = __WEBPACK_IMPORTED_MODULE_1_lowdb__ && __WEBPACK_IMPORTED_MODULE_1_lowdb__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_1_lowdb__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_1_lowdb__; };\n\t/* harmony import */ __webpack_require__.d(__WEBPACK_IMPORTED_MODULE_1_lowdb___default, 'a', __WEBPACK_IMPORTED_MODULE_1_lowdb___default);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_fs_extra__ = __webpack_require__(38);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_fs_extra___default = __WEBPACK_IMPORTED_MODULE_2_fs_extra__ && __WEBPACK_IMPORTED_MODULE_2_fs_extra__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_2_fs_extra__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_2_fs_extra__; };\n\t/* harmony import */ __webpack_require__.d(__WEBPACK_IMPORTED_MODULE_2_fs_extra___default, 'a', __WEBPACK_IMPORTED_MODULE_2_fs_extra___default);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_underscore_db__ = __webpack_require__(42);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_underscore_db___default = __WEBPACK_IMPORTED_MODULE_3_underscore_db__ && __WEBPACK_IMPORTED_MODULE_3_underscore_db__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_3_underscore_db__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_3_underscore_db__; };\n\t/* harmony import */ __webpack_require__.d(__WEBPACK_IMPORTED_MODULE_3_underscore_db___default, 'a', __WEBPACK_IMPORTED_MODULE_3_underscore_db___default);\n\t\n\t/* harmony export */ __webpack_require__.d(exports, \"deserialize\", function() { return deserialize; });\n\t/* harmony export */ __webpack_require__.d(exports, \"serialize\", function() { return serialize; });\n\t/* harmony export */ __webpack_require__.d(exports, \"read\", function() { return read; });\n\t/* harmony export */ __webpack_require__.d(exports, \"write\", function() { return write; });\n\t/* harmony export */ __webpack_require__.d(exports, \"readLocal\", function() { return readLocal; });\n\t/* harmony export */ __webpack_require__.d(exports, \"writeLocal\", function() { return writeLocal; });\n\t/* harmony export */ __webpack_require__.d(exports, \"DB\", function() { return DB; });function _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { return step(\"next\", value); }, function (err) { return step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\t\n\t\n\t\n\t\n\t\n\t\n\tvar deserialize = function deserialize(cryptr) {\n\t  return function (str) {\n\t    if (!str) {\n\t      return {};\n\t    }\n\t    var decrypted = cryptr.decrypt(str);\n\t    var obj = JSON.parse(decrypted);\n\t    return obj;\n\t  };\n\t};\n\t\n\tvar serialize = function serialize(cryptr) {\n\t  return function (obj) {\n\t    var str = JSON.stringify(obj);\n\t    var encrypted = cryptr.encrypt(str);\n\t    return encrypted;\n\t  };\n\t};\n\t\n\tvar read = function read(readFile) {\n\t  return function (path, deserialize) {\n\t    return new Promise(function (resolve, reject) {\n\t      readFile(path).then(function (data) {\n\t        try {\n\t          resolve(deserialize(data));\n\t        } catch (e) {\n\t          reject(e);\n\t        }\n\t      });\n\t    });\n\t  };\n\t};\n\t\n\tvar write = function write(writeFile) {\n\t  return function (path, obj, serialize) {\n\t    return new Promise(function (resolve, reject) {\n\t      try {\n\t        var data = serialize(obj);\n\t        writeFile(path, data).then(resolve, reject);\n\t      } catch (e) {\n\t        reject(e);\n\t      }\n\t    });\n\t  };\n\t};\n\t\n\tvar readLocal = function readLocal(path) {\n\t  return new Promise(function (resolve, reject) {\n\t    __WEBPACK_IMPORTED_MODULE_2_fs_extra___default.a.ensureFile(path, function (err) {\n\t      if (err) {\n\t        return reject(err);\n\t      }\n\t      __WEBPACK_IMPORTED_MODULE_2_fs_extra___default.a.readFile(path, 'utf8', function (err, data) {\n\t        if (err) {\n\t          return reject(err);\n\t        }\n\t        return resolve(data);\n\t      });\n\t    });\n\t  });\n\t};\n\t\n\tvar writeLocal = function writeLocal(path, data) {\n\t  return new Promise(function (resolve, reject) {\n\t    __WEBPACK_IMPORTED_MODULE_2_fs_extra___default.a.ensureFile(path, function (err) {\n\t      if (err) {\n\t        return reject(err);\n\t      }\n\t      __WEBPACK_IMPORTED_MODULE_2_fs_extra___default.a.writeFile(path, data, 'utf8', function (err) {\n\t        if (err) {\n\t          return reject(err);\n\t        }\n\t        return resolve(data);\n\t      });\n\t    });\n\t  });\n\t};\n\t\n\tvar DB = function () {\n\t  var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(_ref) {\n\t    var path = _ref.path;\n\t    var key = _ref.key;\n\t    var _ref$readFile = _ref.readFile;\n\t    var readFile = _ref$readFile === undefined ? readLocal : _ref$readFile;\n\t    var _ref$writeFile = _ref.writeFile;\n\t    var writeFile = _ref$writeFile === undefined ? writeLocal : _ref$writeFile;\n\t    var cryptr, dbPath, db;\n\t    return regeneratorRuntime.wrap(function _callee$(_context) {\n\t      while (1) {\n\t        switch (_context.prev = _context.next) {\n\t          case 0:\n\t            cryptr = new __WEBPACK_IMPORTED_MODULE_0_cryptr___default.a(key || name);\n\t            dbPath = path || './data/' + name + '.json';\n\t            _context.next = 4;\n\t            return new __WEBPACK_IMPORTED_MODULE_1_lowdb___default.a(dbPath, {\n\t              storage: {\n\t                read: read(readFile),\n\t                write: write(writeFile)\n\t              },\n\t              format: {\n\t                deserialize: deserialize(cryptr),\n\t                serialize: serialize(cryptr)\n\t              }\n\t            });\n\t\n\t          case 4:\n\t            db = _context.sent;\n\t\n\t\n\t            db._.mixin(__WEBPACK_IMPORTED_MODULE_3_underscore_db___default.a);\n\t            return _context.abrupt('return', db);\n\t\n\t          case 7:\n\t          case 'end':\n\t            return _context.stop();\n\t        }\n\t      }\n\t    }, _callee, this);\n\t  }));\n\t\n\t  return function DB(_x) {\n\t    return ref.apply(this, arguments);\n\t  };\n\t}();\n\n/***/ },\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_aws_sdk__ = __webpack_require__(34);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_aws_sdk___default = __WEBPACK_IMPORTED_MODULE_0_aws_sdk__ && __WEBPACK_IMPORTED_MODULE_0_aws_sdk__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_0_aws_sdk__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_0_aws_sdk__; };\n\t/* harmony import */ __webpack_require__.d(__WEBPACK_IMPORTED_MODULE_0_aws_sdk___default, 'a', __WEBPACK_IMPORTED_MODULE_0_aws_sdk___default);\n\t/* harmony export */ exports[\"readS3\"] = readS3;/* harmony export */ exports[\"writeS3\"] = writeS3;\n\t/* harmony export */ __webpack_require__.d(exports, \"createS3Bucket\", function() { return createS3Bucket; });var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\t\n\tfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { return step(\"next\", value); }, function (err) { return step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\t\n\t\n\t\n\tfunction readS3(region, accessKeyId, secretAccessKey, bucket) {\n\t  var createBucket = arguments.length <= 4 || arguments[4] === undefined ? false : arguments[4];\n\t\n\t  return function () {\n\t    var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(path) {\n\t      var _this = this;\n\t\n\t      var _ret;\n\t\n\t      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n\t        while (1) {\n\t          switch (_context2.prev = _context2.next) {\n\t            case 0:\n\t              _context2.prev = 0;\n\t              return _context2.delegateYield(regeneratorRuntime.mark(function _callee() {\n\t                var s3bucket;\n\t                return regeneratorRuntime.wrap(function _callee$(_context) {\n\t                  while (1) {\n\t                    switch (_context.prev = _context.next) {\n\t                      case 0:\n\t                        if (!createBucket) {\n\t                          _context.next = 3;\n\t                          break;\n\t                        }\n\t\n\t                        _context.next = 3;\n\t                        return createS3Bucket(region, accessKeyId, secretAccessKey, bucket);\n\t\n\t                      case 3:\n\t                        s3bucket = new __WEBPACK_IMPORTED_MODULE_0_aws_sdk___default.a.S3({\n\t                          region: region,\n\t                          accessKeyId: accessKeyId,\n\t                          secretAccessKey: secretAccessKey,\n\t                          params: {\n\t                            Bucket: bucket\n\t                          }\n\t                        });\n\t                        return _context.abrupt('return', {\n\t                          v: new Promise(function (resolve, reject) {\n\t                            s3bucket.getObject({\n\t                              Bucket: bucket,\n\t                              Key: path\n\t                            }, function (err, data) {\n\t                              if (err && err.statusCode === 404) {\n\t                                return resolve('');\n\t                              }\n\t                              if (err) {\n\t                                return reject(err);\n\t                              }\n\t                              return resolve(data.Body.toString());\n\t                            });\n\t                          })\n\t                        });\n\t\n\t                      case 5:\n\t                      case 'end':\n\t                        return _context.stop();\n\t                    }\n\t                  }\n\t                }, _callee, _this);\n\t              })(), 't0', 2);\n\t\n\t            case 2:\n\t              _ret = _context2.t0;\n\t\n\t              if (!((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === \"object\")) {\n\t                _context2.next = 5;\n\t                break;\n\t              }\n\t\n\t              return _context2.abrupt('return', _ret.v);\n\t\n\t            case 5:\n\t              _context2.next = 10;\n\t              break;\n\t\n\t            case 7:\n\t              _context2.prev = 7;\n\t              _context2.t1 = _context2['catch'](0);\n\t              console.log(_context2.t1);\n\t            case 10:\n\t            case 'end':\n\t              return _context2.stop();\n\t          }\n\t        }\n\t      }, _callee2, this, [[0, 7]]);\n\t    }));\n\t\n\t    return function (_x2) {\n\t      return ref.apply(this, arguments);\n\t    };\n\t  }();\n\t}\n\t\n\tfunction writeS3(region, accessKeyId, secretAccessKey, bucket) {\n\t  var createBucket = arguments.length <= 4 || arguments[4] === undefined ? false : arguments[4];\n\t\n\t  return function () {\n\t    var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee4(path, data) {\n\t      var _this2 = this;\n\t\n\t      var _ret2;\n\t\n\t      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n\t        while (1) {\n\t          switch (_context4.prev = _context4.next) {\n\t            case 0:\n\t              _context4.prev = 0;\n\t              return _context4.delegateYield(regeneratorRuntime.mark(function _callee3() {\n\t                var s3bucket;\n\t                return regeneratorRuntime.wrap(function _callee3$(_context3) {\n\t                  while (1) {\n\t                    switch (_context3.prev = _context3.next) {\n\t                      case 0:\n\t                        if (!createBucket) {\n\t                          _context3.next = 3;\n\t                          break;\n\t                        }\n\t\n\t                        _context3.next = 3;\n\t                        return createS3Bucket(region, accessKeyId, secretAccessKey, bucket);\n\t\n\t                      case 3:\n\t                        s3bucket = new __WEBPACK_IMPORTED_MODULE_0_aws_sdk___default.a.S3({\n\t                          region: region,\n\t                          accessKeyId: accessKeyId,\n\t                          secretAccessKey: secretAccessKey,\n\t                          params: {\n\t                            Bucket: bucket,\n\t                            Key: path\n\t                          }\n\t                        });\n\t                        return _context3.abrupt('return', {\n\t                          v: new Promise(function (resolve, reject) {\n\t                            s3bucket.upload({ Body: data }, function (err, data) {\n\t                              if (err) {\n\t                                return reject(err);\n\t                              }\n\t                              resolve(data);\n\t                            });\n\t                          })\n\t                        });\n\t\n\t                      case 5:\n\t                      case 'end':\n\t                        return _context3.stop();\n\t                    }\n\t                  }\n\t                }, _callee3, _this2);\n\t              })(), 't0', 2);\n\t\n\t            case 2:\n\t              _ret2 = _context4.t0;\n\t\n\t              if (!((typeof _ret2 === 'undefined' ? 'undefined' : _typeof(_ret2)) === \"object\")) {\n\t                _context4.next = 5;\n\t                break;\n\t              }\n\t\n\t              return _context4.abrupt('return', _ret2.v);\n\t\n\t            case 5:\n\t              _context4.next = 10;\n\t              break;\n\t\n\t            case 7:\n\t              _context4.prev = 7;\n\t              _context4.t1 = _context4['catch'](0);\n\t              console.log(_context4.t1);\n\t            case 10:\n\t            case 'end':\n\t              return _context4.stop();\n\t          }\n\t        }\n\t      }, _callee4, this, [[0, 7]]);\n\t    }));\n\t\n\t    return function (_x4, _x5) {\n\t      return ref.apply(this, arguments);\n\t    };\n\t  }();\n\t}\n\t\n\tvar createS3Bucket = function () {\n\t  var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee5(region, accessKeyId, secretAccessKey, bucket) {\n\t    var _ret3;\n\t\n\t    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n\t      while (1) {\n\t        switch (_context5.prev = _context5.next) {\n\t          case 0:\n\t            _context5.prev = 0;\n\t\n\t            _ret3 = function () {\n\t              var newBucket = new __WEBPACK_IMPORTED_MODULE_0_aws_sdk___default.a.S3({\n\t                region: region,\n\t                accessKeyId: accessKeyId,\n\t                secretAccessKey: secretAccessKey,\n\t                params: {\n\t                  Bucket: bucket\n\t                }\n\t              });\n\t\n\t              return {\n\t                v: new Promise(function (resolve) {\n\t                  return newBucket.createBucket(resolve);\n\t                })\n\t              };\n\t            }();\n\t\n\t            if (!((typeof _ret3 === 'undefined' ? 'undefined' : _typeof(_ret3)) === \"object\")) {\n\t              _context5.next = 4;\n\t              break;\n\t            }\n\t\n\t            return _context5.abrupt('return', _ret3.v);\n\t\n\t          case 4:\n\t            _context5.next = 9;\n\t            break;\n\t\n\t          case 6:\n\t            _context5.prev = 6;\n\t            _context5.t0 = _context5['catch'](0);\n\t            console.log(_context5.t0);\n\t          case 9:\n\t          case 'end':\n\t            return _context5.stop();\n\t        }\n\t      }\n\t    }, _callee5, this, [[0, 6]]);\n\t  }));\n\t\n\t  return function createS3Bucket(_x6, _x7, _x8, _x9) {\n\t    return ref.apply(this, arguments);\n\t  };\n\t}();\n\n/***/ },\n/* 24 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_polyfill__ = __webpack_require__(13);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_polyfill___default = __WEBPACK_IMPORTED_MODULE_0_babel_polyfill__ && __WEBPACK_IMPORTED_MODULE_0_babel_polyfill__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_0_babel_polyfill__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_0_babel_polyfill__; };\n\t/* harmony import */ __webpack_require__.d(__WEBPACK_IMPORTED_MODULE_0_babel_polyfill___default, 'a', __WEBPACK_IMPORTED_MODULE_0_babel_polyfill___default);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_eventemitter3__ = __webpack_require__(14);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_eventemitter3___default = __WEBPACK_IMPORTED_MODULE_1_eventemitter3__ && __WEBPACK_IMPORTED_MODULE_1_eventemitter3__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_1_eventemitter3__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_1_eventemitter3__; };\n\t/* harmony import */ __webpack_require__.d(__WEBPACK_IMPORTED_MODULE_1_eventemitter3___default, 'a', __WEBPACK_IMPORTED_MODULE_1_eventemitter3___default);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_log__ = __webpack_require__(12);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_log___default = __WEBPACK_IMPORTED_MODULE_2_log__ && __WEBPACK_IMPORTED_MODULE_2_log__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_2_log__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_2_log__; };\n\t/* harmony import */ __webpack_require__.d(__WEBPACK_IMPORTED_MODULE_2_log___default, 'a', __WEBPACK_IMPORTED_MODULE_2_log___default);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_superagent__ = __webpack_require__(15);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_superagent___default = __WEBPACK_IMPORTED_MODULE_3_superagent__ && __WEBPACK_IMPORTED_MODULE_3_superagent__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_3_superagent__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_3_superagent__; };\n\t/* harmony import */ __webpack_require__.d(__WEBPACK_IMPORTED_MODULE_3_superagent___default, 'a', __WEBPACK_IMPORTED_MODULE_3_superagent___default);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_superagent_promise_plugin__ = __webpack_require__(16);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_superagent_promise_plugin___default = __WEBPACK_IMPORTED_MODULE_4_superagent_promise_plugin__ && __WEBPACK_IMPORTED_MODULE_4_superagent_promise_plugin__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_4_superagent_promise_plugin__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_4_superagent_promise_plugin__; };\n\t/* harmony import */ __webpack_require__.d(__WEBPACK_IMPORTED_MODULE_4_superagent_promise_plugin___default, 'a', __WEBPACK_IMPORTED_MODULE_4_superagent_promise_plugin___default);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__db__ = __webpack_require__(4);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__adapters__ = __webpack_require__(9);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__messages__ = __webpack_require__(10);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__plugins__ = __webpack_require__(11);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__user__ = __webpack_require__(1);\n\t\n\t/* harmony export */ __webpack_require__.d(exports, \"Exobot\", function() { return Exobot; });/* harmony namespace reexport */ for(var __WEBPACK_IMPORT_KEY__ in __WEBPACK_IMPORTED_MODULE_6__adapters__) if([\"Exobot\",\"User\",\"default\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(exports, key, function() { return __WEBPACK_IMPORTED_MODULE_6__adapters__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n\t/* harmony namespace reexport */ for(var __WEBPACK_IMPORT_KEY__ in __WEBPACK_IMPORTED_MODULE_7__messages__) if([\"Exobot\",\"User\",\"default\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(exports, key, function() { return __WEBPACK_IMPORTED_MODULE_7__messages__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n\t/* harmony namespace reexport */ for(var __WEBPACK_IMPORT_KEY__ in __WEBPACK_IMPORTED_MODULE_8__plugins__) if([\"Exobot\",\"User\",\"default\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(exports, key, function() { return __WEBPACK_IMPORTED_MODULE_8__plugins__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n\t/* harmony namespace reexport */ for(var __WEBPACK_IMPORT_KEY__ in __WEBPACK_IMPORTED_MODULE_5__db__) if([\"Exobot\",\"User\",\"default\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(exports, key, function() { return __WEBPACK_IMPORTED_MODULE_5__db__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n\t/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_9__user__, \"a\")) __webpack_require__.d(exports, \"User\", function() { return __WEBPACK_IMPORTED_MODULE_9__user__[\"a\"]; });\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t__WEBPACK_IMPORTED_MODULE_4_superagent_promise_plugin___default.a.Promise = Promise;\n\t\n\tvar http = __WEBPACK_IMPORTED_MODULE_4_superagent_promise_plugin___default.a.patch(__WEBPACK_IMPORTED_MODULE_3_superagent___default.a);\n\t\n\t\n\t\n\tvar Exobot = function () {\n\t  function Exobot(name) {\n\t    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\t\n\t    _classCallCheck(this, Exobot);\n\t\n\t    _initialiseProps.call(this);\n\t\n\t    this.name = name;\n\t    this.alias = options.alias;\n\t    this.emitter = new __WEBPACK_IMPORTED_MODULE_1_eventemitter3___default.a();\n\t    this.http = http;\n\t\n\t    this.initLog(options.logLevel || __WEBPACK_IMPORTED_MODULE_2_log___default.a.WARNING);\n\t    this.initAdapters(options.adapters);\n\t    this.initPlugins(options.plugins);\n\t\n\t    var dbPath = options.dbPath || './data/' + name + '.json';\n\t    this.initDB(options.key, dbPath, options.readFile, options.writeFile);\n\t  }\n\t\n\t  _createClass(Exobot, [{\n\t    key: 'addPlugin',\n\t    value: function addPlugin(plugin) {\n\t      plugin.register(this);\n\t      this.plugins.push(plugin);\n\t    }\n\t  }, {\n\t    key: 'addAdapter',\n\t    value: function addAdapter(adapter) {\n\t      adapter.register(this);\n\t      this.adapters[adapter.id] = adapter;\n\t    }\n\t  }, {\n\t    key: 'prependNameForWhisper',\n\t    value: function prependNameForWhisper(text) {\n\t      if (text.slice(0, this.name.length).toLowerCase() !== this.name.toLowerCase() && text.slice(0, this.alias.length).toLowerCase() !== this.alias.toLowerCase()) {\n\t        text = this.name + ' ' + text;\n\t      }\n\t\n\t      return text;\n\t    }\n\t  }, {\n\t    key: 'send',\n\t    value: function send(message) {\n\t      var adapter = this.adapters[message.adapter];\n\t\n\t      if (!adapter) {\n\t        this.bot.log.warning('Message sent with invalid adapter: ' + message.adapter);\n\t        return;\n\t      }\n\t\n\t      adapter.send(message);\n\t    }\n\t  }]);\n\t\n\t  return Exobot;\n\t}();\n\t\n\tvar _initialiseProps = function _initialiseProps() {\n\t  var _this = this;\n\t\n\t  this.plugins = [];\n\t  this.adapters = {};\n\t\n\t  this.initAdapters = function () {\n\t    var adapters = arguments.length <= 0 || arguments[0] === undefined ? [] : arguments[0];\n\t\n\t    adapters.forEach(function (a) {\n\t      return _this.addAdapter(a);\n\t    });\n\t  };\n\t\n\t  this.initPlugins = function () {\n\t    var plugins = arguments.length <= 0 || arguments[0] === undefined ? [] : arguments[0];\n\t\n\t    plugins.forEach(function (p) {\n\t      return _this.addPlugin(p);\n\t    });\n\t  };\n\t\n\t  this.initLog = function (logLevel) {\n\t    var log = new __WEBPACK_IMPORTED_MODULE_2_log___default.a(logLevel || __WEBPACK_IMPORTED_MODULE_2_log___default.a.WARNING);\n\t    _this.log = log;\n\t    _this.logLevel = logLevel;\n\t\n\t    if (logLevel === __WEBPACK_IMPORTED_MODULE_2_log___default.a.DEBUG) {\n\t      setInterval(_this.logProcess, 10000);\n\t    }\n\t  };\n\t\n\t  this.initDB = function (key, dbPath, readFile, writeFile) {\n\t    if (!key) {\n\t      _this.log.critical('Pass options.key in to bot initializer. Database not initializing.');\n\t      return;\n\t    }\n\t\n\t    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__db__[\"DB\"])({\n\t      key: key,\n\t      readFile: readFile,\n\t      writeFile: writeFile,\n\t      path: dbPath,\n\t      emitter: _this.emitter\n\t    }).then(function (db) {\n\t      _this.db = db;\n\t      _this.emitter.emit('dbLoaded', db);\n\t    }, _this.log.critical);\n\t  };\n\t\n\t  this.logProcess = function () {\n\t    _this.log.debug(process.memoryUsage(), process.cpuUsage());\n\t  };\n\t};\n\t\n\t\n\t\n\t\n\t\n\n\n/***/ },\n/* 25 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__plugin__ = __webpack_require__(3);\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t\n\t\n\tvar EventPlugin = function (_Plugin) {\n\t  _inherits(EventPlugin, _Plugin);\n\t\n\t  function EventPlugin() {\n\t    _classCallCheck(this, EventPlugin);\n\t\n\t    return _possibleConstructorReturn(this, Object.getPrototypeOf(EventPlugin).apply(this, arguments));\n\t  }\n\t\n\t  return EventPlugin;\n\t}(__WEBPACK_IMPORTED_MODULE_0__plugin__[\"a\" /* default */]);\n\t\n\t/* harmony default export */ exports[\"a\"] = EventPlugin;\n\n/***/ },\n/* 26 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__plugin__ = __webpack_require__(3);\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t\n\t\n\tvar HTTPPlugin = function (_Plugin) {\n\t  _inherits(HTTPPlugin, _Plugin);\n\t\n\t  function HTTPPlugin() {\n\t    _classCallCheck(this, HTTPPlugin);\n\t\n\t    return _possibleConstructorReturn(this, Object.getPrototypeOf(HTTPPlugin).apply(this, arguments));\n\t  }\n\t\n\t  return HTTPPlugin;\n\t}(__WEBPACK_IMPORTED_MODULE_0__plugin__[\"a\" /* default */]);\n\t\n\t/* harmony default export */ exports[\"a\"] = HTTPPlugin;\n\n/***/ },\n/* 27 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__chat__ = __webpack_require__(0);\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { return step(\"next\", value); }, function (err) { return step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t\n\t\n\tvar DBPlugin = function (_ChatPlugin) {\n\t  _inherits(DBPlugin, _ChatPlugin);\n\t\n\t  function DBPlugin() {\n\t    _classCallCheck(this, DBPlugin);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(DBPlugin).apply(this, arguments));\n\t\n\t    _this.help = 'dbdump: dump the database. Say \"<botname> dbdump\".';\n\t\n\t    _this.respond(/^db dump/i, _this.dump);\n\t    _this.respond(/^db clear/i, _this.clear);\n\t    return _this;\n\t  }\n\t\n\t  _createClass(DBPlugin, [{\n\t    key: 'dump',\n\t    value: function () {\n\t      var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n\t        return regeneratorRuntime.wrap(function _callee$(_context) {\n\t          while (1) {\n\t            switch (_context.prev = _context.next) {\n\t              case 0:\n\t                _context.next = 2;\n\t                return this.databaseInitialized();\n\t\n\t              case 2:\n\t                return _context.abrupt('return', this.bot.db.getState());\n\t\n\t              case 3:\n\t              case 'end':\n\t                return _context.stop();\n\t            }\n\t          }\n\t        }, _callee, this);\n\t      }));\n\t\n\t      function dump() {\n\t        return ref.apply(this, arguments);\n\t      }\n\t\n\t      return dump;\n\t    }()\n\t  }, {\n\t    key: 'clear',\n\t    value: function () {\n\t      var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n\t        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n\t          while (1) {\n\t            switch (_context2.prev = _context2.next) {\n\t              case 0:\n\t                _context2.next = 2;\n\t                return this.databaseInitialized();\n\t\n\t              case 2:\n\t\n\t                this.bot.log.critical('Database clearing. You may need to restart your bot.');\n\t                this.bot.db.setState();\n\t\n\t                // reinitialize plugins so that those with default databases can re-set-up\n\t                this.bot.initializePlugins();\n\t\n\t              case 5:\n\t              case 'end':\n\t                return _context2.stop();\n\t            }\n\t          }\n\t        }, _callee2, this);\n\t      }));\n\t\n\t      function clear() {\n\t        return ref.apply(this, arguments);\n\t      }\n\t\n\t      return clear;\n\t    }()\n\t  }]);\n\t\n\t  return DBPlugin;\n\t}(__WEBPACK_IMPORTED_MODULE_0__chat__[\"a\" /* default */]);\n\t\n\t/* harmony default export */ exports[\"a\"] = DBPlugin;\n\n/***/ },\n/* 28 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__chat__ = __webpack_require__(0);\n\t/* unused harmony export ENDPOINT */var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { return step(\"next\", value); }, function (err) { return step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t\n\t\n\tvar ENDPOINT = 'http://api.giphy.com/v1/gifs/search';\n\t\n\tvar GiphyPlugin = function (_ChatPlugin) {\n\t  _inherits(GiphyPlugin, _ChatPlugin);\n\t\n\t  function GiphyPlugin() {\n\t    var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\t\n\t    _classCallCheck(this, GiphyPlugin);\n\t\n\t    var apiKey = options.apiKey;\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(GiphyPlugin).apply(this, arguments));\n\t\n\t    _this.help = 'Help: Explains commands. Say \"<botname> help\" for information.';\n\t\n\t    _this.respond(/^(?:gif|giphy)(?:\\sme)?\\s+(.*)/i, _this.giphy);\n\t\n\t    _this.apiKey = apiKey;\n\t    return _this;\n\t  }\n\t\n\t  _createClass(GiphyPlugin, [{\n\t    key: 'register',\n\t    value: function register(bot) {\n\t      _get(Object.getPrototypeOf(GiphyPlugin.prototype), 'register', this).apply(this, arguments);\n\t\n\t      if (!this.apiKey) {\n\t        bot.log.critical('No apiKey passed to Giphy plugin; plugin will not work.');\n\t      }\n\t    }\n\t  }, {\n\t    key: 'giphy',\n\t    value: function () {\n\t      var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(_ref) {\n\t        var _ref2 = _slicedToArray(_ref, 2);\n\t\n\t        var search = _ref2[1];\n\t\n\t        var _ref3, body, data;\n\t\n\t        return regeneratorRuntime.wrap(function _callee$(_context) {\n\t          while (1) {\n\t            switch (_context.prev = _context.next) {\n\t              case 0:\n\t                _context.prev = 0;\n\t                _context.next = 3;\n\t                return this.bot.http.get(ENDPOINT).query({ q: search, api_key: this.apiKey });\n\t\n\t              case 3:\n\t                _ref3 = _context.sent;\n\t                body = _ref3.body;\n\t                data = body.data;\n\t\n\t                if (!data.length) {\n\t                  _context.next = 8;\n\t                  break;\n\t                }\n\t\n\t                return _context.abrupt('return', data[parseInt(Math.random() * data.length)].images.original.url);\n\t\n\t              case 8:\n\t                _context.next = 14;\n\t                break;\n\t\n\t              case 10:\n\t                _context.prev = 10;\n\t                _context.t0 = _context['catch'](0);\n\t\n\t                this.bot.log.notice('Error returned from Giphy request.');\n\t                this.bot.log.debug(_context.t0);\n\t\n\t              case 14:\n\t              case 'end':\n\t                return _context.stop();\n\t            }\n\t          }\n\t        }, _callee, this, [[0, 10]]);\n\t      }));\n\t\n\t      function giphy(_x2) {\n\t        return ref.apply(this, arguments);\n\t      }\n\t\n\t      return giphy;\n\t    }()\n\t  }]);\n\t\n\t  return GiphyPlugin;\n\t}(__WEBPACK_IMPORTED_MODULE_0__chat__[\"a\" /* default */]);\n\t\n\t/* harmony default export */ exports[\"a\"] = GiphyPlugin;\n\n/***/ },\n/* 29 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__chat__ = __webpack_require__(0);\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t\n\t\n\tvar GREETINGS = ['hi', 'hello', 'sup', 'greetings', 'yo', 'hey'];\n\t\n\tvar FAREWELLS = ['goodbye', 'farwell', 'bye', 'later', 'see ya', 'cya'];\n\t\n\tvar regex = function regex(botname, list) {\n\t  return new RegExp('^(' + list.join('|') + ')[,\\\\s]*' + botname, 'i');\n\t};\n\t\n\tvar GreetingPlugin = function (_ChatPlugin) {\n\t  _inherits(GreetingPlugin, _ChatPlugin);\n\t\n\t  function GreetingPlugin() {\n\t    var _Object$getPrototypeO;\n\t\n\t    var _temp, _this, _ret;\n\t\n\t    _classCallCheck(this, GreetingPlugin);\n\t\n\t    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t      args[_key] = arguments[_key];\n\t    }\n\t\n\t    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_Object$getPrototypeO = Object.getPrototypeOf(GreetingPlugin)).call.apply(_Object$getPrototypeO, [this].concat(args))), _this), _this.help = 'Greetings: says \"hi\" back. Say \"hi <botname>\" for a response.', _temp), _possibleConstructorReturn(_this, _ret);\n\t  }\n\t\n\t  _createClass(GreetingPlugin, [{\n\t    key: 'register',\n\t    value: function register(bot) {\n\t      _get(Object.getPrototypeOf(GreetingPlugin.prototype), 'register', this).apply(this, arguments);\n\t\n\t      this.listen(regex(bot.name, GREETINGS), this.greeting);\n\t      this.listen(function (m) {\n\t        return GREETINGS.includes(m.text.toLowerCase());\n\t      }, this.greeting);\n\t      this.respond(function (m) {\n\t        return GREETINGS.includes(m.text.toLowerCase());\n\t      }, this.greeting);\n\t\n\t      this.listen(regex(bot.name, FAREWELLS), this.farewell);\n\t      this.listen(function (m) {\n\t        return FAREWELLS.includes(m.text.toLowerCase());\n\t      }, this.farewell);\n\t      this.respond(function (m) {\n\t        return FAREWELLS.includes(m.text.toLowerCase());\n\t      }, this.farewell);\n\t    }\n\t  }, {\n\t    key: 'greeting',\n\t    value: function greeting(_, message) {\n\t      var randomGreeting = GREETINGS[parseInt(Math.random() * GREETINGS.length)];\n\t      return randomGreeting + ', ' + message.user.name + '!';\n\t    }\n\t  }, {\n\t    key: 'farewell',\n\t    value: function farewell(_, message) {\n\t      var randomFarewell = FAREWELLS[parseInt(Math.random() * FAREWELLS.length)];\n\t      return randomFarewell + ', ' + message.user.name + '!';\n\t    }\n\t  }]);\n\t\n\t  return GreetingPlugin;\n\t}(__WEBPACK_IMPORTED_MODULE_0__chat__[\"a\" /* default */]);\n\t\n\t/* harmony default export */ exports[\"a\"] = GreetingPlugin;\n\n/***/ },\n/* 30 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__chat__ = __webpack_require__(0);\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t\n\t\n\tvar HelpPlugin = function (_ChatPlugin) {\n\t  _inherits(HelpPlugin, _ChatPlugin);\n\t\n\t  function HelpPlugin() {\n\t    _classCallCheck(this, HelpPlugin);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(HelpPlugin).apply(this, arguments));\n\t\n\t    _this.help = 'Help: Explains commands. Say \"<botname> help\" for information.';\n\t\n\t    _this.pluginHelp = function () {\n\t      return _this.bot.plugins.filter(function (p) {\n\t        return p.help;\n\t      }).map(function (p) {\n\t        return p.help;\n\t      }, []).join('\\n');\n\t    };\n\t\n\t    _this.respond(/^help$/i, _this.pluginHelp);\n\t    return _this;\n\t  }\n\t\n\t  return HelpPlugin;\n\t}(__WEBPACK_IMPORTED_MODULE_0__chat__[\"a\" /* default */]);\n\t\n\t/* harmony default export */ exports[\"a\"] = HelpPlugin;\n\n/***/ },\n/* 31 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__greetings__ = __webpack_require__(29);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__help__ = __webpack_require__(30);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__points__ = __webpack_require__(32);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__db__ = __webpack_require__(27);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__giphy__ = __webpack_require__(28);\n\t/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_0__greetings__, \"a\")) __webpack_require__.d(exports, \"Greetings\", function() { return __WEBPACK_IMPORTED_MODULE_0__greetings__[\"a\"]; });\n\t/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_1__help__, \"a\")) __webpack_require__.d(exports, \"Help\", function() { return __WEBPACK_IMPORTED_MODULE_1__help__[\"a\"]; });\n\t/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_2__points__, \"a\")) __webpack_require__.d(exports, \"Points\", function() { return __WEBPACK_IMPORTED_MODULE_2__points__[\"a\"]; });\n\t/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_3__db__, \"a\")) __webpack_require__.d(exports, \"DBDump\", function() { return __WEBPACK_IMPORTED_MODULE_3__db__[\"a\"]; });\n\t/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_4__giphy__, \"a\")) __webpack_require__.d(exports, \"Giphy\", function() { return __WEBPACK_IMPORTED_MODULE_4__giphy__[\"a\"]; });\n\t\n\t\n\t\n\t\n\n\n/***/ },\n/* 32 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__chat__ = __webpack_require__(0);\n\t/* unused harmony export nameToId */var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { return step(\"next\", value); }, function (err) { return step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t\n\t\n\tvar nameToId = function nameToId(name) {\n\t  return name.replace(/[^\\w]/g, '');\n\t};\n\t\n\tvar HelpPlugin = function (_ChatPlugin) {\n\t  _inherits(HelpPlugin, _ChatPlugin);\n\t\n\t  function HelpPlugin() {\n\t    _classCallCheck(this, HelpPlugin);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(HelpPlugin).apply(this, arguments));\n\t\n\t    _this.help = ['Points: add points to things. `thing++` or `thing--` adds or removes', 'points. Users are rate-limited from voting on the same thing multiple', 'times. Optionally add reasons: `thing++ for my reasons`.'].join(' ');\n\t\n\t\n\t    _this.listen(/^([\\s\\w'@.\\-:]*)\\s*\\+\\+(?:\\s+for (.*))?$/i, function (match) {\n\t      return _this.changePoints(match, 1);\n\t    });\n\t    _this.listen(/^([\\s\\w'@.\\-:]*)\\s*\\-\\-(?:\\s+for (.*))?$/i, function (match) {\n\t      return _this.changePoints(match, -1);\n\t    });\n\t    _this.respond(/^tops?\\s*(\\d*)?$/i, _this.tops);\n\t    _this.respond(/^score(?: for)?(.*)$/i, _this.score);\n\t    return _this;\n\t  }\n\t\n\t  _createClass(HelpPlugin, [{\n\t    key: 'register',\n\t    value: function register(bot) {\n\t      _get(Object.getPrototypeOf(HelpPlugin.prototype), 'register', this).call(this, bot);\n\t      this.database('points', { things: {}, tops: [] });\n\t    }\n\t  }, {\n\t    key: 'changePoints',\n\t    value: function () {\n\t      var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(_ref, val) {\n\t        var _ref2 = _slicedToArray(_ref, 3);\n\t\n\t        var match = _ref2[0];\n\t        var name = _ref2[1];\n\t        var reason = _ref2[2];\n\t        var id, points, reasonId, existingReason;\n\t        return regeneratorRuntime.wrap(function _callee$(_context) {\n\t          while (1) {\n\t            switch (_context.prev = _context.next) {\n\t              case 0:\n\t                name = name.trim();\n\t                id = nameToId(name);\n\t                _context.next = 4;\n\t                return this.databaseInitialized();\n\t\n\t              case 4:\n\t                points = this.bot.db.get('points.things.' + id).value();\n\t\n\t\n\t                if (!points) {\n\t                  points = this.buildPoints(name, id);\n\t                }\n\t\n\t                points.points = points.points + val;\n\t\n\t                if (reason) {\n\t                  reasonId = nameToId(reason);\n\t                  existingReason = points.reasons[reasonId] || { score: 0, reason: reason };\n\t\n\t                  existingReason.score++;\n\t\n\t                  points.reasons[reasonId] = existingReason;\n\t                }\n\t\n\t                this.bot.db.set('points.things.' + id, points).value();\n\t                this.bot.db.write();\n\t\n\t                this.updateTops();\n\t\n\t                return _context.abrupt('return', name + ' has ' + points.points + ' points.');\n\t\n\t              case 12:\n\t              case 'end':\n\t                return _context.stop();\n\t            }\n\t          }\n\t        }, _callee, this);\n\t      }));\n\t\n\t      function changePoints(_x, _x2) {\n\t        return ref.apply(this, arguments);\n\t      }\n\t\n\t      return changePoints;\n\t    }()\n\t  }, {\n\t    key: 'tops',\n\t    value: function () {\n\t      var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(_ref3) {\n\t        var _ref4 = _slicedToArray(_ref3, 2);\n\t\n\t        var match = _ref4[0];\n\t        var _ref4$ = _ref4[1];\n\t        var n = _ref4$ === undefined ? 10 : _ref4$;\n\t        var scores, tops, text;\n\t        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n\t          while (1) {\n\t            switch (_context2.prev = _context2.next) {\n\t              case 0:\n\t                _context2.next = 2;\n\t                return this.databaseInitialized();\n\t\n\t              case 2:\n\t\n\t                if (n > 25) {\n\t                  n = 25;\n\t                }\n\t\n\t                scores = this.bot.db.get('points.things').value();\n\t                tops = this.bot.db.get('points.tops').slice(0, n).value();\n\t                text = ['Top ' + Math.min(n, tops.length) + ':'];\n\t\n\t\n\t                tops.forEach(function (t) {\n\t                  return text.push(scores[t].name + ': ' + scores[t].points);\n\t                });\n\t\n\t                return _context2.abrupt('return', text.join('\\n'));\n\t\n\t              case 8:\n\t              case 'end':\n\t                return _context2.stop();\n\t            }\n\t          }\n\t        }, _callee2, this);\n\t      }));\n\t\n\t      function tops(_x3) {\n\t        return ref.apply(this, arguments);\n\t      }\n\t\n\t      return tops;\n\t    }()\n\t  }, {\n\t    key: 'score',\n\t    value: function () {\n\t      var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee3(_ref5) {\n\t        var _ref6 = _slicedToArray(_ref5, 2);\n\t\n\t        var match = _ref6[0];\n\t        var name = _ref6[1];\n\t        var id, points, reasons, text, reasonKeys;\n\t        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n\t          while (1) {\n\t            switch (_context3.prev = _context3.next) {\n\t              case 0:\n\t                name = name.trim();\n\t                id = nameToId(name);\n\t                _context3.next = 4;\n\t                return this.databaseInitialized();\n\t\n\t              case 4:\n\t                points = this.bot.db.get('points.things.' + id).value();\n\t                reasons = points.reasons;\n\t                text = [name + ' has ' + points.points + ' points.'];\n\t                reasonKeys = Object.keys(points.reasons);\n\t\n\t\n\t                if (reasonKeys.length > 0) {\n\t                  text.push('Here are some reasons:');\n\t\n\t                  reasonKeys.forEach(function (r) {\n\t                    text.push(reasons[r].reason + ': ' + reasons[r].score + ' points');\n\t                  });\n\t                }\n\t\n\t                return _context3.abrupt('return', text.join('\\n'));\n\t\n\t              case 10:\n\t              case 'end':\n\t                return _context3.stop();\n\t            }\n\t          }\n\t        }, _callee3, this);\n\t      }));\n\t\n\t      function score(_x4) {\n\t        return ref.apply(this, arguments);\n\t      }\n\t\n\t      return score;\n\t    }()\n\t  }, {\n\t    key: 'updateTops',\n\t    value: function () {\n\t      var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee4() {\n\t        var tops;\n\t        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n\t          while (1) {\n\t            switch (_context4.prev = _context4.next) {\n\t              case 0:\n\t                _context4.next = 2;\n\t                return this.databaseInitialized();\n\t\n\t              case 2:\n\t                tops = this.bot.db.get('points.things').orderBy('points', 'desc').map('id').value();\n\t\n\t\n\t                this.bot.db.set('points.tops', tops).value();\n\t                this.bot.db.write();\n\t\n\t              case 5:\n\t              case 'end':\n\t                return _context4.stop();\n\t            }\n\t          }\n\t        }, _callee4, this);\n\t      }));\n\t\n\t      function updateTops() {\n\t        return ref.apply(this, arguments);\n\t      }\n\t\n\t      return updateTops;\n\t    }()\n\t  }, {\n\t    key: 'buildPoints',\n\t    value: function buildPoints(name, id) {\n\t      return {\n\t        name: name,\n\t        id: id,\n\t        points: 0,\n\t        reasons: {}\n\t      };\n\t    }\n\t  }]);\n\t\n\t  return HelpPlugin;\n\t}(__WEBPACK_IMPORTED_MODULE_0__chat__[\"a\" /* default */]);\n\t\n\t/* harmony default export */ exports[\"a\"] = HelpPlugin;\n\n/***/ },\n/* 33 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"@slack/client\");\n\n/***/ },\n/* 34 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"aws-sdk\");\n\n/***/ },\n/* 35 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"cryptr\");\n\n/***/ },\n/* 36 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"discord.io\");\n\n/***/ },\n/* 37 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"events\");\n\n/***/ },\n/* 38 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"fs-extra\");\n\n/***/ },\n/* 39 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"lowdb\");\n\n/***/ },\n/* 40 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"readline\");\n\n/***/ },\n/* 41 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"tmi.js\");\n\n/***/ },\n/* 42 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"underscore-db\");\n\n/***/ },\n/* 43 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"util\");\n\n/***/ },\n/* 44 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"lodash\");\n\n/***/ },\n/* 45 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"inherits\");\n\n/***/ },\n/* 46 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t *\n\t */\n\t\n\tvar forEach = __webpack_require__(44).forEach;\n\tvar has = __webpack_require__(44).has;\n\tvar isArray = __webpack_require__(44).isArray;\n\tvar isEmpty = __webpack_require__(44).isEmpty;\n\tvar isObject = __webpack_require__(44).isObject;\n\tvar map = __webpack_require__(44).map;\n\tvar mapValues = __webpack_require__(44).mapValues;\n\t\n\tvar PROPERTY_TYPES = __webpack_require__(58);\n\tvar helpers = __webpack_require__(56);\n\t\n\t\n\tfunction Model(name, opts) {\n\t  /**\n\t   *\n\t   * @type {Object}\n\t   * @protected\n\t   */\n\t  this._properties = {};\n\t\n\t  /**\n\t   * The name of the model.\n\t   * @type {string}\n\t   * @private\n\t   */\n\t  this._modelName = name;\n\t\n\t  this._setProperties(isEmpty(opts) ? {} : opts);\n\t}\n\t\n\t\n\t/**\n\t * Updates the model.\n\t * @param {Object} opts\n\t * @return {Object} The model object that was just updated.\n\t */\n\tModel.prototype.update = function update(opts) {\n\t  this._setProperties(opts);\n\t  return this;\n\t};\n\t\n\t\n\t/**\n\t * Assigns all properties from the supplied opts object to the model.\n\t *\n\t * Subclasses of the model class have the opportunity to intelligently set defaults or assign values\n\t * via individual assignment calls by extending this method on the subclass.\n\t *\n\t * @param {Object} opts\n\t * @private\n\t */\n\tModel.prototype._setProperties = function setProperties(opts) {\n\t  forEach(opts, this._setModelProperty, this);\n\t};\n\t\n\t\n\t/**\n\t * Assigns an individual property from a Slack API response to a model object.\n\t *\n\t * Property assignment works by:\n\t *   1. If the property does not exist, set the property.\n\t *   2. If the property exists on the model, and is a scalar, overwrite the property with the\n\t *      property from the opts object\n\t *   3. If the property exists on the model and is a complex property:\n\t *      * if it's an object, extend the model property with values from the opts property\n\t *      * if it's an array, overwrite the array. This is because it's currently unclear if there are\n\t *        any array properties that will only be partially filled by some RTM / API responses, but\n\t *        completely filled by others.\n\t *\n\t * @param {String} key\n\t * @param {*} val\n\t *cchnnihbtckbllbflvffbvrgelvkufcruclebldbdtbb\n\t * @private\n\t */\n\tModel.prototype._setModelProperty = function _setModelProperty(val, key) {\n\t  if (isObject(val)) {\n\t    this._setObjectProperty(key, val);\n\t  } else if (isArray(val)) {\n\t    this._setArrayProperty(key, val);\n\t  } else {\n\t    this._properties[key] = PROPERTY_TYPES.SIMPLE;\n\t    this[key] = val;\n\t  }\n\t};\n\t\n\t\n\t/**\n\t * Sets an object property from the API on a model object.\n\t *\n\t * NOTE: this assumes that none of the values of the object from the API represent additional model\n\t *       objects, i.e. that {relevantChannel: {channelObject}} will never occur in the API response.\n\t *\n\t * @param key\n\t * @param val\n\t *\n\t * @private\n\t */\n\tModel.prototype._setObjectProperty = function _setObjectProperty(key, val) {\n\t  var hasProperty = has(this, key);\n\t  var ModelClass;\n\t\n\t  if (helpers.isModelObj(val)) {\n\t    if (hasProperty) {\n\t      this[key].update(val);\n\t    } else {\n\t      ModelClass = helpers.getModelClass();\n\t      this[key] = new ModelClass(val);\n\t    }\n\t    this._properties[key] = PROPERTY_TYPES.MODEL;\n\t  } else {\n\t    this._properties[key] = PROPERTY_TYPES.SIMPLE;\n\t    this[key] = val;\n\t  }\n\t};\n\t\n\t\n\t/**\n\t *\n\t * @param key\n\t * @param val\n\t *\n\t * @private\n\t */\n\tModel.prototype._setArrayProperty = function _setArrayProperty(key, val) {\n\t  var ModelClass;\n\t  var firstItem;\n\t\n\t  // NOTE: This assumes that it's not necessary to search and update model values in arrays and\n\t  //       that instead they can be over-written\n\t  if (!isEmpty(val)) {\n\t    // Assumes that all values in the array are of the same type\n\t    firstItem = val[0];\n\t    if (helpers.isModelObj(firstItem)) {\n\t      ModelClass = helpers.getModelClass();\n\t      this[key] = map(val, function makeChildModelObjs(item) {\n\t        return new ModelClass(item);\n\t      });\n\t      this._properties[key] = PROPERTY_TYPES.MODEL_ARRAY;\n\t    } else {\n\t      this._properties[key] = PROPERTY_TYPES.SIMPLE;\n\t      this[key] = val;\n\t    }\n\t  } else {\n\t    this._properties[key] = PROPERTY_TYPES.SIMPLE;\n\t    this[key] = val;\n\t  }\n\t};\n\t\n\t\n\tModel.prototype.toJSON = function toJSON() {\n\t  var objRepresentation = mapValues(this._properties, function mapModelPropertiesToJSON(val, key) {\n\t    var res;\n\t\n\t    if (val === PROPERTY_TYPES.MODEL) {\n\t      res = this[key].toJSON();\n\t    } else if (val === PROPERTY_TYPES.MODEL_ARRAY) {\n\t      res = map(this[key], function mapModelArrayPropertyToJSON(arrVal) {\n\t        return arrVal.toJSON();\n\t      });\n\t    } else {\n\t      res = this[key];\n\t    }\n\t\n\t    return res;\n\t  }, this);\n\t\n\t  return objRepresentation;\n\t};\n\t\n\t\n\tmodule.exports = Model;\n\n\n/***/ },\n/* 47 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t *\n\t */\n\t\n\tvar inherits = __webpack_require__(45);\n\t\n\tvar BaseChannel = __webpack_require__(48);\n\t\n\t\n\tvar ChannelGroup = function ChannelGroup(name, opts) {\n\t  BaseChannel.call(this, name, opts);\n\t};\n\t\n\tinherits(ChannelGroup, BaseChannel);\n\t\n\t\n\tmodule.exports = ChannelGroup;\n\n\n/***/ },\n/* 48 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t *\n\t */\n\t\n\tvar bind = __webpack_require__(44).bind;\n\tvar forEachRight = __webpack_require__(44).forEachRight;\n\tvar find = __webpack_require__(44).find;\n\tvar findLastIndex = __webpack_require__(44).findLastIndex;\n\tvar inherits = __webpack_require__(45);\n\tvar keys = __webpack_require__(44).keys;\n\t\n\tvar Model = __webpack_require__(46);\n\t\n\t\n\tfunction BaseChannel(objectName, opts) {\n\t  /**\n\t   *\n\t   * @type {Array}\n\t   */\n\t  this.history = [];\n\t\n\t  /**\n\t   * Object, keyed on user id, values of timeouts that will be run to clear the user typing state.\n\t   * @type {{}}\n\t   * @private\n\t   */\n\t  this._typing = {};\n\t\n\t  /**\n\t   *\n\t   */\n\t  this.unreadCount = 0;\n\t\n\t\n\t  /**\n\t   * @type {string}\n\t   */\n\t  this.lastRead = '0000000000.000000';\n\t\n\t  /**\n\t   * @type {string}\n\t   * @private\n\t   */\n\t  this._maxTs = '0000000000.000000';\n\t\n\t  Model.call(this, objectName, opts);\n\t}\n\t\n\tinherits(BaseChannel, Model);\n\t\n\t\n\t/**\n\t * The timeout after which the user typing entry should be removed.\n\t * @type {number}\n\t */\n\tBaseChannel.prototype.USER_TYPING_TIMEOUT = 5000;\n\t\n\t\n\tBaseChannel.prototype._setProperties = function setProperties(opts) {\n\t  BaseChannel.super_.prototype._setProperties.call(this, opts);\n\t\n\t  if (this.latest) {\n\t    this.addMessage(this.latest);\n\t  }\n\t};\n\t\n\t\n\t/**\n\t *\n\t * @param {string} userId\n\t */\n\tBaseChannel.prototype.startedTyping = function startedTyping(userId) {\n\t  if (this._typing[userId]) {\n\t    clearTimeout(this._typing[userId]);\n\t  }\n\t\n\t  this._typing[userId] = setTimeout(bind(function removeSetTypingTimeout() {\n\t    delete this._typing[userId];\n\t  }, this), this.USER_TYPING_TIMEOUT);\n\t};\n\t\n\t\n\t/**\n\t *\n\t * @returns {number}\n\t */\n\tBaseChannel.prototype.recalcUnreads = function recalcUnreads() {\n\t  var continueIterating = true;\n\t  this.unreadCount = 0;\n\t\n\t  forEachRight(this.history, function checkMessageIsUnread(message) {\n\t    if (message.ts > this.lastRead) {\n\t      this.unreadCount++;\n\t    } else {\n\t      continueIterating = false;\n\t    }\n\t\n\t    return continueIterating;\n\t  }, this);\n\t\n\t  return this.unreadCount;\n\t};\n\t\n\t\n\t/**\n\t * Returns the string form of the channel type.\n\t * @return {string}\n\t */\n\tBaseChannel.prototype.getType = function getType() {\n\t  return this._modelName.toLowerCase();\n\t};\n\t\n\t\n\t/**\n\t * Returns an array of user ids for all users who are currently typing.\n\t * @return {Array.<string>}\n\t */\n\tBaseChannel.prototype.getTypingUsers = function getTypingUsers() {\n\t  return keys(this._typing);\n\t};\n\t\n\t\n\t/**\n\t *\n\t * @param ts\n\t */\n\tBaseChannel.prototype.getMessageByTs = function getMessageByTs(ts) {\n\t  // This has the potential to get really slow, but ok for now I guess...\n\t  return find(this.history, { ts: ts });\n\t};\n\t\n\t\n\t/**\n\t *\n\t * @param {Object} message\n\t */\n\tBaseChannel.prototype.addMessage = function addMessage(message) {\n\t  // TODO(leah): Do a reverse walk of this and compare the timestamps as an extra guarantee?\n\t  this.history.push(message);\n\t\n\t  if (message.ts > this._maxTs && !message.hidden) {\n\t    this._maxTs = message.ts;\n\t    this.unreadCount++;\n\t  }\n\t};\n\t\n\t\n\tBaseChannel.prototype.updateMessage = function updateMessage(messageUpdatedMsg) {\n\t  var message = messageUpdatedMsg.message;\n\t  var msgIndex = findLastIndex(this.history, 'ts', message.ts);\n\t  if (msgIndex !== -1) {\n\t    this.history[msgIndex] = message;\n\t  }\n\t};\n\t\n\t\n\tmodule.exports = BaseChannel;\n\n\n/***/ },\n/* 49 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * {@link https://api.slack.com/types/channel|Channel}\n\t */\n\t\n\tvar inherits = __webpack_require__(45);\n\t\n\tvar ChannelGroup = __webpack_require__(47);\n\t\n\t\n\tvar Channel = function Channel(opts) {\n\t  ChannelGroup.call(this, 'Channel', opts);\n\t};\n\t\n\tinherits(Channel, ChannelGroup);\n\t\n\t\n\tmodule.exports = Channel;\n\n\n/***/ },\n/* 50 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * {@link https://api.slack.com/types/im|DM}\n\t */\n\t\n\tvar inherits = __webpack_require__(45);\n\t\n\tvar BaseChannel = __webpack_require__(48);\n\t\n\t\n\tfunction DM(opts) {\n\t  BaseChannel.call(this, 'DM', opts);\n\t}\n\t\n\tinherits(DM, BaseChannel);\n\t\n\t\n\tmodule.exports = DM;\n\n\n/***/ },\n/* 51 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t *\n\t */\n\t\n\tvar inherits = __webpack_require__(45);\n\t\n\tvar Model = __webpack_require__(46);\n\t\n\t\n\tfunction File(opts) {\n\t  Model.call(this, 'File', opts);\n\t}\n\t\n\tinherits(File, Model);\n\t\n\t\n\tmodule.exports = File;\n\n\n/***/ },\n/* 52 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * {@link https://api.slack.com/types/group|Group}\n\t */\n\t\n\tvar inherits = __webpack_require__(45);\n\t\n\tvar ChannelGroup = __webpack_require__(47);\n\t\n\t\n\tfunction Group(opts) {\n\t  ChannelGroup.call(this, 'Group', opts);\n\t}\n\t\n\tinherits(Group, ChannelGroup);\n\t\n\t\n\tmodule.exports = Group;\n\n\n/***/ },\n/* 53 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t *\n\t */\n\t\n\tvar inherits = __webpack_require__(45);\n\t\n\tvar ChannelGroup = __webpack_require__(47);\n\t\n\t\n\tfunction MPDM(opts) {\n\t  ChannelGroup.call(this, 'MPDM', opts);\n\t}\n\t\n\tinherits(MPDM, ChannelGroup);\n\t\n\t\n\tmodule.exports = MPDM;\n\n\n/***/ },\n/* 54 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t *\n\t */\n\t\n\tvar inherits = __webpack_require__(45);\n\t\n\tvar Model = __webpack_require__(46);\n\t\n\t\n\tfunction UserGroup(opts) {\n\t  Model.call(this, 'UserGroup', opts);\n\t}\n\t\n\tinherits(UserGroup, Model);\n\t\n\t\n\tmodule.exports = UserGroup;\n\n\n/***/ },\n/* 55 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t *\n\t */\n\t\n\tvar inherits = __webpack_require__(45);\n\t\n\tvar Model = __webpack_require__(46);\n\t\n\t\n\tfunction User(opts) {\n\t  Model.call(this, 'User', opts);\n\t}\n\t\n\tinherits(User, Model);\n\t\n\t\n\tmodule.exports = User;\n\n\n/***/ },\n/* 56 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar hasKey = __webpack_require__(44).has;\n\t\n\t// Channel, file, group, DM, user, usergroup\n\tvar RECOGNIZED_API_TYPE_PREFIXES = ['C', 'F', 'G', 'D', 'U', 'S'];\n\t\n\t\n\t/**\n\t * Tests whether a supplied JSON object represents a Slack API type.\n\t * @param {Object} obj\n\t * @returns {boolean}\n\t */\n\tvar isModelObj = function isModelObj(obj) {\n\t  if (hasKey(obj, 'id')) {\n\t    return RECOGNIZED_API_TYPE_PREFIXES.indexOf(obj.id.substr(0, 1)) !== -1;\n\t  }\n\t\n\t  return false;\n\t};\n\t\n\t\n\t/**\n\t * Returns the model class for the JSON object from the Slack API.\n\t */\n\tvar getModelClass = function getModelClass(obj) {\n\t  var modelClass;\n\t  var apiTypePrefix = obj.id.substr(0, 1);\n\t\n\t  if (apiTypePrefix === 'C') {\n\t    modelClass = __webpack_require__(49);\n\t  } else if (apiTypePrefix === 'F') {\n\t    modelClass = __webpack_require__(51);\n\t  } else if (apiTypePrefix === 'D') {\n\t    modelClass = __webpack_require__(50);\n\t  } else if (apiTypePrefix === 'U') {\n\t    modelClass = __webpack_require__(55);\n\t  } else if (apiTypePrefix === 'S') {\n\t    modelClass = __webpack_require__(54);\n\t  } else {\n\t    // The MPDM and Group classes share the same prefix, so do an extra check here\n\t    if (apiTypePrefix === 'G') {\n\t      if (obj.is_mpim) {\n\t        modelClass = __webpack_require__(53);\n\t      }\n\t\n\t      if (obj.is_group) {\n\t        modelClass = __webpack_require__(52);\n\t      }\n\t    }\n\t  }\n\t\n\t  return modelClass;\n\t};\n\t\n\t\n\tmodule.exports.isModelObj = isModelObj;\n\tmodule.exports.getModelClass = getModelClass;\n\n\n/***/ },\n/* 57 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = {\n\t  Channel: __webpack_require__(49),\n\t  DM: __webpack_require__(50),\n\t  File: __webpack_require__(51),\n\t  Group: __webpack_require__(52),\n\t  MPDM: __webpack_require__(53),\n\t  User: __webpack_require__(55),\n\t  UserGroup: __webpack_require__(54)\n\t};\n\n\n/***/ },\n/* 58 */\n/***/ function(module, exports) {\n\n\tvar PROPERTY_TYPES = {\n\t  SIMPLE: 0,\n\t  MODEL: 1,\n\t  MODEL_ARRAY: 2\n\t};\n\t\n\tmodule.exports = PROPERTY_TYPES;\n\n\n/***/ }\n/******/ ])\n});\n;\n\n\n// WEBPACK FOOTER //\n// exobot.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmory imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmory exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tObject.defineProperty(exports, name, {\n \t\t\tconfigurable: false,\n \t\t\tenumerable: true,\n \t\t\tget: getter\n \t\t});\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 24);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 49ed7845da55dac7c6b9","import Plugin from './plugin';\nimport TextMessage from '../messages/text';\n\nconst DEFAULT_REGEXP = /.+/;\n\nexport default class ChatPlugin extends Plugin {\n  regexp = DEFAULT_REGEXP;\n\n  respondFunctions = [];\n  listenFunctions = [];\n\n  constructor () {\n    super();\n  }\n\n  register (bot) {\n    this.bot = bot;\n    this.botNameRegex = new RegExp(`^(?:(?:${bot.name}|${bot.alias})[,\\\\s:.-]*)(.+)`);\n\n    bot.emitter.on('receive-message', m => {\n      this.respondFunctions.forEach(v => this.process(v[0], v[1], m, true));\n      this.listenFunctions.forEach(v => this.process(v[0], v[1], m));\n    });\n  }\n\n  process (validation, response, message, isResponder=false) {\n    if (isResponder) {\n      const text = this.validateBotName(message);\n\n      if (text) {\n        message = new TextMessage({ ...message, text, direct: true });\n      } else {\n        return;\n      }\n    }\n\n    if (validation.exec) { validation = this.validate(validation); }\n\n    const res = validation(message);\n\n    if (res) {\n      const text = response(res, message);\n\n      if (text) {\n        if (text instanceof Promise) {\n          text.then(t => {\n            const newMessage = new TextMessage({ ...message, text: t });\n            this.bot.send(newMessage);\n          });\n        } else {\n          const newMessage = new TextMessage({ ...message, text });\n          this.bot.send(newMessage);\n        }\n      }\n    }\n  }\n\n  validate (regex) {\n    return message => regex.exec(message.text);\n  }\n\n  validateBotName (message) {\n    const exec = this.botNameRegex.exec(message.text);\n    if (!exec) { return; }\n\n    return exec[1];\n  }\n\n  respond (validation, fn) {\n    if (fn) { fn = fn.bind(this); }\n    this.respondFunctions.push([validation, fn]);\n  }\n\n  listen (validation, fn) {\n    if (fn) { fn = fn.bind(this); }\n    this.listenFunctions.push([validation, fn]);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/chat.js","export default class User {\n  constructor (name, id=name) {\n    this.name = name;\n    this.id = id;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/user.js","import { v4 as uuid } from 'node-uuid';\n\nimport TextMessage from '../messages/text';\nimport PresenceMessage from '../messages/presence';\n\nexport default class Adapter {\n  static STATUS = {\n    UNINITIALIZED: 0,\n    CONNECTING: 1,\n    CONNECTED: 2,\n    DISCONNECTED: 3,\n    RECONNECTING: 4,\n    ERROR: 5,\n  }\n\n  constructor (options={}) {\n    this.options = options;\n    this.id = options.id || uuid();\n    this.status = Adapter.STATUS.UNINITIALIZED;\n  }\n\n  register (bot) {\n    if (!bot) { throw new Error('No bot passed to register; fatal.'); }\n\n    this.bot = bot;\n\n    this.status = Adapter.STATUS.CONNECTING;\n    this.listen();\n  }\n\n  listen () {\n    if (!this.bot) { throw new Error('No bot to listen on; fatal.'); }\n  }\n\n  receive ({ user, text, channel, whisper }) {\n    const message = new TextMessage({ user, text, channel, whisper, adapter: this.id });\n    this.bot.emitter.emit('receive-message', message);\n  }\n\n  receiveWhisper ({ user, text, channel }) {\n    text = this.bot.prependNameForWhisper(text);\n    this.receive({ user, text, channel, whisper: true });\n  }\n\n  enter ({ user, channel }) {\n    const message = new PresenceMessage({\n      user,\n      channel,\n      adapter: this.id,\n      type: PresenceMessage.TYPES.ENTER,\n    });\n\n    this.bot.emitter.emit('enter', message);\n  }\n\n  leave ({ user, channel }) {\n    const message = new PresenceMessage({\n      user,\n      channel,\n      adapter: this.id,\n      type: PresenceMessage.TYPES.LEAVE,\n    });\n\n    this.bot.emitter.emit('leave', message);\n  }\n\n  send (message) {\n    console.log(message.text);\n  }\n\n  ping () {\n    this.pong();\n  }\n\n  pong () {\n    console.log('Ping received, this.pong() not implemented.');\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/adapters/adapter.js","export default class Plugin {\n  help = undefined;\n  _requiresDatabase = false;\n\n  constructor (options={}) {\n    this.options = options;\n  }\n\n  register (bot) {\n    if (!bot) { throw new Error('No bot passed to register; fatal.'); }\n\n    this.bot = bot;\n  }\n\n  listen () {\n    if (!this.bot) { throw new Error('No bot to listen on; fatal.'); }\n  }\n\n  async database (name, defaultValue) {\n    await this.databaseInitialized();\n    const val = this.bot.db.get(name).value();\n\n    if (typeof val === 'undefined') {\n      this.bot.db.set(name, defaultValue).value();\n    }\n  }\n\n  async databaseInitialized () {\n    this._requiresDatabase = true;\n\n    if (this._requiresDatabase && this.bot.db) {\n      return true;\n    }\n\n    return new Promise((resolve) => {\n      this.bot.emitter.on('dbLoaded', resolve);\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/plugin.js","import { v4 as uuid } from 'node-uuid';\n\nexport default class Message {\n  constructor ({ user, channel, adapter, id=uuid() }) {\n    this.user = user;\n    this.channel = channel;\n    this.adapter = adapter;\n    this.id = id;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/messages/message.js","import Message from './message';\n\nexport default class TextMessage extends Message {\n  constructor ({ text, whisper=false }) {\n    super(...arguments);\n    this.text = text;\n    this.whisper = whisper;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/messages/text.js","import Message from './message';\n\nexport default class PresenceMessage extends Message {\n  static TYPES = {\n    ENTER: 0,\n    LEAVE: 1,\n  }\n\n  constructor ({ type }) {\n    super(...arguments);\n    this.type = type;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/messages/presence.js","module.exports = require(\"node-uuid\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"node-uuid\"\n// module id = 8\n// module chunks = 0","export { default as Adapter } from './adapter';\n\nimport * as a from './adapters';\nexport const adapters = a;\n\n\n\n// WEBPACK FOOTER //\n// ./src/adapters/index.js","export { default as Plugin } from './plugin';\nexport { default as ChatPlugin } from './chat';\nexport { default as EventPlugin } from './event';\nexport { default as HTTPPlugin } from './http';\n\nimport * as p from './plugins';\nexport const plugins = p;\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/index.js","/*!\n * Log.js\n * Copyright(c) 2010 TJ Holowaychuk <tj@vision-media.ca>\n * MIT Licensed\n */\n\n/**\n * Module dependencies.\n */\n\nvar fmt = require('util').format;\nvar EventEmitter = require('events').EventEmitter;\n\n/**\n * Initialize a `Loggeer` with the given log `level` defaulting\n * to __DEBUG__ and `stream` defaulting to _stdout_.\n *\n * @param {Number} level\n * @param {Object} stream\n * @api public\n */\n\nvar Log = exports = module.exports = function Log(level, stream){\n  if ('string' == typeof level) level = exports[level.toUpperCase()];\n  this.level = level || exports.DEBUG;\n  this.stream = stream || process.stdout;\n  if (this.stream.readable) this.read();\n};\n\n/**\n * System is unusable.\n *\n * @type Number\n */\n\nexports.EMERGENCY = 0;\n\n/**\n * Action must be taken immediately.\n *\n * @type Number\n */\n\nexports.ALERT = 1;\n\n/**\n * Critical condition.\n *\n * @type Number\n */\n\nexports.CRITICAL = 2;\n\n/**\n * Error condition.\n *\n * @type Number\n */\n\nexports.ERROR = 3;\n\n/**\n * Warning condition.\n *\n * @type Number\n */\n\nexports.WARNING = 4;\n\n/**\n * Normal but significant condition.\n *\n * @type Number\n */\n\nexports.NOTICE = 5;\n\n/**\n * Purely informational message.\n *\n * @type Number\n */\n\nexports.INFO = 6;\n\n/**\n * Application debug messages.\n *\n * @type Number\n */\n\nexports.DEBUG = 7;\n\n/**\n * prototype.\n */\n\nLog.prototype = {\n\n  /**\n   * Start emitting \"line\" events.\n   *\n   * @api public\n   */\n\n  read: function(){\n    var buf = ''\n      , self = this\n      , stream = this.stream;\n\n    stream.setEncoding('utf8');\n    stream.on('data', function(chunk){\n      buf += chunk;\n      if ('\\n' != buf[buf.length - 1]) return;\n      buf.split('\\n').map(function(line){\n        if (!line.length) return;\n        try {\n          var captures = line.match(/^\\[([^\\]]+)\\] (\\w+) (.*)/);\n          var obj = {\n              date: new Date(captures[1])\n            , level: exports[captures[2]]\n            , levelString: captures[2]\n            , msg: captures[3]\n          };\n          self.emit('line', obj);\n        } catch (err) {\n          // Ignore\n        }\n      });\n      buf = '';\n    });\n\n    stream.on('end', function(){\n      self.emit('end');\n    });\n  },\n\n  /**\n   * Log output message.\n   *\n   * @param  {String} levelStr\n   * @param  {Array} args\n   * @api private\n   */\n\n  log: function(levelStr, args) {\n    if (exports[levelStr] <= this.level) {\n      var msg = fmt.apply(null, args);\n      this.stream.write(\n          '[' + new Date + ']'\n        + ' ' + levelStr\n        + ' ' + msg\n        + '\\n'\n      );\n    }\n  },\n\n  /**\n   * Log emergency `msg`.\n   *\n   * @param  {String} msg\n   * @api public\n   */\n\n  emergency: function(msg){\n    this.log('EMERGENCY', arguments);\n  },\n\n  /**\n   * Log alert `msg`.\n   *\n   * @param  {String} msg\n   * @api public\n   */\n\n  alert: function(msg){\n    this.log('ALERT', arguments);\n  },\n\n  /**\n   * Log critical `msg`.\n   *\n   * @param  {String} msg\n   * @api public\n   */\n\n  critical: function(msg){\n    this.log('CRITICAL', arguments);\n  },\n\n  /**\n   * Log error `msg`.\n   *\n   * @param  {String} msg\n   * @api public\n   */\n\n  error: function(msg){\n    this.log('ERROR', arguments);\n  },\n\n  /**\n   * Log warning `msg`.\n   *\n   * @param  {String} msg\n   * @api public\n   */\n\n  warning: function(msg){\n    this.log('WARNING', arguments);\n  },\n\n  /**\n   * Log notice `msg`.\n   *\n   * @param  {String} msg\n   * @api public\n   */\n\n  notice: function(msg){\n    this.log('NOTICE', arguments);\n  },\n\n  /**\n   * Log info `msg`.\n   *\n   * @param  {String} msg\n   * @api public\n   */\n\n  info: function(msg){\n    this.log('INFO', arguments);\n  },\n\n  /**\n   * Log debug `msg`.\n   *\n   * @param  {String} msg\n   * @api public\n   */\n\n  debug: function(msg){\n    this.log('DEBUG', arguments);\n  }\n};\n\n/**\n * Inherit from `EventEmitter`.\n */\n\nLog.prototype.__proto__ = EventEmitter.prototype;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/jack/projects/~/log/lib/log.js\n// module id = 12\n// module chunks = 0","module.exports = require(\"babel-polyfill\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-polyfill\"\n// module id = 13\n// module chunks = 0","module.exports = require(\"eventemitter3\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"eventemitter3\"\n// module id = 14\n// module chunks = 0","module.exports = require(\"superagent\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"superagent\"\n// module id = 15\n// module chunks = 0","module.exports = require(\"superagent-promise-plugin\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"superagent-promise-plugin\"\n// module id = 16\n// module chunks = 0","import Discord from 'discord.io';\n\nimport Adapter from '../adapter';\nimport User from '../../user';\n\nexport const EVENTS = {\n  ready: 'discordReady',\n  message: 'discordMessage',\n  presence: 'discordPresence',\n  disconnected: 'discordDisconnected',\n};\n\nexport default class DiscordAdapter extends Adapter {\n  channels = {}\n\n  constructor ({ token, botId, username }) {\n    super(...arguments);\n\n    this.botId = botId;\n    this.username = username;\n    this.token = token;\n  }\n\n  register (bot) {\n    super.register(...arguments);\n\n    const { token, botId, username } = this;\n\n    if (!token || !botId || !username) {\n      this.status = Adapter.STATUS.ERROR;\n      bot.log.error('token, botId, and username are required to connect to discord.');\n      return;\n    }\n\n    this.client = new Discord.Client({\n      token,\n      autorun: true,\n    });\n\n    Object.keys(EVENTS).forEach(discordEvent => {\n      const mappedFn = this[EVENTS[discordEvent]];\n      this.client.on(discordEvent, (...args) => mappedFn.bind(this)(...args));\n      this.client.on(discordEvent, (...args) => {\n        this.bot.emitter.emit(`discord-${discordEvent}`, ...args);\n      });\n    });\n  }\n\n  send (message) {\n    this.bot.log.debug(`Sending ${message.text} to ${message.channel}`);\n\n    this.client.sendMessage({\n      to: message.channel,\n      message: message.text,\n    });\n  }\n\n  discordReady = () => {\n    this.status = Adapter.STATUS.CONNECTED;\n\n    this.bot.emitter.emit('connected', this.id);\n    this.bot.log.notice('Connected to Discord.');\n\n    this.client.setPresence({\n      game: 'Exobotting',\n    });\n  }\n\n  discordDisconnected = () => {\n    this.status = Adapter.STATUS.DISCONNECTED;\n    this.bot.log.critical('Disconnected from Discord.');\n  }\n\n  discordMessage (username, userId, channel, text/*, rawEvent*/) {\n    if (username === this.username) { return; }\n\n    const user = new User(username, userId);\n\n    // if it's a whisper, the channel is in directMessages\n    if (this.client.directMessages[channel]) {\n      return super.receiveWhisper({ user, text, channel });\n    }\n\n    this.receive({ user, text, channel });\n  }\n\n  discordPresence (username, userId, status, gameName, rawEvent) {\n    if (userId !== this.botId) {\n      const user = new User(username, userId);\n\n      if (status === 'online') {\n        return super.enter({ user, channel: rawEvent.d.channel_id });\n      } else if (status === 'offline') {\n        return super.leave({ user, channel: rawEvent.d.channel_id });\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/adapters/adapters/discord.js","import readline from 'readline';\n\nimport Adapter from '../adapter';\nimport User from '../../user';\n\nconst SHELL = 'SHELL';\nconst SHELL_USER = new User('shell');\n\nconst EXIT_COMMANDS = [\n  'exit',\n  'quit',\n  'q',\n];\n\nexport default class ShellAdapter extends Adapter {\n  constructor () {\n    super();\n    this.rl = readline.createInterface({\n      input: process.stdin,\n      output: process.stdout,\n    });\n  }\n\n  prompt () {\n    this.rl.question('Chat: ', (answer) => {\n      if (EXIT_COMMANDS.includes(answer)) {\n        return process.exit();\n      }\n\n      super.receive({\n        text: answer,\n        channel: SHELL,\n        user: SHELL_USER,\n      });\n\n      this.prompt();\n    });\n  }\n\n  register (bot) {\n    super.register(bot);\n    this.prompt();\n    this.status = Adapter.STATUS.CONNECTED;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/adapters/adapters/shell.js","import {\n  RtmClient,\n  CLIENT_EVENTS,\n  RTM_EVENTS,\n  //MemoryDataStore,\n} from '@slack/client';\n\nimport models from '@slack/client/lib/models';\n\nimport Adapter from '../adapter';\nimport User from '../../user';\n\nconst dmName = new models.DM()._modelName;\n\nexport const EVENTS = {\n  [CLIENT_EVENTS.RTM.CONNECTING]: 'slackConnecting',\n  [CLIENT_EVENTS.RTM.RTM_CONNECTION_OPENED]: 'slackConnected',\n  [CLIENT_EVENTS.RTM.AUTHENTICATED]: 'slackAuthenticated',\n  [CLIENT_EVENTS.RTM.DISCONNECT]: 'slackDisconnected',\n  [CLIENT_EVENTS.RTM.UNABLE_TO_RTM_START]: 'slackUnableToStart',\n  [CLIENT_EVENTS.RTM.ATTEMPTING_RECONNECT]: 'slackReconnecting',\n  [RTM_EVENTS.MESSAGE]: 'slackMessage',\n};\n\nexport default class Slack extends Adapter {\n  constructor ({ token }) {\n    super(...arguments);\n    this.token = token;\n  }\n\n  register (bot) {\n    super.register(...arguments);\n    const { token } = this;\n\n    this.client = new RtmClient(token, { logLevel: bot.logLevel });\n\n    Object.keys(EVENTS).forEach(slackEvent => {\n      const mappedFn = this[EVENTS[slackEvent]];\n      this.client.on(slackEvent, (...args) => mappedFn(...args));\n      this.client.on(slackEvent, (...args) => {\n        bot.emitter.emit(`slack-${slackEvent}`, ...args);\n      });\n    });\n\n    this.client.start();\n  }\n\n  send (message) {\n    this.bot.log.debug(`Sending ${message.text} to ${message.channel}`);\n    this.client.sendMessage(message.text, message.channel);\n  }\n\n  slackConnecting = () => {\n    this.bot.log.info('Connecting to Slack.');\n    this.status = Adapter.STATUS.CONNECTING;\n  }\n\n  slackConnected = () => {\n    this.bot.log.info('Connected to Slack.');\n  }\n\n  slackAuthenticated = () => {\n    this.bot.log.notice('Successfully authenticated to Slack.');\n    this.status = Adapter.STATUS.CONNECTED;\n  }\n\n  slackDisconnected = () => {\n    this.bot.log.critical('Disconnected from Slack.');\n    this.status = Adapter.STATUS.DISCONNECTED;\n  }\n\n  slackUnableToStart = () => {\n    this.bot.log.critical('Unable to start Slack.');\n    this.status = Adapter.STATUS.DISCONNECTED;\n  }\n\n  slackReconnecting = () => {\n    this.bot.log.notice('Reconnecting to Slack.');\n    this.status = Adapter.STATUS.RECONNECTING;\n  }\n\n  slackMessage = (message) => {\n    const botId = this.client.activeUserId;\n    if (message.user === botId) { return; }\n\n    const slackUser = this.client.dataStore.getUserById(message.user);\n    let user;\n\n    if (slackUser) {\n      user = new User(slackUser.name, slackUser.id);\n    } else {\n      user = new User(message.user);\n    }\n\n    const channel = this.client.dataStore.getChannelGroupOrDMById(message.channel);\n\n    if (channel && channel._modelName === dmName) {\n      return this.receiveWhisper({ user, text: message.text, channel: message.channel });\n    }\n\n    this.receive({ user, text: message.text, channel: message.channel });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/adapters/adapters/slack.js","import TMI from 'tmi.js';\n\nimport Adapter from '../adapter';\nimport User from '../../user';\n\nexport const EVENTS = {\n  connecting: 'twitchConnecting',\n  connected: 'twitchConnected',\n  logon: 'twitchLogon',\n  disconnected: 'twitchDisconnected',\n  reconnect: 'twitchReconnect',\n  chat: 'twitchChat',\n  emoteonly: 'twitchEmoteonly',\n  join: 'twitchJoin',\n  part: 'twitchPart',\n  mods: 'twitchMods',\n  notice: 'twitchNotice',\n  ping: 'twitchPing',\n  pong: 'twitchPong',\n  roomstate: 'twitchRoomstate',\n  slowmode: 'twitchSlowmode',\n  subscribers: 'twitchSubscribers',\n  subscription: 'twitchSubscription',\n  timeout: 'twitchTimeout',\n  whisper: 'twitchWhisper',\n};\n\nexport default class TwitchAdapter extends Adapter {\n  constructor ({ username, oauthPassword, channels=[] }) {\n    super(...arguments);\n\n    this.username = username;\n    this.oauthPassword = oauthPassword;\n    this.channels = channels;\n  }\n\n  register (bot) {\n    super.register(...arguments);\n\n    const { username, oauthPassword, channels } = this;\n\n    if (!username || !oauthPassword) {\n      bot.log.error('username and oauthPassword are required to connect to Twitch.');\n      return;\n    }\n\n    if (!channels.length) {\n      bot.log.critical('No channels passed to Twitch adapter to connect to.');\n    }\n\n    this.client = new TMI.client({\n      channels,\n      identity: {\n        username,\n        password: oauthPassword,\n      },\n      options: {\n        debug: true,\n      },\n      secure: true,\n      reconnect: true,\n      logger: {\n        info: bot.log.info.bind(bot.log),\n        warn: bot.log.warning.bind(bot.log),\n        error: bot.log.error.bind(bot.log),\n      },\n      connection: {\n        cluster: 'aws',\n      },\n    });\n\n    this.client.connect();\n\n    Object.keys(EVENTS).forEach(twitchEvent => {\n      const mappedFn = this[EVENTS[twitchEvent]];\n      this.client.on(twitchEvent, (...args) => mappedFn(...args));\n      this.client.on(twitchEvent, (...args) => {\n        this.bot.emitter.emit(`twitch-${twitchEvent}`, ...args);\n      });\n    });\n  }\n\n  send (message) {\n    this.bot.log.debug(`Sending ${message.text} to ${message.channel}`);\n\n    if (message.whisper) {\n      return this.client.whisper(message.user.name, message.text);\n    }\n\n    this.client.say(message.channel, message.text);\n  }\n\n  twitchConnecting = () => {\n    this.status = Adapter.STATUS.CONNECTING;\n  }\n\n  twitchConnected = () => {\n    this.status = Adapter.STATUS.CONNECTED;\n    this.bot.emitter.emit('connected', this.id);\n    this.bot.log.notice('Connected to Twitch.');\n  }\n\n  twitchLogon = () => {\n    this.status = Adapter.STATUS.CONNECTED;\n    this.bot.log.notice('Successfully logged on to Twitch.');\n  }\n\n  twitchDisconnected = () => {\n    this.status = Adapter.STATUS.DISCONNECTED;\n    this.bot.log.warning('Disconnected from Twitch.');\n  }\n\n  twitchReconnect = () => {\n    this.status = Adapter.STATUS.RECONNECTING;\n    this.bot.log.notice('Reconnecting to Twitch.');\n  }\n\n  twitchChat = (channel, twitchUser, text) => {\n    if (twitchUser.username === this.username) { return; }\n    const user = new User(twitchUser.username);\n    this.receive({ user, text, channel });\n  }\n\n  twitchEmoteonly = () => {\n  }\n\n  twitchJoin = (channel, username) => {\n    if (username !== this.username) { return; }\n    const user = new User(username);\n    return this.enter({ user, channel });\n  }\n\n  twitchPart = (channel, username) => {\n    if (username !== this.username) { return; }\n    const user = new User(username);\n    return this.leave({ user, channel });\n  }\n\n  twitchPing = () => {\n    this.ping();\n  }\n\n  twitchWhisper = (twitchUser, text) => {\n    if (twitchUser.username === this.username) { return; }\n    const user = new User(twitchUser.username);\n    this.receiveWhisper({ user, text, channel: twitchUser.username });\n  }\n\n  twitchPong = () => { }\n\n  twitchRoomstate = () => { }\n\n  twitchSlowmode = () => { }\n\n  twitchSubscribers = () => { }\n\n  twitchSubscription = () => { }\n\n  twitchTimeout = () => { }\n\n  twitchMods = () => { }\n\n  twitchNotice = () => { }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/adapters/adapters/twitch.js","import Cryptr from 'cryptr';\nimport Low from 'lowdb';\nimport fs from 'fs-extra';\nimport underscoredb from 'underscore-db';\n\nexport const deserialize = cryptr => {\n  return str => {\n    if (!str) { return {}; }\n    const decrypted = cryptr.decrypt(str);\n    const obj = JSON.parse(decrypted);\n    return obj;\n  };\n};\n\nexport const serialize = cryptr => {\n  return obj => {\n    const str = JSON.stringify(obj);\n    const encrypted = cryptr.encrypt(str);\n    return encrypted;\n  };\n};\n\nexport const read = (readFile) => {\n  return (path, deserialize) => {\n    return new Promise((resolve, reject) => {\n      readFile(path).then(data => {\n        try {\n          resolve(deserialize(data));\n        } catch (e) {\n          reject(e);\n        }\n      });\n    });\n  };\n};\n\nexport const write = writeFile => {\n  return (path, obj, serialize) => {\n    return new Promise((resolve, reject) => {\n      try {\n        const data = serialize(obj);\n        writeFile(path, data).then(resolve, reject);\n      } catch (e) {\n        reject(e);\n      }\n    });\n  };\n};\n\nexport const readLocal = (path) => {\n  return new Promise((resolve, reject) => {\n    fs.ensureFile(path, (err) => {\n      if (err) { return reject(err); }\n      fs.readFile(path, 'utf8', (err, data) => {\n        if (err) { return reject(err); }\n        return resolve(data);\n      });\n    });\n  });\n};\n\nexport const writeLocal = (path, data) => {\n  return new Promise((resolve, reject) => {\n    fs.ensureFile(path, (err) => {\n      if (err) { return reject(err); }\n      fs.writeFile(path, data, 'utf8', (err) => {\n        if (err) { return reject(err); }\n        return resolve(data);\n      });\n    });\n  });\n};\n\nexport async function DB ({ path, key, readFile=readLocal, writeFile=writeLocal }) {\n  const cryptr = new Cryptr(key || name);\n  const dbPath = path || `./data/${name}.json`;\n\n  const db = await new Low(dbPath, {\n    storage: {\n      read: read(readFile),\n      write: write(writeFile),\n    },\n    format: {\n      deserialize: deserialize(cryptr),\n      serialize: serialize(cryptr),\n    },\n  });\n\n  db._.mixin(underscoredb);\n  return db;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/db/db.js","import AWS from 'aws-sdk';\n\nexport function readS3 (region, accessKeyId, secretAccessKey, bucket, createBucket=false) {\n  return async function (path) {\n    try {\n      if (createBucket) {\n        await createS3Bucket(region, accessKeyId, secretAccessKey, bucket);\n      }\n\n      const s3bucket = new AWS.S3({\n        region,\n        accessKeyId,\n        secretAccessKey,\n        params: {\n          Bucket: bucket,\n        },\n      });\n\n      return new Promise((resolve, reject) => {\n        s3bucket.getObject({\n          Bucket: bucket,\n          Key: path,\n        }, (err, data) => {\n          if (err && err.statusCode === 404) { return resolve (''); }\n          if (err) { return reject(err); }\n          return resolve(data.Body.toString());\n        });\n      });\n    } catch (e) { console.log(e); }\n  };\n}\n\nexport function writeS3 (region, accessKeyId, secretAccessKey, bucket, createBucket=false) {\n  return async function (path, data) {\n    try {\n      if (createBucket) {\n        await createS3Bucket(region, accessKeyId, secretAccessKey, bucket);\n      }\n\n      const s3bucket = new AWS.S3({\n        region,\n        accessKeyId,\n        secretAccessKey,\n        params: {\n          Bucket: bucket,\n          Key: path,\n        },\n      });\n\n      return new Promise((resolve, reject) => {\n        s3bucket.upload({ Body: data }, (err, data) => {\n          if (err) { return reject(err); }\n          resolve(data);\n        });\n      });\n    } catch(e) { console.log(e); }\n  };\n}\n\nexport async function createS3Bucket (region, accessKeyId, secretAccessKey, bucket) {\n  try {\n    const newBucket = new AWS.S3({\n      region,\n      accessKeyId,\n      secretAccessKey,\n      params: {\n        Bucket: bucket,\n      },\n    });\n\n    return new Promise(resolve => newBucket.createBucket(resolve));\n  } catch(e) { console.log(e); }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/db/s3.js","import 'babel-polyfill';\n\nimport Emitter from 'eventemitter3';\nimport Log from 'log';\nimport superagent from 'superagent';\nimport sapp from 'superagent-promise-plugin';\nsapp.Promise = Promise;\n\nconst http = sapp.patch(superagent);\n\nimport { DB } from './db';\n\nexport class Exobot {\n  plugins = [];\n  adapters = {};\n\n  constructor (name, options={}) {\n    this.name = name;\n    this.alias = options.alias;\n    this.emitter = new Emitter();\n    this.http = http;\n\n    this.initLog(options.logLevel || Log.WARNING);\n    this.initAdapters(options.adapters);\n    this.initPlugins(options.plugins);\n\n    const dbPath = options.dbPath || `./data/${name}.json`;\n    this.initDB(options.key, dbPath, options.readFile, options.writeFile);\n  }\n\n  initAdapters = (adapters=[]) => {\n    adapters.forEach(a => this.addAdapter(a));\n  }\n\n  initPlugins = (plugins=[]) => {\n    plugins.forEach(p => this.addPlugin(p));\n  }\n\n  initLog = (logLevel) => {\n    const log = new Log(logLevel || Log.WARNING);\n    this.log = log;\n    this.logLevel = logLevel;\n\n    if (logLevel === Log.DEBUG) {\n      setInterval(this.logProcess, 10000);\n    }\n  }\n\n  initDB = (key, dbPath, readFile, writeFile) => {\n    if (!key) {\n      this.log.critical('Pass options.key in to bot initializer. Database not initializing.');\n      return;\n    }\n\n    DB({\n      key,\n      readFile,\n      writeFile,\n      path: dbPath,\n      emitter: this.emitter,\n    }).then((db) => {\n      this.db = db;\n      this.emitter.emit('dbLoaded', db);\n    }, this.log.critical);\n  }\n\n  logProcess = () => {\n    this.log.debug(process.memoryUsage(), process.cpuUsage());\n  }\n\n  addPlugin (plugin) {\n    plugin.register(this);\n    this.plugins.push(plugin);\n  }\n\n  addAdapter (adapter) {\n    adapter.register(this);\n    this.adapters[adapter.id] = adapter;\n  }\n\n  prependNameForWhisper (text) {\n    if (\n      text.slice(0, this.name.length).toLowerCase() !== this.name.toLowerCase() &&\n      text.slice(0, this.alias.length).toLowerCase() !== this.alias.toLowerCase()\n    ) {\n      text = `${this.name} ${text}`;\n    }\n\n    return text;\n  }\n\n  send (message) {\n    const adapter = this.adapters[message.adapter];\n\n    if (!adapter) {\n      this.bot.log.warning(`Message sent with invalid adapter: ${message.adapter}`);\n      return;\n    }\n\n    adapter.send(message);\n  }\n}\n\nexport * from './adapters';\nexport * from './messages';\nexport * from './plugins';\nexport * from './db';\nexport { default as User } from './user';\n\n\n\n// WEBPACK FOOTER //\n// ./src/exobot.js","import Plugin from './plugin';\n\nexport default class EventPlugin extends Plugin {\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/event.js","import Plugin from './plugin';\n\nexport default class HTTPPlugin extends Plugin {\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/http.js","import ChatPlugin from '../chat';\n\nexport default class DBPlugin extends ChatPlugin {\n  help = 'dbdump: dump the database. Say \"<botname> dbdump\".';\n\n  constructor () {\n    super(...arguments);\n    this.respond(/^db dump/i, this.dump);\n    this.respond(/^db clear/i, this.clear);\n  }\n\n  async dump () {\n    await this.databaseInitialized();\n    return this.bot.db.getState();\n  }\n\n  async clear () {\n    await this.databaseInitialized();\n\n    this.bot.log.critical('Database clearing. You may need to restart your bot.');\n    this.bot.db.setState();\n\n    // reinitialize plugins so that those with default databases can re-set-up\n    this.bot.initializePlugins();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/plugins/db.js","import ChatPlugin from '../chat';\n\nexport const ENDPOINT = 'http://api.giphy.com/v1/gifs/search';\n\nexport default class GiphyPlugin extends ChatPlugin {\n  help = 'Help: Explains commands. Say \"<botname> help\" for information.';\n\n  constructor (options={}) {\n    const { apiKey } = options;\n    super(...arguments);\n    this.respond(/^(?:gif|giphy)(?:\\sme)?\\s+(.*)/i, this.giphy);\n\n    this.apiKey = apiKey;\n  }\n\n  register (bot) {\n    super.register(...arguments);\n\n    if (!this.apiKey) {\n      bot.log.critical('No apiKey passed to Giphy plugin; plugin will not work.');\n    }\n  }\n\n  async giphy ([, search]) {\n    try {\n      const { body } = await this.bot.http.get(ENDPOINT)\n                     .query({ q: search, api_key: this.apiKey });\n\n      const { data } = body;\n\n      if (data.length) {\n        return data[parseInt(Math.random() * data.length)].images.original.url;\n      }\n    } catch (e) {\n      this.bot.log.notice('Error returned from Giphy request.');\n      this.bot.log.debug(e);\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/plugins/giphy.js","import ChatPlugin from '../chat';\n\nconst GREETINGS = [\n  'hi',\n  'hello',\n  'sup',\n  'greetings',\n  'yo',\n  'hey',\n];\n\nconst FAREWELLS = [\n  'goodbye',\n  'farwell',\n  'bye',\n  'later',\n  'see ya',\n  'cya',\n];\n\nconst regex = (botname, list) => new RegExp(`^(${list.join('|')})[,\\\\s]*${botname}`, 'i');\n\nexport default class GreetingPlugin extends ChatPlugin {\n  help = 'Greetings: says \"hi\" back. Say \"hi <botname>\" for a response.';\n\n  register (bot) {\n    super.register(...arguments);\n\n    this.listen(regex(bot.name, GREETINGS), this.greeting);\n    this.listen((m) => GREETINGS.includes(m.text.toLowerCase()), this.greeting);\n    this.respond((m) => GREETINGS.includes(m.text.toLowerCase()), this.greeting);\n\n    this.listen(regex(bot.name, FAREWELLS), this.farewell);\n    this.listen((m) => FAREWELLS.includes(m.text.toLowerCase()), this.farewell);\n    this.respond((m) => FAREWELLS.includes(m.text.toLowerCase()), this.farewell);\n  }\n\n  greeting (_, message) {\n    const randomGreeting = GREETINGS[parseInt(Math.random() * GREETINGS.length)];\n    return `${randomGreeting}, ${message.user.name}!`;\n  }\n\n  farewell (_, message) {\n    const randomFarewell = FAREWELLS[parseInt(Math.random() * FAREWELLS.length)];\n    return `${randomFarewell}, ${message.user.name}!`;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/plugins/greetings.js","import ChatPlugin from '../chat';\n\nexport default class HelpPlugin extends ChatPlugin {\n  help = 'Help: Explains commands. Say \"<botname> help\" for information.';\n\n  constructor () {\n    super(...arguments);\n    this.respond(/^help$/i, this.pluginHelp);\n  }\n\n  pluginHelp = () => {\n    return this.bot.plugins\n                    .filter(p => p.help)\n                    .map(p => p.help, []).join('\\n');\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/plugins/help.js","import ChatPlugin from '../chat';\n\nexport const nameToId = (name) => {\n  return name.replace(/[^\\w]/g, '');\n}\n\nexport default class HelpPlugin extends ChatPlugin {\n  help = [\n    'Points: add points to things. `thing++` or `thing--` adds or removes',\n    'points. Users are rate-limited from voting on the same thing multiple',\n    'times. Optionally add reasons: `thing++ for my reasons`.',\n  ].join(' ');\n\n  constructor () {\n    super(...arguments);\n\n    this.listen(/^([\\s\\w'@.\\-:]*)\\s*\\+\\+(?:\\s+for (.*))?$/i, (match) => this.changePoints(match, 1));\n    this.listen(/^([\\s\\w'@.\\-:]*)\\s*\\-\\-(?:\\s+for (.*))?$/i, (match) => this.changePoints(match, -1));\n    this.respond(/^tops?\\s*(\\d*)?$/i, this.tops);\n    this.respond(/^score(?: for)?(.*)$/i, this.score);\n  }\n\n  register (bot) {\n    super.register(bot);\n    this.database('points', { things: {}, tops: [] });\n  }\n\n  async changePoints ([match, name, reason], val) {\n    name = name.trim();\n    const id = nameToId(name);\n\n    await this.databaseInitialized();\n\n    let points = this.bot.db.get(`points.things.${id}`).value();\n\n    if (!points) { points = this.buildPoints(name, id); }\n\n    points.points = points.points + val;\n\n    if (reason) {\n      const reasonId = nameToId(reason);\n      const existingReason = points.reasons[reasonId] || { score: 0, reason: reason };\n      existingReason.score++;\n\n      points.reasons[reasonId] = existingReason;\n    }\n\n    this.bot.db.set(`points.things.${id}`, points).value();\n    this.bot.db.write();\n\n    this.updateTops();\n\n    return `${name} has ${points.points} points.`;\n  }\n\n  async tops ([match, n=10]) {\n    await this.databaseInitialized();\n\n    if (n > 25) { n = 25; }\n\n    const scores = this.bot.db.get('points.things').value();\n    const tops = this.bot.db.get('points.tops').slice(0,n).value();\n\n    let text = [`Top ${Math.min(n, tops.length)}:`];\n\n    tops.forEach(t => text.push(`${scores[t].name}: ${scores[t].points}`))\n\n    return text.join('\\n');\n  }\n\n  async score ([match, name]) {\n    name = name.trim();\n    const id = nameToId(name);\n\n    await this.databaseInitialized();\n\n    const points = this.bot.db.get(`points.things.${id}`).value();\n    const { reasons } = points;\n\n    const text = [`${name} has ${points.points} points.`];\n    const reasonKeys = Object.keys(points.reasons);\n\n    if (reasonKeys.length > 0) {\n      text.push('Here are some reasons:');\n\n      reasonKeys.forEach(r => {\n        text.push(`${reasons[r].reason}: ${reasons[r].score} points`);\n      });\n    }\n\n    return text.join('\\n');\n  }\n\n  async updateTops() {\n    await this.databaseInitialized();\n\n    const tops = this.bot.db.get(`points.things`)\n                             .orderBy('points', 'desc')\n                             .map('id')\n                             .value();\n\n    this.bot.db.set('points.tops', tops).value();\n    this.bot.db.write();\n  }\n\n  buildPoints (name, id) {\n    return {\n      name,\n      id,\n      points: 0,\n      reasons: {},\n    };\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/plugins/points.js","module.exports = require(\"@slack/client\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@slack/client\"\n// module id = 33\n// module chunks = 0","module.exports = require(\"aws-sdk\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"aws-sdk\"\n// module id = 34\n// module chunks = 0","module.exports = require(\"cryptr\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cryptr\"\n// module id = 35\n// module chunks = 0","module.exports = require(\"discord.io\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"discord.io\"\n// module id = 36\n// module chunks = 0","module.exports = require(\"events\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"events\"\n// module id = 37\n// module chunks = 0","module.exports = require(\"fs-extra\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs-extra\"\n// module id = 38\n// module chunks = 0","module.exports = require(\"lowdb\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lowdb\"\n// module id = 39\n// module chunks = 0","module.exports = require(\"readline\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"readline\"\n// module id = 40\n// module chunks = 0","module.exports = require(\"tmi.js\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"tmi.js\"\n// module id = 41\n// module chunks = 0","module.exports = require(\"underscore-db\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"underscore-db\"\n// module id = 42\n// module chunks = 0","module.exports = require(\"util\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"util\"\n// module id = 43\n// module chunks = 0","module.exports = require(\"lodash\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash\"\n// module id = 44\n// module chunks = 0","module.exports = require(\"inherits\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"inherits\"\n// module id = 45\n// module chunks = 0","/**\n *\n */\n\nvar forEach = require('lodash').forEach;\nvar has = require('lodash').has;\nvar isArray = require('lodash').isArray;\nvar isEmpty = require('lodash').isEmpty;\nvar isObject = require('lodash').isObject;\nvar map = require('lodash').map;\nvar mapValues = require('lodash').mapValues;\n\nvar PROPERTY_TYPES = require('./property-type');\nvar helpers = require('./helpers');\n\n\nfunction Model(name, opts) {\n  /**\n   *\n   * @type {Object}\n   * @protected\n   */\n  this._properties = {};\n\n  /**\n   * The name of the model.\n   * @type {string}\n   * @private\n   */\n  this._modelName = name;\n\n  this._setProperties(isEmpty(opts) ? {} : opts);\n}\n\n\n/**\n * Updates the model.\n * @param {Object} opts\n * @return {Object} The model object that was just updated.\n */\nModel.prototype.update = function update(opts) {\n  this._setProperties(opts);\n  return this;\n};\n\n\n/**\n * Assigns all properties from the supplied opts object to the model.\n *\n * Subclasses of the model class have the opportunity to intelligently set defaults or assign values\n * via individual assignment calls by extending this method on the subclass.\n *\n * @param {Object} opts\n * @private\n */\nModel.prototype._setProperties = function setProperties(opts) {\n  forEach(opts, this._setModelProperty, this);\n};\n\n\n/**\n * Assigns an individual property from a Slack API response to a model object.\n *\n * Property assignment works by:\n *   1. If the property does not exist, set the property.\n *   2. If the property exists on the model, and is a scalar, overwrite the property with the\n *      property from the opts object\n *   3. If the property exists on the model and is a complex property:\n *      * if it's an object, extend the model property with values from the opts property\n *      * if it's an array, overwrite the array. This is because it's currently unclear if there are\n *        any array properties that will only be partially filled by some RTM / API responses, but\n *        completely filled by others.\n *\n * @param {String} key\n * @param {*} val\n *cchnnihbtckbllbflvffbvrgelvkufcruclebldbdtbb\n * @private\n */\nModel.prototype._setModelProperty = function _setModelProperty(val, key) {\n  if (isObject(val)) {\n    this._setObjectProperty(key, val);\n  } else if (isArray(val)) {\n    this._setArrayProperty(key, val);\n  } else {\n    this._properties[key] = PROPERTY_TYPES.SIMPLE;\n    this[key] = val;\n  }\n};\n\n\n/**\n * Sets an object property from the API on a model object.\n *\n * NOTE: this assumes that none of the values of the object from the API represent additional model\n *       objects, i.e. that {relevantChannel: {channelObject}} will never occur in the API response.\n *\n * @param key\n * @param val\n *\n * @private\n */\nModel.prototype._setObjectProperty = function _setObjectProperty(key, val) {\n  var hasProperty = has(this, key);\n  var ModelClass;\n\n  if (helpers.isModelObj(val)) {\n    if (hasProperty) {\n      this[key].update(val);\n    } else {\n      ModelClass = helpers.getModelClass();\n      this[key] = new ModelClass(val);\n    }\n    this._properties[key] = PROPERTY_TYPES.MODEL;\n  } else {\n    this._properties[key] = PROPERTY_TYPES.SIMPLE;\n    this[key] = val;\n  }\n};\n\n\n/**\n *\n * @param key\n * @param val\n *\n * @private\n */\nModel.prototype._setArrayProperty = function _setArrayProperty(key, val) {\n  var ModelClass;\n  var firstItem;\n\n  // NOTE: This assumes that it's not necessary to search and update model values in arrays and\n  //       that instead they can be over-written\n  if (!isEmpty(val)) {\n    // Assumes that all values in the array are of the same type\n    firstItem = val[0];\n    if (helpers.isModelObj(firstItem)) {\n      ModelClass = helpers.getModelClass();\n      this[key] = map(val, function makeChildModelObjs(item) {\n        return new ModelClass(item);\n      });\n      this._properties[key] = PROPERTY_TYPES.MODEL_ARRAY;\n    } else {\n      this._properties[key] = PROPERTY_TYPES.SIMPLE;\n      this[key] = val;\n    }\n  } else {\n    this._properties[key] = PROPERTY_TYPES.SIMPLE;\n    this[key] = val;\n  }\n};\n\n\nModel.prototype.toJSON = function toJSON() {\n  var objRepresentation = mapValues(this._properties, function mapModelPropertiesToJSON(val, key) {\n    var res;\n\n    if (val === PROPERTY_TYPES.MODEL) {\n      res = this[key].toJSON();\n    } else if (val === PROPERTY_TYPES.MODEL_ARRAY) {\n      res = map(this[key], function mapModelArrayPropertyToJSON(arrVal) {\n        return arrVal.toJSON();\n      });\n    } else {\n      res = this[key];\n    }\n\n    return res;\n  }, this);\n\n  return objRepresentation;\n};\n\n\nmodule.exports = Model;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/@slack/client/lib/models/model.js\n// module id = 46\n// module chunks = 0","/**\n *\n */\n\nvar inherits = require('inherits');\n\nvar BaseChannel = require('./base-channel');\n\n\nvar ChannelGroup = function ChannelGroup(name, opts) {\n  BaseChannel.call(this, name, opts);\n};\n\ninherits(ChannelGroup, BaseChannel);\n\n\nmodule.exports = ChannelGroup;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/@slack/client/lib/models/channel-group.js\n// module id = 47\n// module chunks = 0","/**\n *\n */\n\nvar bind = require('lodash').bind;\nvar forEachRight = require('lodash').forEachRight;\nvar find = require('lodash').find;\nvar findLastIndex = require('lodash').findLastIndex;\nvar inherits = require('inherits');\nvar keys = require('lodash').keys;\n\nvar Model = require('./model');\n\n\nfunction BaseChannel(objectName, opts) {\n  /**\n   *\n   * @type {Array}\n   */\n  this.history = [];\n\n  /**\n   * Object, keyed on user id, values of timeouts that will be run to clear the user typing state.\n   * @type {{}}\n   * @private\n   */\n  this._typing = {};\n\n  /**\n   *\n   */\n  this.unreadCount = 0;\n\n\n  /**\n   * @type {string}\n   */\n  this.lastRead = '0000000000.000000';\n\n  /**\n   * @type {string}\n   * @private\n   */\n  this._maxTs = '0000000000.000000';\n\n  Model.call(this, objectName, opts);\n}\n\ninherits(BaseChannel, Model);\n\n\n/**\n * The timeout after which the user typing entry should be removed.\n * @type {number}\n */\nBaseChannel.prototype.USER_TYPING_TIMEOUT = 5000;\n\n\nBaseChannel.prototype._setProperties = function setProperties(opts) {\n  BaseChannel.super_.prototype._setProperties.call(this, opts);\n\n  if (this.latest) {\n    this.addMessage(this.latest);\n  }\n};\n\n\n/**\n *\n * @param {string} userId\n */\nBaseChannel.prototype.startedTyping = function startedTyping(userId) {\n  if (this._typing[userId]) {\n    clearTimeout(this._typing[userId]);\n  }\n\n  this._typing[userId] = setTimeout(bind(function removeSetTypingTimeout() {\n    delete this._typing[userId];\n  }, this), this.USER_TYPING_TIMEOUT);\n};\n\n\n/**\n *\n * @returns {number}\n */\nBaseChannel.prototype.recalcUnreads = function recalcUnreads() {\n  var continueIterating = true;\n  this.unreadCount = 0;\n\n  forEachRight(this.history, function checkMessageIsUnread(message) {\n    if (message.ts > this.lastRead) {\n      this.unreadCount++;\n    } else {\n      continueIterating = false;\n    }\n\n    return continueIterating;\n  }, this);\n\n  return this.unreadCount;\n};\n\n\n/**\n * Returns the string form of the channel type.\n * @return {string}\n */\nBaseChannel.prototype.getType = function getType() {\n  return this._modelName.toLowerCase();\n};\n\n\n/**\n * Returns an array of user ids for all users who are currently typing.\n * @return {Array.<string>}\n */\nBaseChannel.prototype.getTypingUsers = function getTypingUsers() {\n  return keys(this._typing);\n};\n\n\n/**\n *\n * @param ts\n */\nBaseChannel.prototype.getMessageByTs = function getMessageByTs(ts) {\n  // This has the potential to get really slow, but ok for now I guess...\n  return find(this.history, { ts: ts });\n};\n\n\n/**\n *\n * @param {Object} message\n */\nBaseChannel.prototype.addMessage = function addMessage(message) {\n  // TODO(leah): Do a reverse walk of this and compare the timestamps as an extra guarantee?\n  this.history.push(message);\n\n  if (message.ts > this._maxTs && !message.hidden) {\n    this._maxTs = message.ts;\n    this.unreadCount++;\n  }\n};\n\n\nBaseChannel.prototype.updateMessage = function updateMessage(messageUpdatedMsg) {\n  var message = messageUpdatedMsg.message;\n  var msgIndex = findLastIndex(this.history, 'ts', message.ts);\n  if (msgIndex !== -1) {\n    this.history[msgIndex] = message;\n  }\n};\n\n\nmodule.exports = BaseChannel;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/@slack/client/lib/models/base-channel.js\n// module id = 48\n// module chunks = 0","/**\n * {@link https://api.slack.com/types/channel|Channel}\n */\n\nvar inherits = require('inherits');\n\nvar ChannelGroup = require('./channel-group');\n\n\nvar Channel = function Channel(opts) {\n  ChannelGroup.call(this, 'Channel', opts);\n};\n\ninherits(Channel, ChannelGroup);\n\n\nmodule.exports = Channel;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/@slack/client/lib/models/channel.js\n// module id = 49\n// module chunks = 0","/**\n * {@link https://api.slack.com/types/im|DM}\n */\n\nvar inherits = require('inherits');\n\nvar BaseChannel = require('./base-channel');\n\n\nfunction DM(opts) {\n  BaseChannel.call(this, 'DM', opts);\n}\n\ninherits(DM, BaseChannel);\n\n\nmodule.exports = DM;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/@slack/client/lib/models/dm.js\n// module id = 50\n// module chunks = 0","/**\n *\n */\n\nvar inherits = require('inherits');\n\nvar Model = require('./model');\n\n\nfunction File(opts) {\n  Model.call(this, 'File', opts);\n}\n\ninherits(File, Model);\n\n\nmodule.exports = File;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/@slack/client/lib/models/file.js\n// module id = 51\n// module chunks = 0","/**\n * {@link https://api.slack.com/types/group|Group}\n */\n\nvar inherits = require('inherits');\n\nvar ChannelGroup = require('./channel-group');\n\n\nfunction Group(opts) {\n  ChannelGroup.call(this, 'Group', opts);\n}\n\ninherits(Group, ChannelGroup);\n\n\nmodule.exports = Group;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/@slack/client/lib/models/group.js\n// module id = 52\n// module chunks = 0","/**\n *\n */\n\nvar inherits = require('inherits');\n\nvar ChannelGroup = require('./channel-group');\n\n\nfunction MPDM(opts) {\n  ChannelGroup.call(this, 'MPDM', opts);\n}\n\ninherits(MPDM, ChannelGroup);\n\n\nmodule.exports = MPDM;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/@slack/client/lib/models/mpdm.js\n// module id = 53\n// module chunks = 0","/**\n *\n */\n\nvar inherits = require('inherits');\n\nvar Model = require('./model');\n\n\nfunction UserGroup(opts) {\n  Model.call(this, 'UserGroup', opts);\n}\n\ninherits(UserGroup, Model);\n\n\nmodule.exports = UserGroup;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/@slack/client/lib/models/user-group.js\n// module id = 54\n// module chunks = 0","/**\n *\n */\n\nvar inherits = require('inherits');\n\nvar Model = require('./model');\n\n\nfunction User(opts) {\n  Model.call(this, 'User', opts);\n}\n\ninherits(User, Model);\n\n\nmodule.exports = User;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/@slack/client/lib/models/user.js\n// module id = 55\n// module chunks = 0","var hasKey = require('lodash').has;\n\n// Channel, file, group, DM, user, usergroup\nvar RECOGNIZED_API_TYPE_PREFIXES = ['C', 'F', 'G', 'D', 'U', 'S'];\n\n\n/**\n * Tests whether a supplied JSON object represents a Slack API type.\n * @param {Object} obj\n * @returns {boolean}\n */\nvar isModelObj = function isModelObj(obj) {\n  if (hasKey(obj, 'id')) {\n    return RECOGNIZED_API_TYPE_PREFIXES.indexOf(obj.id.substr(0, 1)) !== -1;\n  }\n\n  return false;\n};\n\n\n/**\n * Returns the model class for the JSON object from the Slack API.\n */\nvar getModelClass = function getModelClass(obj) {\n  var modelClass;\n  var apiTypePrefix = obj.id.substr(0, 1);\n\n  if (apiTypePrefix === 'C') {\n    modelClass = require('./channel');\n  } else if (apiTypePrefix === 'F') {\n    modelClass = require('./file');\n  } else if (apiTypePrefix === 'D') {\n    modelClass = require('./dm');\n  } else if (apiTypePrefix === 'U') {\n    modelClass = require('./user');\n  } else if (apiTypePrefix === 'S') {\n    modelClass = require('./user-group');\n  } else {\n    // The MPDM and Group classes share the same prefix, so do an extra check here\n    if (apiTypePrefix === 'G') {\n      if (obj.is_mpim) {\n        modelClass = require('./mpdm');\n      }\n\n      if (obj.is_group) {\n        modelClass = require('./group');\n      }\n    }\n  }\n\n  return modelClass;\n};\n\n\nmodule.exports.isModelObj = isModelObj;\nmodule.exports.getModelClass = getModelClass;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/@slack/client/lib/models/helpers.js\n// module id = 56\n// module chunks = 0","module.exports = {\n  Channel: require('./channel'),\n  DM: require('./dm'),\n  File: require('./file'),\n  Group: require('./group'),\n  MPDM: require('./mpdm'),\n  User: require('./user'),\n  UserGroup: require('./user-group')\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/@slack/client/lib/models/index.js\n// module id = 57\n// module chunks = 0","var PROPERTY_TYPES = {\n  SIMPLE: 0,\n  MODEL: 1,\n  MODEL_ARRAY: 2\n};\n\nmodule.exports = PROPERTY_TYPES;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/@slack/client/lib/models/property-type.js\n// module id = 58\n// module chunks = 0"],"sourceRoot":""}