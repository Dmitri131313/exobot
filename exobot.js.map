{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///exobot.js","webpack:///webpack/bootstrap 4560e4cff81c0164792b","webpack:///./src/plugins/chat.js","webpack:///./src/user.js","webpack:///./src/adapters/adapter.js","webpack:///./src/plugins/plugin.js","webpack:///./src/messages/message.js","webpack:///./src/messages/text.js","webpack:///./src/messages/presence.js","webpack:///external \"node-uuid\"","webpack:///./src/adapters/index.js","webpack:///./src/plugins/index.js","webpack:////Users/jack/projects/~/log/lib/log.js","webpack:///external \"babel-polyfill\"","webpack:///external \"eventemitter3\"","webpack:///external \"superagent\"","webpack:///external \"superagent-promise-plugin\"","webpack:///./src/adapters/adapters/discord.js","webpack:///./src/adapters/adapters/shell.js","webpack:///./src/adapters/adapters/slack.js","webpack:///./src/adapters/adapters/twitch.js","webpack:///./src/db/db.js","webpack:///./src/db/s3.js","webpack:///./src/exobot.js","webpack:///./src/plugins/event.js","webpack:///./src/plugins/http.js","webpack:///./src/plugins/plugins/db.js","webpack:///./src/plugins/plugins/giphy.js","webpack:///./src/plugins/plugins/greetings.js","webpack:///./src/plugins/plugins/help.js","webpack:///./src/plugins/plugins/points.js","webpack:///external \"@slack/client\"","webpack:///external \"aws-sdk\"","webpack:///external \"cryptr\"","webpack:///external \"discord.io\"","webpack:///external \"events\"","webpack:///external \"fs-extra\"","webpack:///external \"lowdb\"","webpack:///external \"readline\"","webpack:///external \"tmi.js\"","webpack:///external \"underscore-db\"","webpack:///external \"util\""],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_8__","__WEBPACK_EXTERNAL_MODULE_13__","__WEBPACK_EXTERNAL_MODULE_14__","__WEBPACK_EXTERNAL_MODULE_15__","__WEBPACK_EXTERNAL_MODULE_16__","__WEBPACK_EXTERNAL_MODULE_33__","__WEBPACK_EXTERNAL_MODULE_34__","__WEBPACK_EXTERNAL_MODULE_35__","__WEBPACK_EXTERNAL_MODULE_36__","__WEBPACK_EXTERNAL_MODULE_37__","__WEBPACK_EXTERNAL_MODULE_38__","__WEBPACK_EXTERNAL_MODULE_39__","__WEBPACK_EXTERNAL_MODULE_40__","__WEBPACK_EXTERNAL_MODULE_41__","__WEBPACK_EXTERNAL_MODULE_42__","__WEBPACK_EXTERNAL_MODULE_43__","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","Object","defineProperty","configurable","enumerable","get","o","object","property","prototype","hasOwnProperty","p","s","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","writable","setPrototypeOf","__proto__","__WEBPACK_IMPORTED_MODULE_0__plugin__","__WEBPACK_IMPORTED_MODULE_1__messages_text__","_extends","assign","target","arguments","length","source","key","_createClass","defineProperties","props","descriptor","protoProps","staticProps","DEFAULT_REGEXP","ChatPlugin","_Plugin","_this","getPrototypeOf","regexp","respondFunctions","listenFunctions","bot","_this2","botNameRegex","RegExp","alias","emitter","on","forEach","v","process","validation","response","message","_this3","isResponder","undefined","text","validateBotName","direct","exec","validate","res","_text","Promise","then","t","newMessage","emit","adapter","regex","fn","bind","push","User","id","__WEBPACK_IMPORTED_MODULE_0_node_uuid__","__WEBPACK_IMPORTED_MODULE_0_node_uuid___default","__esModule","__WEBPACK_IMPORTED_MODULE_2__messages_presence__","Adapter","options","status","STATUS","UNINITIALIZED","Error","CONNECTING","listen","send","_ref","user","channel","whisper","_ref2","prependNameForWhisper","receive","_ref3","type","TYPES","ENTER","_ref4","LEAVE","console","log","pong","CONNECTED","DISCONNECTED","RECONNECTING","ERROR","_asyncToGenerator","gen","apply","resolve","reject","step","arg","info","error","done","err","Plugin","help","_requiresDatabase","database","_x2","_x3","ref","regeneratorRuntime","mark","_callee","defaultValue","val","wrap","_context","prev","next","databaseInitialized","db","set","stop","_callee2","_context2","abrupt","__WEBPACK_IMPORTED_MODULE_0__db__","__WEBPACK_IMPORTED_MODULE_1__s3__","__WEBPACK_IMPORT_KEY__","Message","_ref$id","__WEBPACK_IMPORTED_MODULE_0__message__","TextMessage","_Message","_ref$whisper","PresenceMessage","__WEBPACK_IMPORTED_MODULE_0__adapter__","__WEBPACK_IMPORTED_MODULE_1__adapters__","adapters","__WEBPACK_IMPORTED_MODULE_1__presence__","__WEBPACK_IMPORTED_MODULE_2__text__","__WEBPACK_IMPORTED_MODULE_1__chat__","__WEBPACK_IMPORTED_MODULE_2__event__","__WEBPACK_IMPORTED_MODULE_3__http__","__WEBPACK_IMPORTED_MODULE_4__plugins__","plugins","fmt","format","EventEmitter","Log","level","stream","toUpperCase","DEBUG","stdout","readable","read","EMERGENCY","ALERT","CRITICAL","WARNING","NOTICE","INFO","buf","setEncoding","chunk","split","map","line","captures","match","obj","date","Date","levelString","msg","levelStr","args","write","emergency","alert","critical","warning","notice","debug","__WEBPACK_IMPORTED_MODULE_0_discord_io__","__WEBPACK_IMPORTED_MODULE_0_discord_io___default","__WEBPACK_IMPORTED_MODULE_1__adapter__","__WEBPACK_IMPORTED_MODULE_2__user__","_get","receiver","Function","desc","getOwnPropertyDescriptor","parent","EVENTS","ready","presence","disconnected","DiscordAdapter","_Adapter","token","botId","username","channels","discordReady","client","setPresence","game","discordDisconnected","a","Client","autorun","keys","discordEvent","mappedFn","_bot$emitter","_len","Array","_key","concat","sendMessage","to","userId","directMessages","gameName","rawEvent","channel_id","__WEBPACK_IMPORTED_MODULE_0__shell__","__WEBPACK_IMPORTED_MODULE_1__discord__","__WEBPACK_IMPORTED_MODULE_2__twitch__","__WEBPACK_IMPORTED_MODULE_3__slack__","__WEBPACK_IMPORTED_MODULE_0_readline__","__WEBPACK_IMPORTED_MODULE_0_readline___default","SHELL","SHELL_USER","EXIT_COMMANDS","ShellAdapter","rl","createInterface","input","stdin","output","question","answer","includes","exit","prompt","_defineProperty","__WEBPACK_IMPORTED_MODULE_0__slack_client__","__WEBPACK_IMPORTED_MODULE_0__slack_client___default","_EVENTS","RTM","RTM_CONNECTION_OPENED","AUTHENTICATED","DISCONNECT","UNABLE_TO_RTM_START","ATTEMPTING_RECONNECT","MESSAGE","Slack","slackConnecting","slackConnected","slackAuthenticated","slackDisconnected","slackUnableToStart","slackReconnecting","slackMessage","activeUserId","slackUser","dataStore","getUserById","logLevel","slackEvent","start","__WEBPACK_IMPORTED_MODULE_0_tmi_js__","__WEBPACK_IMPORTED_MODULE_0_tmi_js___default","connecting","connected","logon","reconnect","chat","emoteonly","join","part","mods","ping","roomstate","slowmode","subscribers","subscription","timeout","TwitchAdapter","oauthPassword","_ref$channels","_initialiseProps","identity","password","secure","logger","warn","connection","cluster","connect","twitchEvent","say","twitchConnecting","twitchConnected","twitchLogon","twitchDisconnected","twitchReconnect","twitchChat","twitchUser","twitchEmoteonly","twitchJoin","enter","twitchPart","leave","twitchPing","twitchWhisper","receiveWhisper","twitchPong","twitchRoomstate","twitchSlowmode","twitchSubscribers","twitchSubscription","twitchTimeout","twitchMods","twitchNotice","__WEBPACK_IMPORTED_MODULE_0_cryptr__","__WEBPACK_IMPORTED_MODULE_0_cryptr___default","__WEBPACK_IMPORTED_MODULE_1_lowdb__","__WEBPACK_IMPORTED_MODULE_1_lowdb___default","__WEBPACK_IMPORTED_MODULE_2_fs_extra__","__WEBPACK_IMPORTED_MODULE_2_fs_extra___default","__WEBPACK_IMPORTED_MODULE_3_underscore_db__","__WEBPACK_IMPORTED_MODULE_3_underscore_db___default","deserialize","serialize","readLocal","writeLocal","DB","cryptr","str","decrypted","decrypt","JSON","parse","stringify","encrypted","encrypt","readFile","path","data","e","writeFile","ensureFile","dbPath","_ref$readFile","_ref$writeFile","storage","sent","_","mixin","_x","readS3","region","accessKeyId","secretAccessKey","bucket","createBucket","_ret","delegateYield","s3bucket","createS3Bucket","__WEBPACK_IMPORTED_MODULE_0_aws_sdk___default","S3","params","Bucket","getObject","Key","statusCode","Body","toString","t0","_typeof","t1","writeS3","_callee4","_ret2","_context4","_callee3","_context3","upload","_x4","_x5","__WEBPACK_IMPORTED_MODULE_0_aws_sdk__","Symbol","iterator","_callee5","_ret3","_context5","newBucket","_x6","_x7","_x8","_x9","__WEBPACK_IMPORTED_MODULE_0_babel_polyfill__","__WEBPACK_IMPORTED_MODULE_0_babel_polyfill___default","__WEBPACK_IMPORTED_MODULE_1_eventemitter3__","__WEBPACK_IMPORTED_MODULE_1_eventemitter3___default","__WEBPACK_IMPORTED_MODULE_2_log__","__WEBPACK_IMPORTED_MODULE_2_log___default","__WEBPACK_IMPORTED_MODULE_3_superagent__","__WEBPACK_IMPORTED_MODULE_3_superagent___default","__WEBPACK_IMPORTED_MODULE_4_superagent_promise_plugin__","__WEBPACK_IMPORTED_MODULE_4_superagent_promise_plugin___default","__WEBPACK_IMPORTED_MODULE_5__db__","__WEBPACK_IMPORTED_MODULE_6__adapters__","__WEBPACK_IMPORTED_MODULE_7__messages__","__WEBPACK_IMPORTED_MODULE_8__plugins__","__WEBPACK_IMPORTED_MODULE_9__user__","Exobot","indexOf","http","patch","initLog","initAdapters","initPlugins","initDB","plugin","register","slice","toLowerCase","addAdapter","addPlugin","setInterval","logProcess","memoryUsage","cpuUsage","EventPlugin","HTTPPlugin","__WEBPACK_IMPORTED_MODULE_0__chat__","DBPlugin","_ChatPlugin","respond","dump","clear","getState","setState","initializePlugins","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","_s","_i","isArray","ENDPOINT","GiphyPlugin","apiKey","giphy","body","search","query","q","api_key","parseInt","Math","random","images","original","url","GREETINGS","FAREWELLS","botname","list","GreetingPlugin","_Object$getPrototypeO","_temp","greeting","farewell","randomGreeting","randomFarewell","HelpPlugin","pluginHelp","filter","__WEBPACK_IMPORTED_MODULE_0__greetings__","__WEBPACK_IMPORTED_MODULE_1__help__","__WEBPACK_IMPORTED_MODULE_2__points__","__WEBPACK_IMPORTED_MODULE_3__db__","__WEBPACK_IMPORTED_MODULE_4__giphy__","nameToId","replace","changePoints","tops","score","things","points","reasonId","existingReason","reason","trim","buildPoints","reasons","updateTops","scores","_ref4$","n","min","_ref5","reasonKeys","_ref6","r","orderBy"],"mappings":"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","file":"exobot.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"node-uuid\"), require(\"babel-polyfill\"), require(\"eventemitter3\"), require(\"superagent\"), require(\"superagent-promise-plugin\"), require(\"@slack/client\"), require(\"aws-sdk\"), require(\"cryptr\"), require(\"discord.io\"), require(\"events\"), require(\"fs-extra\"), require(\"lowdb\"), require(\"readline\"), require(\"tmi.js\"), require(\"underscore-db\"), require(\"util\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"node-uuid\", \"babel-polyfill\", \"eventemitter3\", \"superagent\", \"superagent-promise-plugin\", \"@slack/client\", \"aws-sdk\", \"cryptr\", \"discord.io\", \"events\", \"fs-extra\", \"lowdb\", \"readline\", \"tmi.js\", \"underscore-db\", \"util\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"exobot.js\"] = factory(require(\"node-uuid\"), require(\"babel-polyfill\"), require(\"eventemitter3\"), require(\"superagent\"), require(\"superagent-promise-plugin\"), require(\"@slack/client\"), require(\"aws-sdk\"), require(\"cryptr\"), require(\"discord.io\"), require(\"events\"), require(\"fs-extra\"), require(\"lowdb\"), require(\"readline\"), require(\"tmi.js\"), require(\"underscore-db\"), require(\"util\"));\n\telse\n\t\troot[\"exobot.js\"] = factory(root[\"node-uuid\"], root[\"babel-polyfill\"], root[\"eventemitter3\"], root[\"superagent\"], root[\"superagent-promise-plugin\"], root[\"@slack/client\"], root[\"aws-sdk\"], root[\"cryptr\"], root[\"discord.io\"], root[\"events\"], root[\"fs-extra\"], root[\"lowdb\"], root[\"readline\"], root[\"tmi.js\"], root[\"underscore-db\"], root[\"util\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_8__, __WEBPACK_EXTERNAL_MODULE_13__, __WEBPACK_EXTERNAL_MODULE_14__, __WEBPACK_EXTERNAL_MODULE_15__, __WEBPACK_EXTERNAL_MODULE_16__, __WEBPACK_EXTERNAL_MODULE_33__, __WEBPACK_EXTERNAL_MODULE_34__, __WEBPACK_EXTERNAL_MODULE_35__, __WEBPACK_EXTERNAL_MODULE_36__, __WEBPACK_EXTERNAL_MODULE_37__, __WEBPACK_EXTERNAL_MODULE_38__, __WEBPACK_EXTERNAL_MODULE_39__, __WEBPACK_EXTERNAL_MODULE_40__, __WEBPACK_EXTERNAL_MODULE_41__, __WEBPACK_EXTERNAL_MODULE_42__, __WEBPACK_EXTERNAL_MODULE_43__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"node-uuid\"), require(\"babel-polyfill\"), require(\"eventemitter3\"), require(\"superagent\"), require(\"superagent-promise-plugin\"), require(\"@slack/client\"), require(\"aws-sdk\"), require(\"cryptr\"), require(\"discord.io\"), require(\"events\"), require(\"fs-extra\"), require(\"lowdb\"), require(\"readline\"), require(\"tmi.js\"), require(\"underscore-db\"), require(\"util\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"node-uuid\", \"babel-polyfill\", \"eventemitter3\", \"superagent\", \"superagent-promise-plugin\", \"@slack/client\", \"aws-sdk\", \"cryptr\", \"discord.io\", \"events\", \"fs-extra\", \"lowdb\", \"readline\", \"tmi.js\", \"underscore-db\", \"util\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"exobot.js\"] = factory(require(\"node-uuid\"), require(\"babel-polyfill\"), require(\"eventemitter3\"), require(\"superagent\"), require(\"superagent-promise-plugin\"), require(\"@slack/client\"), require(\"aws-sdk\"), require(\"cryptr\"), require(\"discord.io\"), require(\"events\"), require(\"fs-extra\"), require(\"lowdb\"), require(\"readline\"), require(\"tmi.js\"), require(\"underscore-db\"), require(\"util\"));\n\telse\n\t\troot[\"exobot.js\"] = factory(root[\"node-uuid\"], root[\"babel-polyfill\"], root[\"eventemitter3\"], root[\"superagent\"], root[\"superagent-promise-plugin\"], root[\"@slack/client\"], root[\"aws-sdk\"], root[\"cryptr\"], root[\"discord.io\"], root[\"events\"], root[\"fs-extra\"], root[\"lowdb\"], root[\"readline\"], root[\"tmi.js\"], root[\"underscore-db\"], root[\"util\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_8__, __WEBPACK_EXTERNAL_MODULE_13__, __WEBPACK_EXTERNAL_MODULE_14__, __WEBPACK_EXTERNAL_MODULE_15__, __WEBPACK_EXTERNAL_MODULE_16__, __WEBPACK_EXTERNAL_MODULE_33__, __WEBPACK_EXTERNAL_MODULE_34__, __WEBPACK_EXTERNAL_MODULE_35__, __WEBPACK_EXTERNAL_MODULE_36__, __WEBPACK_EXTERNAL_MODULE_37__, __WEBPACK_EXTERNAL_MODULE_38__, __WEBPACK_EXTERNAL_MODULE_39__, __WEBPACK_EXTERNAL_MODULE_40__, __WEBPACK_EXTERNAL_MODULE_41__, __WEBPACK_EXTERNAL_MODULE_42__, __WEBPACK_EXTERNAL_MODULE_43__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmory imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmory exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tObject.defineProperty(exports, name, {\n/******/ \t\t\tconfigurable: false,\n/******/ \t\t\tenumerable: true,\n/******/ \t\t\tget: getter\n/******/ \t\t});\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 24);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__plugin__ = __webpack_require__(3);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__messages_text__ = __webpack_require__(6);\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t\n\t\n\t\n\tvar DEFAULT_REGEXP = /.+/;\n\t\n\tvar ChatPlugin = function (_Plugin) {\n\t  _inherits(ChatPlugin, _Plugin);\n\t\n\t  function ChatPlugin() {\n\t    _classCallCheck(this, ChatPlugin);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(ChatPlugin).call(this));\n\t\n\t    _this.regexp = DEFAULT_REGEXP;\n\t    _this.respondFunctions = [];\n\t    _this.listenFunctions = [];\n\t    return _this;\n\t  }\n\t\n\t  _createClass(ChatPlugin, [{\n\t    key: 'register',\n\t    value: function register(bot) {\n\t      var _this2 = this;\n\t\n\t      this.bot = bot;\n\t      this.botNameRegex = new RegExp('^(?:(?:' + bot.name + '|' + bot.alias + ')[,\\\\s:.-]*)(.+)');\n\t\n\t      bot.emitter.on('receive-message', function (m) {\n\t        _this2.respondFunctions.forEach(function (v) {\n\t          return _this2.process(v[0], v[1], m, true);\n\t        });\n\t        _this2.listenFunctions.forEach(function (v) {\n\t          return _this2.process(v[0], v[1], m);\n\t        });\n\t      });\n\t    }\n\t  }, {\n\t    key: 'process',\n\t    value: function process(validation, response, message) {\n\t      var _this3 = this;\n\t\n\t      var isResponder = arguments.length <= 3 || arguments[3] === undefined ? false : arguments[3];\n\t\n\t      if (isResponder) {\n\t        var text = this.validateBotName(message);\n\t\n\t        if (text) {\n\t          message = new __WEBPACK_IMPORTED_MODULE_1__messages_text__[\"a\" /* default */](_extends({}, message, { text: text, direct: true }));\n\t        } else {\n\t          return;\n\t        }\n\t      }\n\t\n\t      if (validation.exec) {\n\t        validation = this.validate(validation);\n\t      }\n\t\n\t      var res = validation(message);\n\t\n\t      if (res) {\n\t        var _text = response(res, message);\n\t\n\t        if (_text) {\n\t          if (_text instanceof Promise) {\n\t            _text.then(function (t) {\n\t              var newMessage = new __WEBPACK_IMPORTED_MODULE_1__messages_text__[\"a\" /* default */](_extends({}, message, { text: t }));\n\t              _this3.bot.emitter.emit('send-message:' + message.adapter, newMessage);\n\t            });\n\t          } else {\n\t            var newMessage = new __WEBPACK_IMPORTED_MODULE_1__messages_text__[\"a\" /* default */](_extends({}, message, { text: _text }));\n\t            this.bot.emitter.emit('send-message:' + message.adapter, newMessage);\n\t          }\n\t        }\n\t      }\n\t    }\n\t  }, {\n\t    key: 'validate',\n\t    value: function validate(regex) {\n\t      return function (message) {\n\t        return regex.exec(message.text);\n\t      };\n\t    }\n\t  }, {\n\t    key: 'validateBotName',\n\t    value: function validateBotName(message) {\n\t      var exec = this.botNameRegex.exec(message.text);\n\t      if (!exec) {\n\t        return;\n\t      }\n\t\n\t      return exec[1];\n\t    }\n\t  }, {\n\t    key: 'respond',\n\t    value: function respond(validation, fn) {\n\t      if (fn) {\n\t        fn = fn.bind(this);\n\t      }\n\t      this.respondFunctions.push([validation, fn]);\n\t    }\n\t  }, {\n\t    key: 'listen',\n\t    value: function listen(validation, fn) {\n\t      if (fn) {\n\t        fn = fn.bind(this);\n\t      }\n\t      this.listenFunctions.push([validation, fn]);\n\t    }\n\t  }]);\n\t\n\t  return ChatPlugin;\n\t}(__WEBPACK_IMPORTED_MODULE_0__plugin__[\"a\" /* default */]);\n\t\n\t/* harmony default export */ exports[\"a\"] = ChatPlugin;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar User = function User(name) {\n\t  var id = arguments.length <= 1 || arguments[1] === undefined ? name : arguments[1];\n\t\n\t  _classCallCheck(this, User);\n\t\n\t  this.name = name;\n\t  this.id = id;\n\t};\n\t\n\t/* harmony default export */ exports[\"a\"] = User;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_node_uuid__ = __webpack_require__(8);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_node_uuid___default = __WEBPACK_IMPORTED_MODULE_0_node_uuid__ && __WEBPACK_IMPORTED_MODULE_0_node_uuid__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_0_node_uuid__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_0_node_uuid__; };\n\t/* harmony import */ __webpack_require__.d(__WEBPACK_IMPORTED_MODULE_0_node_uuid___default, 'a', __WEBPACK_IMPORTED_MODULE_0_node_uuid___default);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__messages_text__ = __webpack_require__(6);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__messages_presence__ = __webpack_require__(7);\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t\n\t\n\t\n\t\n\t\n\tvar Adapter = function () {\n\t  function Adapter() {\n\t    var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\t\n\t    _classCallCheck(this, Adapter);\n\t\n\t    this.options = options;\n\t    this.id = options.id || __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_node_uuid__[\"v4\"])();\n\t    this.status = Adapter.STATUS.UNINITIALIZED;\n\t  }\n\t\n\t  _createClass(Adapter, [{\n\t    key: 'register',\n\t    value: function register(bot) {\n\t      if (!bot) {\n\t        throw new Error('No bot passed to register; fatal.');\n\t      }\n\t\n\t      this.bot = bot;\n\t\n\t      this.status = Adapter.STATUS.CONNECTING;\n\t      this.listen();\n\t    }\n\t  }, {\n\t    key: 'listen',\n\t    value: function listen() {\n\t      if (!this.bot) {\n\t        throw new Error('No bot to listen on; fatal.');\n\t      }\n\t      this.bot.emitter.on('send-message:' + this.id, this.send.bind(this));\n\t    }\n\t  }, {\n\t    key: 'receive',\n\t    value: function receive(_ref) {\n\t      var user = _ref.user;\n\t      var text = _ref.text;\n\t      var channel = _ref.channel;\n\t      var whisper = _ref.whisper;\n\t\n\t      var message = new __WEBPACK_IMPORTED_MODULE_1__messages_text__[\"a\" /* default */]({ user: user, text: text, channel: channel, whisper: whisper, adapter: this.id });\n\t      this.bot.emitter.emit('receive-message', message);\n\t    }\n\t  }, {\n\t    key: 'receiveWhisper',\n\t    value: function receiveWhisper(_ref2) {\n\t      var user = _ref2.user;\n\t      var text = _ref2.text;\n\t      var channel = _ref2.channel;\n\t\n\t      text = this.bot.prependNameForWhisper(text);\n\t      this.receive({ user: user, text: text, channel: channel, whisper: true });\n\t    }\n\t  }, {\n\t    key: 'enter',\n\t    value: function enter(_ref3) {\n\t      var user = _ref3.user;\n\t      var channel = _ref3.channel;\n\t\n\t      var message = new __WEBPACK_IMPORTED_MODULE_2__messages_presence__[\"a\" /* default */]({\n\t        user: user,\n\t        channel: channel,\n\t        adapter: this.id,\n\t        type: __WEBPACK_IMPORTED_MODULE_2__messages_presence__[\"a\" /* default */].TYPES.ENTER\n\t      });\n\t\n\t      this.bot.emitter.emit('enter', message);\n\t    }\n\t  }, {\n\t    key: 'leave',\n\t    value: function leave(_ref4) {\n\t      var user = _ref4.user;\n\t      var channel = _ref4.channel;\n\t\n\t      var message = new __WEBPACK_IMPORTED_MODULE_2__messages_presence__[\"a\" /* default */]({\n\t        user: user,\n\t        channel: channel,\n\t        adapter: this.id,\n\t        type: __WEBPACK_IMPORTED_MODULE_2__messages_presence__[\"a\" /* default */].TYPES.LEAVE\n\t      });\n\t\n\t      this.bot.emitter.emit('leave', message);\n\t    }\n\t  }, {\n\t    key: 'send',\n\t    value: function send(message) {\n\t      console.log(message.text);\n\t    }\n\t  }, {\n\t    key: 'ping',\n\t    value: function ping() {\n\t      this.pong();\n\t    }\n\t  }, {\n\t    key: 'pong',\n\t    value: function pong() {\n\t      console.log('Ping received, this.pong() not implemented.');\n\t    }\n\t  }]);\n\t\n\t  return Adapter;\n\t}();\n\t\n\tAdapter.STATUS = {\n\t  UNINITIALIZED: 0,\n\t  CONNECTING: 1,\n\t  CONNECTED: 2,\n\t  DISCONNECTED: 3,\n\t  RECONNECTING: 4,\n\t  ERROR: 5\n\t};\n\t/* harmony default export */ exports[\"a\"] = Adapter;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { return step(\"next\", value); }, function (err) { return step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Plugin = function () {\n\t  function Plugin() {\n\t    var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\t\n\t    _classCallCheck(this, Plugin);\n\t\n\t    this.help = undefined;\n\t    this._requiresDatabase = false;\n\t\n\t    this.options = options;\n\t  }\n\t\n\t  _createClass(Plugin, [{\n\t    key: 'register',\n\t    value: function register(bot) {\n\t      if (!bot) {\n\t        throw new Error('No bot passed to register; fatal.');\n\t      }\n\t\n\t      this.bot = bot;\n\t    }\n\t  }, {\n\t    key: 'listen',\n\t    value: function listen() {\n\t      if (!this.bot) {\n\t        throw new Error('No bot to listen on; fatal.');\n\t      }\n\t    }\n\t  }, {\n\t    key: 'database',\n\t    value: function () {\n\t      var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(name, defaultValue) {\n\t        var val;\n\t        return regeneratorRuntime.wrap(function _callee$(_context) {\n\t          while (1) {\n\t            switch (_context.prev = _context.next) {\n\t              case 0:\n\t                _context.next = 2;\n\t                return this.databaseInitialized();\n\t\n\t              case 2:\n\t                val = this.bot.db.get(name).value();\n\t\n\t\n\t                if (typeof val === 'undefined') {\n\t                  this.bot.db.set(name, defaultValue).value();\n\t                }\n\t\n\t              case 4:\n\t              case 'end':\n\t                return _context.stop();\n\t            }\n\t          }\n\t        }, _callee, this);\n\t      }));\n\t\n\t      function database(_x2, _x3) {\n\t        return ref.apply(this, arguments);\n\t      }\n\t\n\t      return database;\n\t    }()\n\t  }, {\n\t    key: 'databaseInitialized',\n\t    value: function () {\n\t      var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n\t        var _this = this;\n\t\n\t        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n\t          while (1) {\n\t            switch (_context2.prev = _context2.next) {\n\t              case 0:\n\t                this._requiresDatabase = true;\n\t\n\t                if (!(this._requiresDatabase && this.bot.db)) {\n\t                  _context2.next = 3;\n\t                  break;\n\t                }\n\t\n\t                return _context2.abrupt('return', true);\n\t\n\t              case 3:\n\t                return _context2.abrupt('return', new Promise(function (resolve) {\n\t                  _this.bot.emitter.on('dbLoaded', resolve);\n\t                }));\n\t\n\t              case 4:\n\t              case 'end':\n\t                return _context2.stop();\n\t            }\n\t          }\n\t        }, _callee2, this);\n\t      }));\n\t\n\t      function databaseInitialized() {\n\t        return ref.apply(this, arguments);\n\t      }\n\t\n\t      return databaseInitialized;\n\t    }()\n\t  }]);\n\t\n\t  return Plugin;\n\t}();\n\t\n\t/* harmony default export */ exports[\"a\"] = Plugin;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__db__ = __webpack_require__(22);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__s3__ = __webpack_require__(23);\n\t/* harmony namespace reexport */ for(var __WEBPACK_IMPORT_KEY__ in __WEBPACK_IMPORTED_MODULE_0__db__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(exports, key, function() { return __WEBPACK_IMPORTED_MODULE_0__db__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n\t/* harmony namespace reexport */ for(var __WEBPACK_IMPORT_KEY__ in __WEBPACK_IMPORTED_MODULE_1__s3__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(exports, key, function() { return __WEBPACK_IMPORTED_MODULE_1__s3__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n\t\n\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_node_uuid__ = __webpack_require__(8);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_node_uuid___default = __WEBPACK_IMPORTED_MODULE_0_node_uuid__ && __WEBPACK_IMPORTED_MODULE_0_node_uuid__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_0_node_uuid__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_0_node_uuid__; };\n\t/* harmony import */ __webpack_require__.d(__WEBPACK_IMPORTED_MODULE_0_node_uuid___default, 'a', __WEBPACK_IMPORTED_MODULE_0_node_uuid___default);\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t\n\t\n\tvar Message = function Message(_ref) {\n\t  var user = _ref.user;\n\t  var channel = _ref.channel;\n\t  var adapter = _ref.adapter;\n\t  var _ref$id = _ref.id;\n\t  var id = _ref$id === undefined ? __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_node_uuid__[\"v4\"])() : _ref$id;\n\t\n\t  _classCallCheck(this, Message);\n\t\n\t  this.user = user;\n\t  this.channel = channel;\n\t  this.adapter = adapter;\n\t  this.id = id;\n\t};\n\t\n\t/* harmony default export */ exports[\"a\"] = Message;\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__message__ = __webpack_require__(5);\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t\n\t\n\tvar TextMessage = function (_Message) {\n\t  _inherits(TextMessage, _Message);\n\t\n\t  function TextMessage(_ref) {\n\t    var text = _ref.text;\n\t    var _ref$whisper = _ref.whisper;\n\t    var whisper = _ref$whisper === undefined ? false : _ref$whisper;\n\t\n\t    _classCallCheck(this, TextMessage);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(TextMessage).apply(this, arguments));\n\t\n\t    _this.text = text;\n\t    _this.whisper = whisper;\n\t    return _this;\n\t  }\n\t\n\t  return TextMessage;\n\t}(__WEBPACK_IMPORTED_MODULE_0__message__[\"a\" /* default */]);\n\t\n\t/* harmony default export */ exports[\"a\"] = TextMessage;\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__message__ = __webpack_require__(5);\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t\n\t\n\tvar PresenceMessage = function (_Message) {\n\t  _inherits(PresenceMessage, _Message);\n\t\n\t  function PresenceMessage(_ref) {\n\t    var type = _ref.type;\n\t\n\t    _classCallCheck(this, PresenceMessage);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(PresenceMessage).apply(this, arguments));\n\t\n\t    _this.type = type;\n\t    return _this;\n\t  }\n\t\n\t  return PresenceMessage;\n\t}(__WEBPACK_IMPORTED_MODULE_0__message__[\"a\" /* default */]);\n\t\n\tPresenceMessage.TYPES = {\n\t  ENTER: 0,\n\t  LEAVE: 1\n\t};\n\t/* harmony default export */ exports[\"a\"] = PresenceMessage;\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"node-uuid\");\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__adapter__ = __webpack_require__(2);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__adapters__ = __webpack_require__(18);\n\t\n\t/* harmony export */ __webpack_require__.d(exports, \"adapters\", function() { return adapters; });/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_0__adapter__, \"a\")) __webpack_require__.d(exports, \"Adapter\", function() { return __WEBPACK_IMPORTED_MODULE_0__adapter__[\"a\"]; });\n\t\n\t\n\t\n\tvar adapters = __WEBPACK_IMPORTED_MODULE_1__adapters__;\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__message__ = __webpack_require__(5);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__presence__ = __webpack_require__(7);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__text__ = __webpack_require__(6);\n\t/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_0__message__, \"a\")) __webpack_require__.d(exports, \"Message\", function() { return __WEBPACK_IMPORTED_MODULE_0__message__[\"a\"]; });\n\t/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_1__presence__, \"a\")) __webpack_require__.d(exports, \"PresenceMessage\", function() { return __WEBPACK_IMPORTED_MODULE_1__presence__[\"a\"]; });\n\t/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_2__text__, \"a\")) __webpack_require__.d(exports, \"TextMessage\", function() { return __WEBPACK_IMPORTED_MODULE_2__text__[\"a\"]; });\n\t\n\t\n\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__plugin__ = __webpack_require__(3);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__chat__ = __webpack_require__(0);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__event__ = __webpack_require__(25);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__http__ = __webpack_require__(26);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__plugins__ = __webpack_require__(31);\n\t\n\t/* harmony export */ __webpack_require__.d(exports, \"plugins\", function() { return plugins; });/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_0__plugin__, \"a\")) __webpack_require__.d(exports, \"Plugin\", function() { return __WEBPACK_IMPORTED_MODULE_0__plugin__[\"a\"]; });\n\t/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_1__chat__, \"a\")) __webpack_require__.d(exports, \"ChatPlugin\", function() { return __WEBPACK_IMPORTED_MODULE_1__chat__[\"a\"]; });\n\t/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_2__event__, \"a\")) __webpack_require__.d(exports, \"EventPlugin\", function() { return __WEBPACK_IMPORTED_MODULE_2__event__[\"a\"]; });\n\t/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_3__http__, \"a\")) __webpack_require__.d(exports, \"HTTPPlugin\", function() { return __WEBPACK_IMPORTED_MODULE_3__http__[\"a\"]; });\n\t\n\t\n\t\n\t\n\t\n\t\n\tvar plugins = __WEBPACK_IMPORTED_MODULE_4__plugins__;\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*!\n\t * Log.js\n\t * Copyright(c) 2010 TJ Holowaychuk <tj@vision-media.ca>\n\t * MIT Licensed\n\t */\n\t\n\t/**\n\t * Module dependencies.\n\t */\n\t\n\tvar fmt = __webpack_require__(43).format;\n\tvar EventEmitter = __webpack_require__(37).EventEmitter;\n\t\n\t/**\n\t * Initialize a `Loggeer` with the given log `level` defaulting\n\t * to __DEBUG__ and `stream` defaulting to _stdout_.\n\t *\n\t * @param {Number} level\n\t * @param {Object} stream\n\t * @api public\n\t */\n\t\n\tvar Log = exports = module.exports = function Log(level, stream){\n\t  if ('string' == typeof level) level = exports[level.toUpperCase()];\n\t  this.level = level || exports.DEBUG;\n\t  this.stream = stream || process.stdout;\n\t  if (this.stream.readable) this.read();\n\t};\n\t\n\t/**\n\t * System is unusable.\n\t *\n\t * @type Number\n\t */\n\t\n\texports.EMERGENCY = 0;\n\t\n\t/**\n\t * Action must be taken immediately.\n\t *\n\t * @type Number\n\t */\n\t\n\texports.ALERT = 1;\n\t\n\t/**\n\t * Critical condition.\n\t *\n\t * @type Number\n\t */\n\t\n\texports.CRITICAL = 2;\n\t\n\t/**\n\t * Error condition.\n\t *\n\t * @type Number\n\t */\n\t\n\texports.ERROR = 3;\n\t\n\t/**\n\t * Warning condition.\n\t *\n\t * @type Number\n\t */\n\t\n\texports.WARNING = 4;\n\t\n\t/**\n\t * Normal but significant condition.\n\t *\n\t * @type Number\n\t */\n\t\n\texports.NOTICE = 5;\n\t\n\t/**\n\t * Purely informational message.\n\t *\n\t * @type Number\n\t */\n\t\n\texports.INFO = 6;\n\t\n\t/**\n\t * Application debug messages.\n\t *\n\t * @type Number\n\t */\n\t\n\texports.DEBUG = 7;\n\t\n\t/**\n\t * prototype.\n\t */\n\t\n\tLog.prototype = {\n\t\n\t  /**\n\t   * Start emitting \"line\" events.\n\t   *\n\t   * @api public\n\t   */\n\t\n\t  read: function(){\n\t    var buf = ''\n\t      , self = this\n\t      , stream = this.stream;\n\t\n\t    stream.setEncoding('utf8');\n\t    stream.on('data', function(chunk){\n\t      buf += chunk;\n\t      if ('\\n' != buf[buf.length - 1]) return;\n\t      buf.split('\\n').map(function(line){\n\t        if (!line.length) return;\n\t        try {\n\t          var captures = line.match(/^\\[([^\\]]+)\\] (\\w+) (.*)/);\n\t          var obj = {\n\t              date: new Date(captures[1])\n\t            , level: exports[captures[2]]\n\t            , levelString: captures[2]\n\t            , msg: captures[3]\n\t          };\n\t          self.emit('line', obj);\n\t        } catch (err) {\n\t          // Ignore\n\t        }\n\t      });\n\t      buf = '';\n\t    });\n\t\n\t    stream.on('end', function(){\n\t      self.emit('end');\n\t    });\n\t  },\n\t\n\t  /**\n\t   * Log output message.\n\t   *\n\t   * @param  {String} levelStr\n\t   * @param  {Array} args\n\t   * @api private\n\t   */\n\t\n\t  log: function(levelStr, args) {\n\t    if (exports[levelStr] <= this.level) {\n\t      var msg = fmt.apply(null, args);\n\t      this.stream.write(\n\t          '[' + new Date + ']'\n\t        + ' ' + levelStr\n\t        + ' ' + msg\n\t        + '\\n'\n\t      );\n\t    }\n\t  },\n\t\n\t  /**\n\t   * Log emergency `msg`.\n\t   *\n\t   * @param  {String} msg\n\t   * @api public\n\t   */\n\t\n\t  emergency: function(msg){\n\t    this.log('EMERGENCY', arguments);\n\t  },\n\t\n\t  /**\n\t   * Log alert `msg`.\n\t   *\n\t   * @param  {String} msg\n\t   * @api public\n\t   */\n\t\n\t  alert: function(msg){\n\t    this.log('ALERT', arguments);\n\t  },\n\t\n\t  /**\n\t   * Log critical `msg`.\n\t   *\n\t   * @param  {String} msg\n\t   * @api public\n\t   */\n\t\n\t  critical: function(msg){\n\t    this.log('CRITICAL', arguments);\n\t  },\n\t\n\t  /**\n\t   * Log error `msg`.\n\t   *\n\t   * @param  {String} msg\n\t   * @api public\n\t   */\n\t\n\t  error: function(msg){\n\t    this.log('ERROR', arguments);\n\t  },\n\t\n\t  /**\n\t   * Log warning `msg`.\n\t   *\n\t   * @param  {String} msg\n\t   * @api public\n\t   */\n\t\n\t  warning: function(msg){\n\t    this.log('WARNING', arguments);\n\t  },\n\t\n\t  /**\n\t   * Log notice `msg`.\n\t   *\n\t   * @param  {String} msg\n\t   * @api public\n\t   */\n\t\n\t  notice: function(msg){\n\t    this.log('NOTICE', arguments);\n\t  },\n\t\n\t  /**\n\t   * Log info `msg`.\n\t   *\n\t   * @param  {String} msg\n\t   * @api public\n\t   */\n\t\n\t  info: function(msg){\n\t    this.log('INFO', arguments);\n\t  },\n\t\n\t  /**\n\t   * Log debug `msg`.\n\t   *\n\t   * @param  {String} msg\n\t   * @api public\n\t   */\n\t\n\t  debug: function(msg){\n\t    this.log('DEBUG', arguments);\n\t  }\n\t};\n\t\n\t/**\n\t * Inherit from `EventEmitter`.\n\t */\n\t\n\tLog.prototype.__proto__ = EventEmitter.prototype;\n\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"babel-polyfill\");\n\n/***/ },\n/* 14 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"eventemitter3\");\n\n/***/ },\n/* 15 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"superagent\");\n\n/***/ },\n/* 16 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"superagent-promise-plugin\");\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_discord_io__ = __webpack_require__(36);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_discord_io___default = __WEBPACK_IMPORTED_MODULE_0_discord_io__ && __WEBPACK_IMPORTED_MODULE_0_discord_io__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_0_discord_io__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_0_discord_io__; };\n\t/* harmony import */ __webpack_require__.d(__WEBPACK_IMPORTED_MODULE_0_discord_io___default, 'a', __WEBPACK_IMPORTED_MODULE_0_discord_io___default);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__adapter__ = __webpack_require__(2);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__user__ = __webpack_require__(1);\n\t/* unused harmony export EVENTS */var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t\n\t\n\t\n\t\n\t\n\tvar EVENTS = {\n\t  ready: 'discordReady',\n\t  message: 'discordMessage',\n\t  presence: 'discordPresence',\n\t  disconnected: 'discordDisconnected'\n\t};\n\t\n\tvar DiscordAdapter = function (_Adapter) {\n\t  _inherits(DiscordAdapter, _Adapter);\n\t\n\t  function DiscordAdapter(_ref) {\n\t    var token = _ref.token;\n\t    var botId = _ref.botId;\n\t    var username = _ref.username;\n\t\n\t    _classCallCheck(this, DiscordAdapter);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(DiscordAdapter).apply(this, arguments));\n\t\n\t    _this.channels = {};\n\t\n\t    _this.discordReady = function () {\n\t      _this.status = __WEBPACK_IMPORTED_MODULE_1__adapter__[\"a\" /* default */].STATUS.CONNECTED;\n\t\n\t      _this.bot.emitter.emit('connected', _this.id);\n\t      _this.bot.log.notice('Connected to Discord.');\n\t\n\t      _this.client.setPresence({\n\t        game: 'Exobotting'\n\t      });\n\t    };\n\t\n\t    _this.discordDisconnected = function () {\n\t      _this.status = __WEBPACK_IMPORTED_MODULE_1__adapter__[\"a\" /* default */].STATUS.DISCONNECTED;\n\t      _this.bot.log.critical('Disconnected from Discord.');\n\t    };\n\t\n\t    _this.botId = botId;\n\t    _this.username = username;\n\t    _this.token = token;\n\t    return _this;\n\t  }\n\t\n\t  _createClass(DiscordAdapter, [{\n\t    key: 'register',\n\t    value: function register(bot) {\n\t      var _this2 = this;\n\t\n\t      _get(Object.getPrototypeOf(DiscordAdapter.prototype), 'register', this).apply(this, arguments);\n\t\n\t      var token = this.token;\n\t      var botId = this.botId;\n\t      var username = this.username;\n\t\n\t\n\t      if (!token || !botId || !username) {\n\t        this.status = __WEBPACK_IMPORTED_MODULE_1__adapter__[\"a\" /* default */].STATUS.ERROR;\n\t        bot.log.error('token, botId, and username are required to connect to discord.');\n\t        return;\n\t      }\n\t\n\t      this.client = new __WEBPACK_IMPORTED_MODULE_0_discord_io___default.a.Client({\n\t        token: token,\n\t        autorun: true\n\t      });\n\t\n\t      Object.keys(EVENTS).forEach(function (discordEvent) {\n\t        var mappedFn = _this2[EVENTS[discordEvent]];\n\t        _this2.client.on(discordEvent, function () {\n\t          return mappedFn.bind(_this2).apply(undefined, arguments);\n\t        });\n\t        _this2.client.on(discordEvent, function () {\n\t          var _bot$emitter;\n\t\n\t          for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t            args[_key] = arguments[_key];\n\t          }\n\t\n\t          (_bot$emitter = _this2.bot.emitter).emit.apply(_bot$emitter, ['discord-' + discordEvent].concat(args));\n\t        });\n\t      });\n\t    }\n\t  }, {\n\t    key: 'send',\n\t    value: function send(message) {\n\t      this.bot.log.debug('Sending ' + message.text + ' to ' + message.channel);\n\t\n\t      this.client.sendMessage({\n\t        to: message.channel,\n\t        message: message.text\n\t      });\n\t    }\n\t  }, {\n\t    key: 'discordMessage',\n\t    value: function discordMessage(username, userId, channel, text /*, rawEvent*/) {\n\t      if (username === this.username) {\n\t        return;\n\t      }\n\t\n\t      var user = new __WEBPACK_IMPORTED_MODULE_2__user__[\"a\" /* default */](username, userId);\n\t\n\t      // if it's a whisper, the channel is in directMessages\n\t      if (this.client.directMessages[channel]) {\n\t        return _get(Object.getPrototypeOf(DiscordAdapter.prototype), 'receiveWhisper', this).call(this, { user: user, text: text, channel: channel });\n\t      }\n\t\n\t      this.receive({ user: user, text: text, channel: channel });\n\t    }\n\t  }, {\n\t    key: 'discordPresence',\n\t    value: function discordPresence(username, userId, status, gameName, rawEvent) {\n\t      if (userId !== this.botId) {\n\t        var user = new __WEBPACK_IMPORTED_MODULE_2__user__[\"a\" /* default */](username, userId);\n\t\n\t        if (status === 'online') {\n\t          return _get(Object.getPrototypeOf(DiscordAdapter.prototype), 'enter', this).call(this, { user: user, channel: rawEvent.d.channel_id });\n\t        } else if (status === 'offline') {\n\t          return _get(Object.getPrototypeOf(DiscordAdapter.prototype), 'leave', this).call(this, { user: user, channel: rawEvent.d.channel_id });\n\t        }\n\t      }\n\t    }\n\t  }]);\n\t\n\t  return DiscordAdapter;\n\t}(__WEBPACK_IMPORTED_MODULE_1__adapter__[\"a\" /* default */]);\n\t\n\t/* harmony default export */ exports[\"a\"] = DiscordAdapter;\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__shell__ = __webpack_require__(19);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__discord__ = __webpack_require__(17);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__twitch__ = __webpack_require__(21);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__slack__ = __webpack_require__(20);\n\t/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_0__shell__, \"a\")) __webpack_require__.d(exports, \"Shell\", function() { return __WEBPACK_IMPORTED_MODULE_0__shell__[\"a\"]; });\n\t/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_1__discord__, \"a\")) __webpack_require__.d(exports, \"Discord\", function() { return __WEBPACK_IMPORTED_MODULE_1__discord__[\"a\"]; });\n\t/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_2__twitch__, \"a\")) __webpack_require__.d(exports, \"Twitch\", function() { return __WEBPACK_IMPORTED_MODULE_2__twitch__[\"a\"]; });\n\t/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_3__slack__, \"a\")) __webpack_require__.d(exports, \"Slack\", function() { return __WEBPACK_IMPORTED_MODULE_3__slack__[\"a\"]; });\n\t\n\t\n\t\n\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_readline__ = __webpack_require__(40);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_readline___default = __WEBPACK_IMPORTED_MODULE_0_readline__ && __WEBPACK_IMPORTED_MODULE_0_readline__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_0_readline__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_0_readline__; };\n\t/* harmony import */ __webpack_require__.d(__WEBPACK_IMPORTED_MODULE_0_readline___default, 'a', __WEBPACK_IMPORTED_MODULE_0_readline___default);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__adapter__ = __webpack_require__(2);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__user__ = __webpack_require__(1);\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t\n\t\n\t\n\t\n\t\n\tvar SHELL = 'SHELL';\n\tvar SHELL_USER = new __WEBPACK_IMPORTED_MODULE_2__user__[\"a\" /* default */]('shell');\n\t\n\tvar EXIT_COMMANDS = ['exit', 'quit', 'q'];\n\t\n\tvar ShellAdapter = function (_Adapter) {\n\t  _inherits(ShellAdapter, _Adapter);\n\t\n\t  function ShellAdapter() {\n\t    _classCallCheck(this, ShellAdapter);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(ShellAdapter).call(this));\n\t\n\t    _this.rl = __WEBPACK_IMPORTED_MODULE_0_readline___default.a.createInterface({\n\t      input: process.stdin,\n\t      output: process.stdout\n\t    });\n\t    return _this;\n\t  }\n\t\n\t  _createClass(ShellAdapter, [{\n\t    key: 'prompt',\n\t    value: function prompt() {\n\t      var _this2 = this;\n\t\n\t      this.rl.question('Chat: ', function (answer) {\n\t        if (EXIT_COMMANDS.includes(answer)) {\n\t          return process.exit();\n\t        }\n\t\n\t        _get(Object.getPrototypeOf(ShellAdapter.prototype), 'receive', _this2).call(_this2, {\n\t          text: answer,\n\t          channel: SHELL,\n\t          user: SHELL_USER\n\t        });\n\t\n\t        _this2.prompt();\n\t      });\n\t    }\n\t  }, {\n\t    key: 'register',\n\t    value: function register(bot) {\n\t      _get(Object.getPrototypeOf(ShellAdapter.prototype), 'register', this).call(this, bot);\n\t      this.prompt();\n\t      this.status = __WEBPACK_IMPORTED_MODULE_1__adapter__[\"a\" /* default */].STATUS.CONNECTED;\n\t    }\n\t  }]);\n\t\n\t  return ShellAdapter;\n\t}(__WEBPACK_IMPORTED_MODULE_1__adapter__[\"a\" /* default */]);\n\t\n\t/* harmony default export */ exports[\"a\"] = ShellAdapter;\n\n/***/ },\n/* 20 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__slack_client__ = __webpack_require__(33);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__slack_client___default = __WEBPACK_IMPORTED_MODULE_0__slack_client__ && __WEBPACK_IMPORTED_MODULE_0__slack_client__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_0__slack_client__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_0__slack_client__; };\n\t/* harmony import */ __webpack_require__.d(__WEBPACK_IMPORTED_MODULE_0__slack_client___default, 'a', __WEBPACK_IMPORTED_MODULE_0__slack_client___default);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__adapter__ = __webpack_require__(2);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__user__ = __webpack_require__(1);\n\t/* unused harmony export EVENTS */var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _EVENTS;\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\t\n\t\n\t\n\t\n\t\n\tvar EVENTS = (_EVENTS = {}, _defineProperty(_EVENTS, __WEBPACK_IMPORTED_MODULE_0__slack_client__[\"CLIENT_EVENTS\"].RTM.CONNECTING, 'slackConnecting'), _defineProperty(_EVENTS, __WEBPACK_IMPORTED_MODULE_0__slack_client__[\"CLIENT_EVENTS\"].RTM.RTM_CONNECTION_OPENED, 'slackConnected'), _defineProperty(_EVENTS, __WEBPACK_IMPORTED_MODULE_0__slack_client__[\"CLIENT_EVENTS\"].RTM.AUTHENTICATED, 'slackAuthenticated'), _defineProperty(_EVENTS, __WEBPACK_IMPORTED_MODULE_0__slack_client__[\"CLIENT_EVENTS\"].RTM.DISCONNECT, 'slackDisconnected'), _defineProperty(_EVENTS, __WEBPACK_IMPORTED_MODULE_0__slack_client__[\"CLIENT_EVENTS\"].RTM.UNABLE_TO_RTM_START, 'slackUnableToStart'), _defineProperty(_EVENTS, __WEBPACK_IMPORTED_MODULE_0__slack_client__[\"CLIENT_EVENTS\"].RTM.ATTEMPTING_RECONNECT, 'slackReconnecting'), _defineProperty(_EVENTS, __WEBPACK_IMPORTED_MODULE_0__slack_client__[\"RTM_EVENTS\"].MESSAGE, 'slackMessage'), _EVENTS);\n\t\n\tvar Slack = function (_Adapter) {\n\t  _inherits(Slack, _Adapter);\n\t\n\t  function Slack(_ref) {\n\t    var token = _ref.token;\n\t\n\t    _classCallCheck(this, Slack);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Slack).apply(this, arguments));\n\t\n\t    _this.slackConnecting = function () {\n\t      _this.bot.log.info('Connecting to Slack.');\n\t      _this.status = __WEBPACK_IMPORTED_MODULE_1__adapter__[\"a\" /* default */].STATUS.CONNECTING;\n\t    };\n\t\n\t    _this.slackConnected = function () {\n\t      _this.bot.log.info('Connected to Slack.');\n\t    };\n\t\n\t    _this.slackAuthenticated = function () {\n\t      _this.bot.log.notice('Successfully authenticated to Slack.');\n\t      _this.status = __WEBPACK_IMPORTED_MODULE_1__adapter__[\"a\" /* default */].STATUS.CONNECTED;\n\t    };\n\t\n\t    _this.slackDisconnected = function () {\n\t      _this.bot.log.critical('Disconnected from Slack.');\n\t      _this.status = __WEBPACK_IMPORTED_MODULE_1__adapter__[\"a\" /* default */].STATUS.DISCONNECTED;\n\t    };\n\t\n\t    _this.slackUnableToStart = function () {\n\t      _this.bot.log.critical('Unable to start Slack.');\n\t      _this.status = __WEBPACK_IMPORTED_MODULE_1__adapter__[\"a\" /* default */].STATUS.DISCONNECTED;\n\t    };\n\t\n\t    _this.slackReconnecting = function () {\n\t      _this.bot.log.notice('Reconnecting to Slack.');\n\t      _this.status = __WEBPACK_IMPORTED_MODULE_1__adapter__[\"a\" /* default */].STATUS.RECONNECTING;\n\t    };\n\t\n\t    _this.slackMessage = function (message) {\n\t      var botId = _this.client.activeUserId;\n\t      if (message.user === botId) {\n\t        return;\n\t      }\n\t\n\t      var slackUser = _this.client.dataStore.getUserById(message.user);\n\t      var user = void 0;\n\t\n\t      if (slackUser) {\n\t        user = new __WEBPACK_IMPORTED_MODULE_2__user__[\"a\" /* default */](slackUser.name, slackUser.id);\n\t      } else {\n\t        user = new __WEBPACK_IMPORTED_MODULE_2__user__[\"a\" /* default */](message.user);\n\t      }\n\t\n\t      _this.receive({ user: user, text: message.text, channel: message.channel });\n\t    };\n\t\n\t    _this.token = token;\n\t    return _this;\n\t  }\n\t\n\t  _createClass(Slack, [{\n\t    key: 'register',\n\t    value: function register(bot) {\n\t      var _this2 = this;\n\t\n\t      _get(Object.getPrototypeOf(Slack.prototype), 'register', this).apply(this, arguments);\n\t      var token = this.token;\n\t\n\t\n\t      this.client = new __WEBPACK_IMPORTED_MODULE_0__slack_client__[\"RtmClient\"](token, { logLevel: bot.logLevel });\n\t\n\t      Object.keys(EVENTS).forEach(function (slackEvent) {\n\t        var mappedFn = _this2[EVENTS[slackEvent]];\n\t        _this2.client.on(slackEvent, function () {\n\t          return mappedFn.apply(undefined, arguments);\n\t        });\n\t        _this2.client.on(slackEvent, function () {\n\t          var _bot$emitter;\n\t\n\t          for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t            args[_key] = arguments[_key];\n\t          }\n\t\n\t          (_bot$emitter = bot.emitter).emit.apply(_bot$emitter, ['slack-' + slackEvent].concat(args));\n\t        });\n\t      });\n\t\n\t      this.client.start();\n\t    }\n\t  }, {\n\t    key: 'send',\n\t    value: function send(message) {\n\t      this.bot.log.debug('Sending ' + message.text + ' to ' + message.channel);\n\t      this.client.sendMessage(message.text, message.channel);\n\t    }\n\t  }]);\n\t\n\t  return Slack;\n\t}(__WEBPACK_IMPORTED_MODULE_1__adapter__[\"a\" /* default */]);\n\t\n\t/* harmony default export */ exports[\"a\"] = Slack;\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tmi_js__ = __webpack_require__(41);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tmi_js___default = __WEBPACK_IMPORTED_MODULE_0_tmi_js__ && __WEBPACK_IMPORTED_MODULE_0_tmi_js__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_0_tmi_js__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_0_tmi_js__; };\n\t/* harmony import */ __webpack_require__.d(__WEBPACK_IMPORTED_MODULE_0_tmi_js___default, 'a', __WEBPACK_IMPORTED_MODULE_0_tmi_js___default);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__adapter__ = __webpack_require__(2);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__user__ = __webpack_require__(1);\n\t/* unused harmony export EVENTS */var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t\n\t\n\t\n\t\n\t\n\tvar EVENTS = {\n\t  connecting: 'twitchConnecting',\n\t  connected: 'twitchConnected',\n\t  logon: 'twitchLogon',\n\t  disconnected: 'twitchDisconnected',\n\t  reconnect: 'twitchReconnect',\n\t  chat: 'twitchChat',\n\t  emoteonly: 'twitchEmoteonly',\n\t  join: 'twitchJoin',\n\t  part: 'twitchPart',\n\t  mods: 'twitchMods',\n\t  notice: 'twitchNotice',\n\t  ping: 'twitchPing',\n\t  pong: 'twitchPong',\n\t  roomstate: 'twitchRoomstate',\n\t  slowmode: 'twitchSlowmode',\n\t  subscribers: 'twitchSubscribers',\n\t  subscription: 'twitchSubscription',\n\t  timeout: 'twitchTimeout',\n\t  whisper: 'twitchWhisper'\n\t};\n\t\n\tvar TwitchAdapter = function (_Adapter) {\n\t  _inherits(TwitchAdapter, _Adapter);\n\t\n\t  function TwitchAdapter(_ref) {\n\t    var username = _ref.username;\n\t    var oauthPassword = _ref.oauthPassword;\n\t    var _ref$channels = _ref.channels;\n\t    var channels = _ref$channels === undefined ? [] : _ref$channels;\n\t\n\t    _classCallCheck(this, TwitchAdapter);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(TwitchAdapter).apply(this, arguments));\n\t\n\t    _initialiseProps.call(_this);\n\t\n\t    _this.username = username;\n\t    _this.oauthPassword = oauthPassword;\n\t    _this.channels = channels;\n\t    return _this;\n\t  }\n\t\n\t  _createClass(TwitchAdapter, [{\n\t    key: 'register',\n\t    value: function register(bot) {\n\t      var _this2 = this;\n\t\n\t      _get(Object.getPrototypeOf(TwitchAdapter.prototype), 'register', this).apply(this, arguments);\n\t\n\t      var username = this.username;\n\t      var oauthPassword = this.oauthPassword;\n\t      var channels = this.channels;\n\t\n\t\n\t      if (!username || !oauthPassword) {\n\t        bot.log.error('username and oauthPassword are required to connect to Twitch.');\n\t        return;\n\t      }\n\t\n\t      if (!channels.length) {\n\t        bot.log.critical('No channels passed to Twitch adapter to connect to.');\n\t      }\n\t\n\t      this.client = new __WEBPACK_IMPORTED_MODULE_0_tmi_js___default.a.client({\n\t        channels: channels,\n\t        identity: {\n\t          username: username,\n\t          password: oauthPassword\n\t        },\n\t        options: {\n\t          debug: true\n\t        },\n\t        secure: true,\n\t        reconnect: true,\n\t        logger: {\n\t          info: bot.log.info.bind(bot.log),\n\t          warn: bot.log.warning.bind(bot.log),\n\t          error: bot.log.error.bind(bot.log)\n\t        },\n\t        connection: {\n\t          cluster: 'aws'\n\t        }\n\t      });\n\t\n\t      this.client.connect();\n\t\n\t      Object.keys(EVENTS).forEach(function (twitchEvent) {\n\t        var mappedFn = _this2[EVENTS[twitchEvent]];\n\t        _this2.client.on(twitchEvent, function () {\n\t          return mappedFn.apply(undefined, arguments);\n\t        });\n\t        _this2.client.on(twitchEvent, function () {\n\t          var _bot$emitter;\n\t\n\t          for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t            args[_key] = arguments[_key];\n\t          }\n\t\n\t          (_bot$emitter = _this2.bot.emitter).emit.apply(_bot$emitter, ['twitch-' + twitchEvent].concat(args));\n\t        });\n\t      });\n\t    }\n\t  }, {\n\t    key: 'send',\n\t    value: function send(message) {\n\t      this.bot.log.debug('Sending ' + message.text + ' to ' + message.channel);\n\t\n\t      if (message.whisper) {\n\t        return this.client.whisper(message.user.name, message.text);\n\t      }\n\t\n\t      this.client.say(message.channel, message.text);\n\t    }\n\t  }]);\n\t\n\t  return TwitchAdapter;\n\t}(__WEBPACK_IMPORTED_MODULE_1__adapter__[\"a\" /* default */]);\n\t\n\tvar _initialiseProps = function _initialiseProps() {\n\t  var _this3 = this;\n\t\n\t  this.twitchConnecting = function () {\n\t    _this3.status = __WEBPACK_IMPORTED_MODULE_1__adapter__[\"a\" /* default */].STATUS.CONNECTING;\n\t  };\n\t\n\t  this.twitchConnected = function () {\n\t    _this3.status = __WEBPACK_IMPORTED_MODULE_1__adapter__[\"a\" /* default */].STATUS.CONNECTED;\n\t    _this3.bot.emitter.emit('connected', _this3.id);\n\t    _this3.bot.log.notice('Connected to Twitch.');\n\t  };\n\t\n\t  this.twitchLogon = function () {\n\t    _this3.status = __WEBPACK_IMPORTED_MODULE_1__adapter__[\"a\" /* default */].STATUS.CONNECTED;\n\t    _this3.bot.log.notice('Successfully logged on to Twitch.');\n\t  };\n\t\n\t  this.twitchDisconnected = function () {\n\t    _this3.status = __WEBPACK_IMPORTED_MODULE_1__adapter__[\"a\" /* default */].STATUS.DISCONNECTED;\n\t    _this3.bot.log.warning('Disconnected from Twitch.');\n\t  };\n\t\n\t  this.twitchReconnect = function () {\n\t    _this3.status = __WEBPACK_IMPORTED_MODULE_1__adapter__[\"a\" /* default */].STATUS.RECONNECTING;\n\t    _this3.bot.log.notice('Reconnecting to Twitch.');\n\t  };\n\t\n\t  this.twitchChat = function (channel, twitchUser, text) {\n\t    if (twitchUser.username === _this3.username) {\n\t      return;\n\t    }\n\t    var user = new __WEBPACK_IMPORTED_MODULE_2__user__[\"a\" /* default */](twitchUser.username);\n\t    _this3.receive({ user: user, text: text, channel: channel });\n\t  };\n\t\n\t  this.twitchEmoteonly = function () {};\n\t\n\t  this.twitchJoin = function (channel, username) {\n\t    if (username !== _this3.username) {\n\t      return;\n\t    }\n\t    var user = new __WEBPACK_IMPORTED_MODULE_2__user__[\"a\" /* default */](username);\n\t    return _this3.enter({ user: user, channel: channel });\n\t  };\n\t\n\t  this.twitchPart = function (channel, username) {\n\t    if (username !== _this3.username) {\n\t      return;\n\t    }\n\t    var user = new __WEBPACK_IMPORTED_MODULE_2__user__[\"a\" /* default */](username);\n\t    return _this3.leave({ user: user, channel: channel });\n\t  };\n\t\n\t  this.twitchPing = function () {\n\t    _this3.ping();\n\t  };\n\t\n\t  this.twitchWhisper = function (twitchUser, text) {\n\t    if (twitchUser.username === _this3.username) {\n\t      return;\n\t    }\n\t    var user = new __WEBPACK_IMPORTED_MODULE_2__user__[\"a\" /* default */](twitchUser.username);\n\t    _this3.receiveWhisper({ user: user, text: text, channel: twitchUser.username });\n\t  };\n\t\n\t  this.twitchPong = function () {};\n\t\n\t  this.twitchRoomstate = function () {};\n\t\n\t  this.twitchSlowmode = function () {};\n\t\n\t  this.twitchSubscribers = function () {};\n\t\n\t  this.twitchSubscription = function () {};\n\t\n\t  this.twitchTimeout = function () {};\n\t\n\t  this.twitchMods = function () {};\n\t\n\t  this.twitchNotice = function () {};\n\t};\n\t\n\t/* harmony default export */ exports[\"a\"] = TwitchAdapter;\n\n/***/ },\n/* 22 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_cryptr__ = __webpack_require__(35);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_cryptr___default = __WEBPACK_IMPORTED_MODULE_0_cryptr__ && __WEBPACK_IMPORTED_MODULE_0_cryptr__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_0_cryptr__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_0_cryptr__; };\n\t/* harmony import */ __webpack_require__.d(__WEBPACK_IMPORTED_MODULE_0_cryptr___default, 'a', __WEBPACK_IMPORTED_MODULE_0_cryptr___default);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lowdb__ = __webpack_require__(39);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lowdb___default = __WEBPACK_IMPORTED_MODULE_1_lowdb__ && __WEBPACK_IMPORTED_MODULE_1_lowdb__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_1_lowdb__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_1_lowdb__; };\n\t/* harmony import */ __webpack_require__.d(__WEBPACK_IMPORTED_MODULE_1_lowdb___default, 'a', __WEBPACK_IMPORTED_MODULE_1_lowdb___default);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_fs_extra__ = __webpack_require__(38);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_fs_extra___default = __WEBPACK_IMPORTED_MODULE_2_fs_extra__ && __WEBPACK_IMPORTED_MODULE_2_fs_extra__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_2_fs_extra__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_2_fs_extra__; };\n\t/* harmony import */ __webpack_require__.d(__WEBPACK_IMPORTED_MODULE_2_fs_extra___default, 'a', __WEBPACK_IMPORTED_MODULE_2_fs_extra___default);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_underscore_db__ = __webpack_require__(42);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_underscore_db___default = __WEBPACK_IMPORTED_MODULE_3_underscore_db__ && __WEBPACK_IMPORTED_MODULE_3_underscore_db__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_3_underscore_db__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_3_underscore_db__; };\n\t/* harmony import */ __webpack_require__.d(__WEBPACK_IMPORTED_MODULE_3_underscore_db___default, 'a', __WEBPACK_IMPORTED_MODULE_3_underscore_db___default);\n\t\n\t/* harmony export */ __webpack_require__.d(exports, \"deserialize\", function() { return deserialize; });\n\t/* harmony export */ __webpack_require__.d(exports, \"serialize\", function() { return serialize; });\n\t/* harmony export */ __webpack_require__.d(exports, \"read\", function() { return read; });\n\t/* harmony export */ __webpack_require__.d(exports, \"write\", function() { return write; });\n\t/* harmony export */ __webpack_require__.d(exports, \"readLocal\", function() { return readLocal; });\n\t/* harmony export */ __webpack_require__.d(exports, \"writeLocal\", function() { return writeLocal; });\n\t/* harmony export */ __webpack_require__.d(exports, \"DB\", function() { return DB; });function _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { return step(\"next\", value); }, function (err) { return step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\t\n\t\n\t\n\t\n\t\n\t\n\tvar deserialize = function deserialize(cryptr) {\n\t  return function (str) {\n\t    if (!str) {\n\t      return {};\n\t    }\n\t    var decrypted = cryptr.decrypt(str);\n\t    var obj = JSON.parse(decrypted);\n\t    return obj;\n\t  };\n\t};\n\t\n\tvar serialize = function serialize(cryptr) {\n\t  return function (obj) {\n\t    var str = JSON.stringify(obj);\n\t    var encrypted = cryptr.encrypt(str);\n\t    return encrypted;\n\t  };\n\t};\n\t\n\tvar read = function read(readFile) {\n\t  return function (path, deserialize) {\n\t    return new Promise(function (resolve, reject) {\n\t      readFile(path).then(function (data) {\n\t        try {\n\t          resolve(deserialize(data));\n\t        } catch (e) {\n\t          reject(e);\n\t        }\n\t      });\n\t    });\n\t  };\n\t};\n\t\n\tvar write = function write(writeFile) {\n\t  return function (path, obj, serialize) {\n\t    return new Promise(function (resolve, reject) {\n\t      try {\n\t        var data = serialize(obj);\n\t        writeFile(path, data).then(resolve, reject);\n\t      } catch (e) {\n\t        reject(e);\n\t      }\n\t    });\n\t  };\n\t};\n\t\n\tvar readLocal = function readLocal(path) {\n\t  return new Promise(function (resolve, reject) {\n\t    __WEBPACK_IMPORTED_MODULE_2_fs_extra___default.a.ensureFile(path, function (err) {\n\t      if (err) {\n\t        return reject(err);\n\t      }\n\t      __WEBPACK_IMPORTED_MODULE_2_fs_extra___default.a.readFile(path, 'utf8', function (err, data) {\n\t        if (err) {\n\t          return reject(err);\n\t        }\n\t        return resolve(data);\n\t      });\n\t    });\n\t  });\n\t};\n\t\n\tvar writeLocal = function writeLocal(path, data) {\n\t  return new Promise(function (resolve, reject) {\n\t    __WEBPACK_IMPORTED_MODULE_2_fs_extra___default.a.ensureFile(path, function (err) {\n\t      if (err) {\n\t        return reject(err);\n\t      }\n\t      __WEBPACK_IMPORTED_MODULE_2_fs_extra___default.a.writeFile(path, data, 'utf8', function (err) {\n\t        if (err) {\n\t          return reject(err);\n\t        }\n\t        return resolve(data);\n\t      });\n\t    });\n\t  });\n\t};\n\t\n\tvar DB = function () {\n\t  var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(_ref) {\n\t    var path = _ref.path;\n\t    var key = _ref.key;\n\t    var _ref$readFile = _ref.readFile;\n\t    var readFile = _ref$readFile === undefined ? readLocal : _ref$readFile;\n\t    var _ref$writeFile = _ref.writeFile;\n\t    var writeFile = _ref$writeFile === undefined ? writeLocal : _ref$writeFile;\n\t    var cryptr, dbPath, db;\n\t    return regeneratorRuntime.wrap(function _callee$(_context) {\n\t      while (1) {\n\t        switch (_context.prev = _context.next) {\n\t          case 0:\n\t            cryptr = new __WEBPACK_IMPORTED_MODULE_0_cryptr___default.a(key || name);\n\t            dbPath = path || './data/' + name + '.json';\n\t            _context.next = 4;\n\t            return new __WEBPACK_IMPORTED_MODULE_1_lowdb___default.a(dbPath, {\n\t              storage: {\n\t                read: read(readFile),\n\t                write: write(writeFile)\n\t              },\n\t              format: {\n\t                deserialize: deserialize(cryptr),\n\t                serialize: serialize(cryptr)\n\t              }\n\t            });\n\t\n\t          case 4:\n\t            db = _context.sent;\n\t\n\t\n\t            db._.mixin(__WEBPACK_IMPORTED_MODULE_3_underscore_db___default.a);\n\t            return _context.abrupt('return', db);\n\t\n\t          case 7:\n\t          case 'end':\n\t            return _context.stop();\n\t        }\n\t      }\n\t    }, _callee, this);\n\t  }));\n\t\n\t  return function DB(_x) {\n\t    return ref.apply(this, arguments);\n\t  };\n\t}();\n\n/***/ },\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_aws_sdk__ = __webpack_require__(34);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_aws_sdk___default = __WEBPACK_IMPORTED_MODULE_0_aws_sdk__ && __WEBPACK_IMPORTED_MODULE_0_aws_sdk__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_0_aws_sdk__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_0_aws_sdk__; };\n\t/* harmony import */ __webpack_require__.d(__WEBPACK_IMPORTED_MODULE_0_aws_sdk___default, 'a', __WEBPACK_IMPORTED_MODULE_0_aws_sdk___default);\n\t/* harmony export */ exports[\"readS3\"] = readS3;/* harmony export */ exports[\"writeS3\"] = writeS3;\n\t/* harmony export */ __webpack_require__.d(exports, \"createS3Bucket\", function() { return createS3Bucket; });var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\t\n\tfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { return step(\"next\", value); }, function (err) { return step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\t\n\t\n\t\n\tfunction readS3(region, accessKeyId, secretAccessKey, bucket) {\n\t  var createBucket = arguments.length <= 4 || arguments[4] === undefined ? false : arguments[4];\n\t\n\t  return function () {\n\t    var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(path) {\n\t      var _this = this;\n\t\n\t      var _ret;\n\t\n\t      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n\t        while (1) {\n\t          switch (_context2.prev = _context2.next) {\n\t            case 0:\n\t              _context2.prev = 0;\n\t              return _context2.delegateYield(regeneratorRuntime.mark(function _callee() {\n\t                var s3bucket;\n\t                return regeneratorRuntime.wrap(function _callee$(_context) {\n\t                  while (1) {\n\t                    switch (_context.prev = _context.next) {\n\t                      case 0:\n\t                        console.log('trying to read');\n\t\n\t                        if (!createBucket) {\n\t                          _context.next = 4;\n\t                          break;\n\t                        }\n\t\n\t                        _context.next = 4;\n\t                        return createS3Bucket(region, accessKeyId, secretAccessKey, bucket);\n\t\n\t                      case 4:\n\t                        s3bucket = new __WEBPACK_IMPORTED_MODULE_0_aws_sdk___default.a.S3({\n\t                          region: region,\n\t                          accessKeyId: accessKeyId,\n\t                          secretAccessKey: secretAccessKey,\n\t                          params: {\n\t                            Bucket: bucket\n\t                          }\n\t                        });\n\t                        return _context.abrupt('return', {\n\t                          v: new Promise(function (resolve, reject) {\n\t                            s3bucket.getObject({\n\t                              Bucket: bucket,\n\t                              Key: path\n\t                            }, function (err, data) {\n\t                              if (err && err.statusCode === 404) {\n\t                                return resolve('');\n\t                              }\n\t                              if (err) {\n\t                                return reject(err);\n\t                              }\n\t                              return resolve(data.Body.toString());\n\t                            });\n\t                          })\n\t                        });\n\t\n\t                      case 6:\n\t                      case 'end':\n\t                        return _context.stop();\n\t                    }\n\t                  }\n\t                }, _callee, _this);\n\t              })(), 't0', 2);\n\t\n\t            case 2:\n\t              _ret = _context2.t0;\n\t\n\t              if (!((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === \"object\")) {\n\t                _context2.next = 5;\n\t                break;\n\t              }\n\t\n\t              return _context2.abrupt('return', _ret.v);\n\t\n\t            case 5:\n\t              _context2.next = 10;\n\t              break;\n\t\n\t            case 7:\n\t              _context2.prev = 7;\n\t              _context2.t1 = _context2['catch'](0);\n\t              console.log(_context2.t1);\n\t            case 10:\n\t            case 'end':\n\t              return _context2.stop();\n\t          }\n\t        }\n\t      }, _callee2, this, [[0, 7]]);\n\t    }));\n\t\n\t    return function (_x2) {\n\t      return ref.apply(this, arguments);\n\t    };\n\t  }();\n\t}\n\t\n\tfunction writeS3(region, accessKeyId, secretAccessKey, bucket) {\n\t  var createBucket = arguments.length <= 4 || arguments[4] === undefined ? false : arguments[4];\n\t\n\t  return function () {\n\t    var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee4(path, data) {\n\t      var _this2 = this;\n\t\n\t      var _ret2;\n\t\n\t      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n\t        while (1) {\n\t          switch (_context4.prev = _context4.next) {\n\t            case 0:\n\t              _context4.prev = 0;\n\t              return _context4.delegateYield(regeneratorRuntime.mark(function _callee3() {\n\t                var s3bucket;\n\t                return regeneratorRuntime.wrap(function _callee3$(_context3) {\n\t                  while (1) {\n\t                    switch (_context3.prev = _context3.next) {\n\t                      case 0:\n\t                        if (!createBucket) {\n\t                          _context3.next = 3;\n\t                          break;\n\t                        }\n\t\n\t                        _context3.next = 3;\n\t                        return createS3Bucket(region, accessKeyId, secretAccessKey, bucket);\n\t\n\t                      case 3:\n\t                        s3bucket = new __WEBPACK_IMPORTED_MODULE_0_aws_sdk___default.a.S3({\n\t                          region: region,\n\t                          accessKeyId: accessKeyId,\n\t                          secretAccessKey: secretAccessKey,\n\t                          params: {\n\t                            Bucket: bucket,\n\t                            Key: path\n\t                          }\n\t                        });\n\t                        return _context3.abrupt('return', {\n\t                          v: new Promise(function (resolve, reject) {\n\t                            s3bucket.upload({ Body: data }, function (err, data) {\n\t                              if (err) {\n\t                                return reject(err);\n\t                              }\n\t                              resolve(data);\n\t                            });\n\t                          })\n\t                        });\n\t\n\t                      case 5:\n\t                      case 'end':\n\t                        return _context3.stop();\n\t                    }\n\t                  }\n\t                }, _callee3, _this2);\n\t              })(), 't0', 2);\n\t\n\t            case 2:\n\t              _ret2 = _context4.t0;\n\t\n\t              if (!((typeof _ret2 === 'undefined' ? 'undefined' : _typeof(_ret2)) === \"object\")) {\n\t                _context4.next = 5;\n\t                break;\n\t              }\n\t\n\t              return _context4.abrupt('return', _ret2.v);\n\t\n\t            case 5:\n\t              _context4.next = 10;\n\t              break;\n\t\n\t            case 7:\n\t              _context4.prev = 7;\n\t              _context4.t1 = _context4['catch'](0);\n\t              console.log(_context4.t1);\n\t            case 10:\n\t            case 'end':\n\t              return _context4.stop();\n\t          }\n\t        }\n\t      }, _callee4, this, [[0, 7]]);\n\t    }));\n\t\n\t    return function (_x4, _x5) {\n\t      return ref.apply(this, arguments);\n\t    };\n\t  }();\n\t}\n\t\n\tvar createS3Bucket = function () {\n\t  var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee5(region, accessKeyId, secretAccessKey, bucket) {\n\t    var _ret3;\n\t\n\t    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n\t      while (1) {\n\t        switch (_context5.prev = _context5.next) {\n\t          case 0:\n\t            _context5.prev = 0;\n\t\n\t            _ret3 = function () {\n\t              var newBucket = new __WEBPACK_IMPORTED_MODULE_0_aws_sdk___default.a.S3({\n\t                region: region,\n\t                accessKeyId: accessKeyId,\n\t                secretAccessKey: secretAccessKey,\n\t                params: {\n\t                  Bucket: bucket\n\t                }\n\t              });\n\t\n\t              return {\n\t                v: new Promise(function (resolve) {\n\t                  return newBucket.createBucket(resolve);\n\t                })\n\t              };\n\t            }();\n\t\n\t            if (!((typeof _ret3 === 'undefined' ? 'undefined' : _typeof(_ret3)) === \"object\")) {\n\t              _context5.next = 4;\n\t              break;\n\t            }\n\t\n\t            return _context5.abrupt('return', _ret3.v);\n\t\n\t          case 4:\n\t            _context5.next = 9;\n\t            break;\n\t\n\t          case 6:\n\t            _context5.prev = 6;\n\t            _context5.t0 = _context5['catch'](0);\n\t            console.log(_context5.t0);\n\t          case 9:\n\t          case 'end':\n\t            return _context5.stop();\n\t        }\n\t      }\n\t    }, _callee5, this, [[0, 6]]);\n\t  }));\n\t\n\t  return function createS3Bucket(_x6, _x7, _x8, _x9) {\n\t    return ref.apply(this, arguments);\n\t  };\n\t}();\n\n/***/ },\n/* 24 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_polyfill__ = __webpack_require__(13);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_polyfill___default = __WEBPACK_IMPORTED_MODULE_0_babel_polyfill__ && __WEBPACK_IMPORTED_MODULE_0_babel_polyfill__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_0_babel_polyfill__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_0_babel_polyfill__; };\n\t/* harmony import */ __webpack_require__.d(__WEBPACK_IMPORTED_MODULE_0_babel_polyfill___default, 'a', __WEBPACK_IMPORTED_MODULE_0_babel_polyfill___default);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_eventemitter3__ = __webpack_require__(14);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_eventemitter3___default = __WEBPACK_IMPORTED_MODULE_1_eventemitter3__ && __WEBPACK_IMPORTED_MODULE_1_eventemitter3__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_1_eventemitter3__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_1_eventemitter3__; };\n\t/* harmony import */ __webpack_require__.d(__WEBPACK_IMPORTED_MODULE_1_eventemitter3___default, 'a', __WEBPACK_IMPORTED_MODULE_1_eventemitter3___default);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_log__ = __webpack_require__(12);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_log___default = __WEBPACK_IMPORTED_MODULE_2_log__ && __WEBPACK_IMPORTED_MODULE_2_log__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_2_log__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_2_log__; };\n\t/* harmony import */ __webpack_require__.d(__WEBPACK_IMPORTED_MODULE_2_log___default, 'a', __WEBPACK_IMPORTED_MODULE_2_log___default);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_superagent__ = __webpack_require__(15);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_superagent___default = __WEBPACK_IMPORTED_MODULE_3_superagent__ && __WEBPACK_IMPORTED_MODULE_3_superagent__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_3_superagent__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_3_superagent__; };\n\t/* harmony import */ __webpack_require__.d(__WEBPACK_IMPORTED_MODULE_3_superagent___default, 'a', __WEBPACK_IMPORTED_MODULE_3_superagent___default);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_superagent_promise_plugin__ = __webpack_require__(16);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_superagent_promise_plugin___default = __WEBPACK_IMPORTED_MODULE_4_superagent_promise_plugin__ && __WEBPACK_IMPORTED_MODULE_4_superagent_promise_plugin__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_4_superagent_promise_plugin__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_4_superagent_promise_plugin__; };\n\t/* harmony import */ __webpack_require__.d(__WEBPACK_IMPORTED_MODULE_4_superagent_promise_plugin___default, 'a', __WEBPACK_IMPORTED_MODULE_4_superagent_promise_plugin___default);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__db__ = __webpack_require__(4);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__adapters__ = __webpack_require__(9);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__messages__ = __webpack_require__(10);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__plugins__ = __webpack_require__(11);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__user__ = __webpack_require__(1);\n\t\n\t/* harmony export */ __webpack_require__.d(exports, \"Exobot\", function() { return Exobot; });/* harmony namespace reexport */ for(var __WEBPACK_IMPORT_KEY__ in __WEBPACK_IMPORTED_MODULE_6__adapters__) if([\"Exobot\",\"User\",\"default\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(exports, key, function() { return __WEBPACK_IMPORTED_MODULE_6__adapters__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n\t/* harmony namespace reexport */ for(var __WEBPACK_IMPORT_KEY__ in __WEBPACK_IMPORTED_MODULE_7__messages__) if([\"Exobot\",\"User\",\"default\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(exports, key, function() { return __WEBPACK_IMPORTED_MODULE_7__messages__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n\t/* harmony namespace reexport */ for(var __WEBPACK_IMPORT_KEY__ in __WEBPACK_IMPORTED_MODULE_8__plugins__) if([\"Exobot\",\"User\",\"default\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(exports, key, function() { return __WEBPACK_IMPORTED_MODULE_8__plugins__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n\t/* harmony namespace reexport */ for(var __WEBPACK_IMPORT_KEY__ in __WEBPACK_IMPORTED_MODULE_5__db__) if([\"Exobot\",\"User\",\"default\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(exports, key, function() { return __WEBPACK_IMPORTED_MODULE_5__db__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n\t/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_9__user__, \"a\")) __webpack_require__.d(exports, \"User\", function() { return __WEBPACK_IMPORTED_MODULE_9__user__[\"a\"]; });\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t__WEBPACK_IMPORTED_MODULE_4_superagent_promise_plugin___default.a.Promise = Promise;\n\t\n\tvar http = __WEBPACK_IMPORTED_MODULE_4_superagent_promise_plugin___default.a.patch(__WEBPACK_IMPORTED_MODULE_3_superagent___default.a);\n\t\n\t\n\t\n\tvar Exobot = function () {\n\t  function Exobot(name) {\n\t    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\t\n\t    _classCallCheck(this, Exobot);\n\t\n\t    _initialiseProps.call(this);\n\t\n\t    this.name = name;\n\t    this.alias = options.alias;\n\t    this.emitter = new __WEBPACK_IMPORTED_MODULE_1_eventemitter3___default.a();\n\t    this.http = http;\n\t\n\t    this.initLog(options.logLevel || __WEBPACK_IMPORTED_MODULE_2_log___default.a.WARNING);\n\t    this.initAdapters(options.adapters);\n\t    this.initPlugins(options.plugins);\n\t\n\t    var dbPath = options.dbPath || './data/' + name + '.json';\n\t    this.initDB(options.key, dbPath, options.readFile, options.writeFile);\n\t  }\n\t\n\t  _createClass(Exobot, [{\n\t    key: 'addPlugin',\n\t    value: function addPlugin(plugin) {\n\t      plugin.register(this);\n\t      this.plugins.push(plugin);\n\t    }\n\t  }, {\n\t    key: 'addAdapter',\n\t    value: function addAdapter(adapter) {\n\t      adapter.register(this);\n\t      this.adapters[adapter.id] = adapter;\n\t    }\n\t  }, {\n\t    key: 'prependNameForWhisper',\n\t    value: function prependNameForWhisper(text) {\n\t      if (text.slice(0, this.name.length).toLowerCase() !== this.name.toLowerCase() && text.slice(0, this.alias.length).toLowerCase() !== this.alias.toLowerCase()) {\n\t        text = this.name + ' ' + text;\n\t      }\n\t\n\t      return text;\n\t    }\n\t  }]);\n\t\n\t  return Exobot;\n\t}();\n\t\n\tvar _initialiseProps = function _initialiseProps() {\n\t  var _this = this;\n\t\n\t  this.plugins = [];\n\t  this.adapters = {};\n\t\n\t  this.initAdapters = function () {\n\t    var adapters = arguments.length <= 0 || arguments[0] === undefined ? [] : arguments[0];\n\t\n\t    adapters.forEach(function (a) {\n\t      return _this.addAdapter(a);\n\t    });\n\t  };\n\t\n\t  this.initPlugins = function () {\n\t    var plugins = arguments.length <= 0 || arguments[0] === undefined ? [] : arguments[0];\n\t\n\t    plugins.forEach(function (p) {\n\t      return _this.addPlugin(p);\n\t    });\n\t  };\n\t\n\t  this.initLog = function (logLevel) {\n\t    var log = new __WEBPACK_IMPORTED_MODULE_2_log___default.a(logLevel || __WEBPACK_IMPORTED_MODULE_2_log___default.a.WARNING);\n\t    _this.log = log;\n\t    _this.logLevel = logLevel;\n\t\n\t    if (logLevel === __WEBPACK_IMPORTED_MODULE_2_log___default.a.DEBUG) {\n\t      setInterval(_this.logProcess, 10000);\n\t    }\n\t  };\n\t\n\t  this.initDB = function (key, dbPath, readFile, writeFile) {\n\t    if (!key) {\n\t      _this.log.critical('Pass options.key in to bot initializer. Database not initializing.');\n\t      return;\n\t    }\n\t\n\t    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__db__[\"DB\"])({\n\t      key: key,\n\t      readFile: readFile,\n\t      writeFile: writeFile,\n\t      path: dbPath,\n\t      emitter: _this.emitter\n\t    }).then(function (db) {\n\t      _this.db = db;\n\t      _this.emitter.emit('dbLoaded', db);\n\t    }, _this.log.critical);\n\t  };\n\t\n\t  this.logProcess = function () {\n\t    _this.log.debug(process.memoryUsage(), process.cpuUsage());\n\t  };\n\t};\n\t\n\t\n\t\n\t\n\t\n\n\n/***/ },\n/* 25 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__plugin__ = __webpack_require__(3);\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t\n\t\n\tvar EventPlugin = function (_Plugin) {\n\t  _inherits(EventPlugin, _Plugin);\n\t\n\t  function EventPlugin() {\n\t    _classCallCheck(this, EventPlugin);\n\t\n\t    return _possibleConstructorReturn(this, Object.getPrototypeOf(EventPlugin).apply(this, arguments));\n\t  }\n\t\n\t  return EventPlugin;\n\t}(__WEBPACK_IMPORTED_MODULE_0__plugin__[\"a\" /* default */]);\n\t\n\t/* harmony default export */ exports[\"a\"] = EventPlugin;\n\n/***/ },\n/* 26 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__plugin__ = __webpack_require__(3);\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t\n\t\n\tvar HTTPPlugin = function (_Plugin) {\n\t  _inherits(HTTPPlugin, _Plugin);\n\t\n\t  function HTTPPlugin() {\n\t    _classCallCheck(this, HTTPPlugin);\n\t\n\t    return _possibleConstructorReturn(this, Object.getPrototypeOf(HTTPPlugin).apply(this, arguments));\n\t  }\n\t\n\t  return HTTPPlugin;\n\t}(__WEBPACK_IMPORTED_MODULE_0__plugin__[\"a\" /* default */]);\n\t\n\t/* harmony default export */ exports[\"a\"] = HTTPPlugin;\n\n/***/ },\n/* 27 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__chat__ = __webpack_require__(0);\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { return step(\"next\", value); }, function (err) { return step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t\n\t\n\tvar DBPlugin = function (_ChatPlugin) {\n\t  _inherits(DBPlugin, _ChatPlugin);\n\t\n\t  function DBPlugin() {\n\t    _classCallCheck(this, DBPlugin);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(DBPlugin).apply(this, arguments));\n\t\n\t    _this.help = 'dbdump: dump the database. Say \"<botname> dbdump\".';\n\t\n\t    _this.respond(/^db dump/i, _this.dump);\n\t    _this.respond(/^db clear/i, _this.clear);\n\t    return _this;\n\t  }\n\t\n\t  _createClass(DBPlugin, [{\n\t    key: 'dump',\n\t    value: function () {\n\t      var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n\t        return regeneratorRuntime.wrap(function _callee$(_context) {\n\t          while (1) {\n\t            switch (_context.prev = _context.next) {\n\t              case 0:\n\t                _context.next = 2;\n\t                return this.databaseInitialized();\n\t\n\t              case 2:\n\t                return _context.abrupt('return', this.bot.db.getState());\n\t\n\t              case 3:\n\t              case 'end':\n\t                return _context.stop();\n\t            }\n\t          }\n\t        }, _callee, this);\n\t      }));\n\t\n\t      function dump() {\n\t        return ref.apply(this, arguments);\n\t      }\n\t\n\t      return dump;\n\t    }()\n\t  }, {\n\t    key: 'clear',\n\t    value: function () {\n\t      var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n\t        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n\t          while (1) {\n\t            switch (_context2.prev = _context2.next) {\n\t              case 0:\n\t                _context2.next = 2;\n\t                return this.databaseInitialized();\n\t\n\t              case 2:\n\t\n\t                this.bot.log.critical('Database clearing. You may need to restart your bot.');\n\t                this.bot.db.setState();\n\t\n\t                // reinitialize plugins so that those with default databases can re-set-up\n\t                this.bot.initializePlugins();\n\t\n\t              case 5:\n\t              case 'end':\n\t                return _context2.stop();\n\t            }\n\t          }\n\t        }, _callee2, this);\n\t      }));\n\t\n\t      function clear() {\n\t        return ref.apply(this, arguments);\n\t      }\n\t\n\t      return clear;\n\t    }()\n\t  }]);\n\t\n\t  return DBPlugin;\n\t}(__WEBPACK_IMPORTED_MODULE_0__chat__[\"a\" /* default */]);\n\t\n\t/* harmony default export */ exports[\"a\"] = DBPlugin;\n\n/***/ },\n/* 28 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__chat__ = __webpack_require__(0);\n\t/* unused harmony export ENDPOINT */var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { return step(\"next\", value); }, function (err) { return step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t\n\t\n\tvar ENDPOINT = 'http://api.giphy.com/v1/gifs/search';\n\t\n\tvar GiphyPlugin = function (_ChatPlugin) {\n\t  _inherits(GiphyPlugin, _ChatPlugin);\n\t\n\t  function GiphyPlugin() {\n\t    var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\t\n\t    _classCallCheck(this, GiphyPlugin);\n\t\n\t    var apiKey = options.apiKey;\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(GiphyPlugin).apply(this, arguments));\n\t\n\t    _this.help = 'Help: Explains commands. Say \"<botname> help\" for information.';\n\t\n\t    _this.respond(/^(?:gif|giphy)(?:\\sme)?\\s+(.*)/i, _this.giphy);\n\t\n\t    _this.apiKey = apiKey;\n\t    return _this;\n\t  }\n\t\n\t  _createClass(GiphyPlugin, [{\n\t    key: 'register',\n\t    value: function register(bot) {\n\t      _get(Object.getPrototypeOf(GiphyPlugin.prototype), 'register', this).apply(this, arguments);\n\t\n\t      if (!this.apiKey) {\n\t        bot.log.critical('No apiKey passed to Giphy plugin; plugin will not work.');\n\t      }\n\t    }\n\t  }, {\n\t    key: 'giphy',\n\t    value: function () {\n\t      var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(_ref) {\n\t        var _ref2 = _slicedToArray(_ref, 2);\n\t\n\t        var search = _ref2[1];\n\t\n\t        var _ref3, body, data;\n\t\n\t        return regeneratorRuntime.wrap(function _callee$(_context) {\n\t          while (1) {\n\t            switch (_context.prev = _context.next) {\n\t              case 0:\n\t                _context.prev = 0;\n\t                _context.next = 3;\n\t                return this.bot.http.get(ENDPOINT).query({ q: search, api_key: this.apiKey });\n\t\n\t              case 3:\n\t                _ref3 = _context.sent;\n\t                body = _ref3.body;\n\t                data = body.data;\n\t\n\t                if (!data.length) {\n\t                  _context.next = 8;\n\t                  break;\n\t                }\n\t\n\t                return _context.abrupt('return', data[parseInt(Math.random() * data.length)].images.original.url);\n\t\n\t              case 8:\n\t                _context.next = 14;\n\t                break;\n\t\n\t              case 10:\n\t                _context.prev = 10;\n\t                _context.t0 = _context['catch'](0);\n\t\n\t                this.bot.log.notice('Error returned from Giphy request.');\n\t                this.bot.log.debug(_context.t0);\n\t\n\t              case 14:\n\t              case 'end':\n\t                return _context.stop();\n\t            }\n\t          }\n\t        }, _callee, this, [[0, 10]]);\n\t      }));\n\t\n\t      function giphy(_x2) {\n\t        return ref.apply(this, arguments);\n\t      }\n\t\n\t      return giphy;\n\t    }()\n\t  }]);\n\t\n\t  return GiphyPlugin;\n\t}(__WEBPACK_IMPORTED_MODULE_0__chat__[\"a\" /* default */]);\n\t\n\t/* harmony default export */ exports[\"a\"] = GiphyPlugin;\n\n/***/ },\n/* 29 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__chat__ = __webpack_require__(0);\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t\n\t\n\tvar GREETINGS = ['hi', 'hello', 'sup', 'greetings', 'yo', 'hey'];\n\t\n\tvar FAREWELLS = ['goodbye', 'farwell', 'bye', 'later', 'see ya', 'cya'];\n\t\n\tvar regex = function regex(botname, list) {\n\t  return new RegExp('^(' + list.join('|') + ')[,\\\\s]*' + botname, 'i');\n\t};\n\t\n\tvar GreetingPlugin = function (_ChatPlugin) {\n\t  _inherits(GreetingPlugin, _ChatPlugin);\n\t\n\t  function GreetingPlugin() {\n\t    var _Object$getPrototypeO;\n\t\n\t    var _temp, _this, _ret;\n\t\n\t    _classCallCheck(this, GreetingPlugin);\n\t\n\t    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t      args[_key] = arguments[_key];\n\t    }\n\t\n\t    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_Object$getPrototypeO = Object.getPrototypeOf(GreetingPlugin)).call.apply(_Object$getPrototypeO, [this].concat(args))), _this), _this.help = 'Greetings: says \"hi\" back. Say \"hi <botname>\" for a response.', _temp), _possibleConstructorReturn(_this, _ret);\n\t  }\n\t\n\t  _createClass(GreetingPlugin, [{\n\t    key: 'register',\n\t    value: function register(bot) {\n\t      _get(Object.getPrototypeOf(GreetingPlugin.prototype), 'register', this).apply(this, arguments);\n\t\n\t      this.listen(regex(bot.name, GREETINGS), this.greeting);\n\t      this.listen(function (m) {\n\t        return GREETINGS.includes(m.text.toLowerCase());\n\t      }, this.greeting);\n\t      this.respond(function (m) {\n\t        return GREETINGS.includes(m.text.toLowerCase());\n\t      }, this.greeting);\n\t\n\t      this.listen(regex(bot.name, FAREWELLS), this.farewell);\n\t      this.listen(function (m) {\n\t        return FAREWELLS.includes(m.text.toLowerCase());\n\t      }, this.farewell);\n\t      this.respond(function (m) {\n\t        return FAREWELLS.includes(m.text.toLowerCase());\n\t      }, this.farewell);\n\t    }\n\t  }, {\n\t    key: 'greeting',\n\t    value: function greeting(_, message) {\n\t      var randomGreeting = GREETINGS[parseInt(Math.random() * GREETINGS.length)];\n\t      return randomGreeting + ', ' + message.user.name + '!';\n\t    }\n\t  }, {\n\t    key: 'farewell',\n\t    value: function farewell(_, message) {\n\t      var randomFarewell = FAREWELLS[parseInt(Math.random() * FAREWELLS.length)];\n\t      return randomFarewell + ', ' + message.user.name + '!';\n\t    }\n\t  }]);\n\t\n\t  return GreetingPlugin;\n\t}(__WEBPACK_IMPORTED_MODULE_0__chat__[\"a\" /* default */]);\n\t\n\t/* harmony default export */ exports[\"a\"] = GreetingPlugin;\n\n/***/ },\n/* 30 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__chat__ = __webpack_require__(0);\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t\n\t\n\tvar HelpPlugin = function (_ChatPlugin) {\n\t  _inherits(HelpPlugin, _ChatPlugin);\n\t\n\t  function HelpPlugin() {\n\t    _classCallCheck(this, HelpPlugin);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(HelpPlugin).apply(this, arguments));\n\t\n\t    _this.help = 'Help: Explains commands. Say \"<botname> help\" for information.';\n\t\n\t    _this.pluginHelp = function () {\n\t      return _this.bot.plugins.filter(function (p) {\n\t        return p.help;\n\t      }).map(function (p) {\n\t        return p.help;\n\t      }, []).join('\\n');\n\t    };\n\t\n\t    _this.respond(/^help$/i, _this.pluginHelp);\n\t    return _this;\n\t  }\n\t\n\t  return HelpPlugin;\n\t}(__WEBPACK_IMPORTED_MODULE_0__chat__[\"a\" /* default */]);\n\t\n\t/* harmony default export */ exports[\"a\"] = HelpPlugin;\n\n/***/ },\n/* 31 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__greetings__ = __webpack_require__(29);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__help__ = __webpack_require__(30);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__points__ = __webpack_require__(32);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__db__ = __webpack_require__(27);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__giphy__ = __webpack_require__(28);\n\t/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_0__greetings__, \"a\")) __webpack_require__.d(exports, \"Greetings\", function() { return __WEBPACK_IMPORTED_MODULE_0__greetings__[\"a\"]; });\n\t/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_1__help__, \"a\")) __webpack_require__.d(exports, \"Help\", function() { return __WEBPACK_IMPORTED_MODULE_1__help__[\"a\"]; });\n\t/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_2__points__, \"a\")) __webpack_require__.d(exports, \"Points\", function() { return __WEBPACK_IMPORTED_MODULE_2__points__[\"a\"]; });\n\t/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_3__db__, \"a\")) __webpack_require__.d(exports, \"DBDump\", function() { return __WEBPACK_IMPORTED_MODULE_3__db__[\"a\"]; });\n\t/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_4__giphy__, \"a\")) __webpack_require__.d(exports, \"Giphy\", function() { return __WEBPACK_IMPORTED_MODULE_4__giphy__[\"a\"]; });\n\t\n\t\n\t\n\t\n\n\n/***/ },\n/* 32 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__chat__ = __webpack_require__(0);\n\t/* unused harmony export nameToId */var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { return step(\"next\", value); }, function (err) { return step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t\n\t\n\tvar nameToId = function nameToId(name) {\n\t  return name.replace(/[^\\w]/g, '');\n\t};\n\t\n\tvar HelpPlugin = function (_ChatPlugin) {\n\t  _inherits(HelpPlugin, _ChatPlugin);\n\t\n\t  function HelpPlugin() {\n\t    _classCallCheck(this, HelpPlugin);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(HelpPlugin).apply(this, arguments));\n\t\n\t    _this.help = ['Points: add points to things. `thing++` or `thing--` adds or removes', 'points. Users are rate-limited from voting on the same thing multiple', 'times. Optionally add reasons: `thing++ for my reasons`.'].join(' ');\n\t\n\t\n\t    _this.listen(/^([\\s\\w'@.\\-:]*)\\s*\\+\\+(?:\\s+for (.*))?$/i, function (match) {\n\t      return _this.changePoints(match, 1);\n\t    });\n\t    _this.listen(/^([\\s\\w'@.\\-:]*)\\s*\\-\\-(?:\\s+for (.*))?$/i, function (match) {\n\t      return _this.changePoints(match, -1);\n\t    });\n\t    _this.respond(/^tops?\\s*(\\d*)?$/i, _this.tops);\n\t    _this.respond(/^score(?: for)?(.*)$/i, _this.score);\n\t    return _this;\n\t  }\n\t\n\t  _createClass(HelpPlugin, [{\n\t    key: 'register',\n\t    value: function register(bot) {\n\t      _get(Object.getPrototypeOf(HelpPlugin.prototype), 'register', this).call(this, bot);\n\t      this.database('points', { things: {}, tops: [] });\n\t    }\n\t  }, {\n\t    key: 'changePoints',\n\t    value: function () {\n\t      var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(_ref, val) {\n\t        var _ref2 = _slicedToArray(_ref, 3);\n\t\n\t        var match = _ref2[0];\n\t        var name = _ref2[1];\n\t        var reason = _ref2[2];\n\t        var id, points, reasonId, existingReason;\n\t        return regeneratorRuntime.wrap(function _callee$(_context) {\n\t          while (1) {\n\t            switch (_context.prev = _context.next) {\n\t              case 0:\n\t                name = name.trim();\n\t                id = nameToId(name);\n\t                _context.next = 4;\n\t                return this.databaseInitialized();\n\t\n\t              case 4:\n\t                points = this.bot.db.get('points.things.' + id).value();\n\t\n\t\n\t                if (!points) {\n\t                  points = this.buildPoints(name, id);\n\t                }\n\t\n\t                points.points = points.points + val;\n\t\n\t                if (reason) {\n\t                  reasonId = nameToId(reason);\n\t                  existingReason = points.reasons[reasonId] || { score: 0, reason: reason };\n\t\n\t                  existingReason.score++;\n\t\n\t                  points.reasons[reasonId] = existingReason;\n\t                }\n\t\n\t                this.bot.db.set('points.things.' + id, points).value();\n\t                this.bot.db.write();\n\t\n\t                this.updateTops();\n\t\n\t                return _context.abrupt('return', name + ' has ' + points.points + ' points.');\n\t\n\t              case 12:\n\t              case 'end':\n\t                return _context.stop();\n\t            }\n\t          }\n\t        }, _callee, this);\n\t      }));\n\t\n\t      function changePoints(_x, _x2) {\n\t        return ref.apply(this, arguments);\n\t      }\n\t\n\t      return changePoints;\n\t    }()\n\t  }, {\n\t    key: 'tops',\n\t    value: function () {\n\t      var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(_ref3) {\n\t        var _ref4 = _slicedToArray(_ref3, 2);\n\t\n\t        var match = _ref4[0];\n\t        var _ref4$ = _ref4[1];\n\t        var n = _ref4$ === undefined ? 10 : _ref4$;\n\t        var scores, tops, text;\n\t        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n\t          while (1) {\n\t            switch (_context2.prev = _context2.next) {\n\t              case 0:\n\t                _context2.next = 2;\n\t                return this.databaseInitialized();\n\t\n\t              case 2:\n\t\n\t                if (n > 25) {\n\t                  n = 25;\n\t                }\n\t\n\t                scores = this.bot.db.get('points.things').value();\n\t                tops = this.bot.db.get('points.tops').slice(0, n).value();\n\t                text = ['Top ' + Math.min(n, tops.length) + ':'];\n\t\n\t\n\t                tops.forEach(function (t) {\n\t                  return text.push(scores[t].name + ': ' + scores[t].points);\n\t                });\n\t\n\t                return _context2.abrupt('return', text.join('\\n'));\n\t\n\t              case 8:\n\t              case 'end':\n\t                return _context2.stop();\n\t            }\n\t          }\n\t        }, _callee2, this);\n\t      }));\n\t\n\t      function tops(_x3) {\n\t        return ref.apply(this, arguments);\n\t      }\n\t\n\t      return tops;\n\t    }()\n\t  }, {\n\t    key: 'score',\n\t    value: function () {\n\t      var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee3(_ref5) {\n\t        var _ref6 = _slicedToArray(_ref5, 2);\n\t\n\t        var match = _ref6[0];\n\t        var name = _ref6[1];\n\t        var id, points, reasons, text, reasonKeys;\n\t        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n\t          while (1) {\n\t            switch (_context3.prev = _context3.next) {\n\t              case 0:\n\t                name = name.trim();\n\t                id = nameToId(name);\n\t                _context3.next = 4;\n\t                return this.databaseInitialized();\n\t\n\t              case 4:\n\t                points = this.bot.db.get('points.things.' + id).value();\n\t                reasons = points.reasons;\n\t                text = [name + ' has ' + points.points + ' points.'];\n\t                reasonKeys = Object.keys(points.reasons);\n\t\n\t\n\t                if (reasonKeys.length > 0) {\n\t                  text.push('Here are some reasons:');\n\t\n\t                  reasonKeys.forEach(function (r) {\n\t                    text.push(reasons[r].reason + ': ' + reasons[r].score + ' points');\n\t                  });\n\t                }\n\t\n\t                return _context3.abrupt('return', text.join('\\n'));\n\t\n\t              case 10:\n\t              case 'end':\n\t                return _context3.stop();\n\t            }\n\t          }\n\t        }, _callee3, this);\n\t      }));\n\t\n\t      function score(_x4) {\n\t        return ref.apply(this, arguments);\n\t      }\n\t\n\t      return score;\n\t    }()\n\t  }, {\n\t    key: 'updateTops',\n\t    value: function () {\n\t      var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee4() {\n\t        var tops;\n\t        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n\t          while (1) {\n\t            switch (_context4.prev = _context4.next) {\n\t              case 0:\n\t                _context4.next = 2;\n\t                return this.databaseInitialized();\n\t\n\t              case 2:\n\t                tops = this.bot.db.get('points.things').orderBy('points', 'desc').map('id').value();\n\t\n\t\n\t                this.bot.db.set('points.tops', tops).value();\n\t                this.bot.db.write();\n\t\n\t              case 5:\n\t              case 'end':\n\t                return _context4.stop();\n\t            }\n\t          }\n\t        }, _callee4, this);\n\t      }));\n\t\n\t      function updateTops() {\n\t        return ref.apply(this, arguments);\n\t      }\n\t\n\t      return updateTops;\n\t    }()\n\t  }, {\n\t    key: 'buildPoints',\n\t    value: function buildPoints(name, id) {\n\t      return {\n\t        name: name,\n\t        id: id,\n\t        points: 0,\n\t        reasons: {}\n\t      };\n\t    }\n\t  }]);\n\t\n\t  return HelpPlugin;\n\t}(__WEBPACK_IMPORTED_MODULE_0__chat__[\"a\" /* default */]);\n\t\n\t/* harmony default export */ exports[\"a\"] = HelpPlugin;\n\n/***/ },\n/* 33 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"@slack/client\");\n\n/***/ },\n/* 34 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"aws-sdk\");\n\n/***/ },\n/* 35 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"cryptr\");\n\n/***/ },\n/* 36 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"discord.io\");\n\n/***/ },\n/* 37 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"events\");\n\n/***/ },\n/* 38 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"fs-extra\");\n\n/***/ },\n/* 39 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"lowdb\");\n\n/***/ },\n/* 40 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"readline\");\n\n/***/ },\n/* 41 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"tmi.js\");\n\n/***/ },\n/* 42 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"underscore-db\");\n\n/***/ },\n/* 43 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"util\");\n\n/***/ }\n/******/ ])\n});\n;\n\n\n// WEBPACK FOOTER //\n// exobot.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmory imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmory exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tObject.defineProperty(exports, name, {\n \t\t\tconfigurable: false,\n \t\t\tenumerable: true,\n \t\t\tget: getter\n \t\t});\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 24);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 4560e4cff81c0164792b","import Plugin from './plugin';\nimport TextMessage from '../messages/text';\n\nconst DEFAULT_REGEXP = /.+/;\n\nexport default class ChatPlugin extends Plugin {\n  regexp = DEFAULT_REGEXP;\n\n  respondFunctions = [];\n  listenFunctions = [];\n\n  constructor () {\n    super();\n  }\n\n  register (bot) {\n    this.bot = bot;\n    this.botNameRegex = new RegExp(`^(?:(?:${bot.name}|${bot.alias})[,\\\\s:.-]*)(.+)`);\n\n    bot.emitter.on('receive-message', m => {\n      this.respondFunctions.forEach(v => this.process(v[0], v[1], m, true));\n      this.listenFunctions.forEach(v => this.process(v[0], v[1], m));\n    });\n  }\n\n  process (validation, response, message, isResponder=false) {\n    if (isResponder) {\n      const text = this.validateBotName(message);\n\n      if (text) {\n        message = new TextMessage({ ...message, text, direct: true });\n      } else {\n        return;\n      }\n    }\n\n    if (validation.exec) { validation = this.validate(validation); }\n\n    const res = validation(message);\n\n    if (res) {\n      const text = response(res, message);\n\n      if (text) {\n        if (text instanceof Promise) {\n          text.then(t => {\n            const newMessage = new TextMessage({ ...message, text: t });\n            this.bot.emitter.emit(`send-message:${message.adapter}`, newMessage);\n          });\n        } else {\n          const newMessage = new TextMessage({ ...message, text });\n          this.bot.emitter.emit(`send-message:${message.adapter}`, newMessage);\n        }\n      }\n    }\n  }\n\n  validate (regex) {\n    return message => regex.exec(message.text);\n  }\n\n  validateBotName (message) {\n    const exec = this.botNameRegex.exec(message.text);\n    if (!exec) { return; }\n\n    return exec[1];\n  }\n\n  respond (validation, fn) {\n    if (fn) { fn = fn.bind(this); }\n    this.respondFunctions.push([validation, fn]);\n  }\n\n  listen (validation, fn) {\n    if (fn) { fn = fn.bind(this); }\n    this.listenFunctions.push([validation, fn]);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/chat.js","export default class User {\n  constructor (name, id=name) {\n    this.name = name;\n    this.id = id;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/user.js","import { v4 as uuid } from 'node-uuid';\n\nimport TextMessage from '../messages/text';\nimport PresenceMessage from '../messages/presence';\n\nexport default class Adapter {\n  static STATUS = {\n    UNINITIALIZED: 0,\n    CONNECTING: 1,\n    CONNECTED: 2,\n    DISCONNECTED: 3,\n    RECONNECTING: 4,\n    ERROR: 5,\n  }\n\n  constructor (options={}) {\n    this.options = options;\n    this.id = options.id || uuid();\n    this.status = Adapter.STATUS.UNINITIALIZED;\n  }\n\n  register (bot) {\n    if (!bot) { throw new Error('No bot passed to register; fatal.'); }\n\n    this.bot = bot;\n\n    this.status = Adapter.STATUS.CONNECTING;\n    this.listen();\n  }\n\n  listen () {\n    if (!this.bot) { throw new Error('No bot to listen on; fatal.'); }\n    this.bot.emitter.on(`send-message:${this.id}`, this.send.bind(this));\n  }\n\n  receive ({ user, text, channel, whisper }) {\n    const message = new TextMessage({ user, text, channel, whisper, adapter: this.id });\n    this.bot.emitter.emit('receive-message', message);\n  }\n\n  receiveWhisper ({ user, text, channel }) {\n    text = this.bot.prependNameForWhisper(text);\n    this.receive({ user, text, channel, whisper: true });\n  }\n\n  enter ({ user, channel }) {\n    const message = new PresenceMessage({\n      user,\n      channel,\n      adapter: this.id,\n      type: PresenceMessage.TYPES.ENTER,\n    });\n\n    this.bot.emitter.emit('enter', message);\n  }\n\n  leave ({ user, channel }) {\n    const message = new PresenceMessage({\n      user,\n      channel,\n      adapter: this.id,\n      type: PresenceMessage.TYPES.LEAVE,\n    });\n\n    this.bot.emitter.emit('leave', message);\n  }\n\n  send (message) {\n    console.log(message.text);\n  }\n\n  ping () {\n    this.pong();\n  }\n\n  pong () {\n    console.log('Ping received, this.pong() not implemented.');\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/adapters/adapter.js","export default class Plugin {\n  help = undefined;\n  _requiresDatabase = false;\n\n  constructor (options={}) {\n    this.options = options;\n  }\n\n  register (bot) {\n    if (!bot) { throw new Error('No bot passed to register; fatal.'); }\n\n    this.bot = bot;\n  }\n\n  listen () {\n    if (!this.bot) { throw new Error('No bot to listen on; fatal.'); }\n  }\n\n  async database (name, defaultValue) {\n    await this.databaseInitialized();\n    const val = this.bot.db.get(name).value();\n\n    if (typeof val === 'undefined') {\n      this.bot.db.set(name, defaultValue).value();\n    }\n  }\n\n  async databaseInitialized () {\n    this._requiresDatabase = true;\n\n    if (this._requiresDatabase && this.bot.db) {\n      return true;\n    }\n\n    return new Promise((resolve) => {\n      this.bot.emitter.on('dbLoaded', resolve);\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/plugin.js","import { v4 as uuid } from 'node-uuid';\n\nexport default class Message {\n  constructor ({ user, channel, adapter, id=uuid() }) {\n    this.user = user;\n    this.channel = channel;\n    this.adapter = adapter;\n    this.id = id;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/messages/message.js","import Message from './message';\n\nexport default class TextMessage extends Message {\n  constructor ({ text, whisper=false }) {\n    super(...arguments);\n    this.text = text;\n    this.whisper = whisper;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/messages/text.js","import Message from './message';\n\nexport default class PresenceMessage extends Message {\n  static TYPES = {\n    ENTER: 0,\n    LEAVE: 1,\n  }\n\n  constructor ({ type }) {\n    super(...arguments);\n    this.type = type;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/messages/presence.js","module.exports = require(\"node-uuid\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"node-uuid\"\n// module id = 8\n// module chunks = 0","export { default as Adapter } from './adapter';\n\nimport * as a from './adapters';\nexport const adapters = a;\n\n\n\n// WEBPACK FOOTER //\n// ./src/adapters/index.js","export { default as Plugin } from './plugin';\nexport { default as ChatPlugin } from './chat';\nexport { default as EventPlugin } from './event';\nexport { default as HTTPPlugin } from './http';\n\nimport * as p from './plugins';\nexport const plugins = p;\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/index.js","/*!\n * Log.js\n * Copyright(c) 2010 TJ Holowaychuk <tj@vision-media.ca>\n * MIT Licensed\n */\n\n/**\n * Module dependencies.\n */\n\nvar fmt = require('util').format;\nvar EventEmitter = require('events').EventEmitter;\n\n/**\n * Initialize a `Loggeer` with the given log `level` defaulting\n * to __DEBUG__ and `stream` defaulting to _stdout_.\n *\n * @param {Number} level\n * @param {Object} stream\n * @api public\n */\n\nvar Log = exports = module.exports = function Log(level, stream){\n  if ('string' == typeof level) level = exports[level.toUpperCase()];\n  this.level = level || exports.DEBUG;\n  this.stream = stream || process.stdout;\n  if (this.stream.readable) this.read();\n};\n\n/**\n * System is unusable.\n *\n * @type Number\n */\n\nexports.EMERGENCY = 0;\n\n/**\n * Action must be taken immediately.\n *\n * @type Number\n */\n\nexports.ALERT = 1;\n\n/**\n * Critical condition.\n *\n * @type Number\n */\n\nexports.CRITICAL = 2;\n\n/**\n * Error condition.\n *\n * @type Number\n */\n\nexports.ERROR = 3;\n\n/**\n * Warning condition.\n *\n * @type Number\n */\n\nexports.WARNING = 4;\n\n/**\n * Normal but significant condition.\n *\n * @type Number\n */\n\nexports.NOTICE = 5;\n\n/**\n * Purely informational message.\n *\n * @type Number\n */\n\nexports.INFO = 6;\n\n/**\n * Application debug messages.\n *\n * @type Number\n */\n\nexports.DEBUG = 7;\n\n/**\n * prototype.\n */\n\nLog.prototype = {\n\n  /**\n   * Start emitting \"line\" events.\n   *\n   * @api public\n   */\n\n  read: function(){\n    var buf = ''\n      , self = this\n      , stream = this.stream;\n\n    stream.setEncoding('utf8');\n    stream.on('data', function(chunk){\n      buf += chunk;\n      if ('\\n' != buf[buf.length - 1]) return;\n      buf.split('\\n').map(function(line){\n        if (!line.length) return;\n        try {\n          var captures = line.match(/^\\[([^\\]]+)\\] (\\w+) (.*)/);\n          var obj = {\n              date: new Date(captures[1])\n            , level: exports[captures[2]]\n            , levelString: captures[2]\n            , msg: captures[3]\n          };\n          self.emit('line', obj);\n        } catch (err) {\n          // Ignore\n        }\n      });\n      buf = '';\n    });\n\n    stream.on('end', function(){\n      self.emit('end');\n    });\n  },\n\n  /**\n   * Log output message.\n   *\n   * @param  {String} levelStr\n   * @param  {Array} args\n   * @api private\n   */\n\n  log: function(levelStr, args) {\n    if (exports[levelStr] <= this.level) {\n      var msg = fmt.apply(null, args);\n      this.stream.write(\n          '[' + new Date + ']'\n        + ' ' + levelStr\n        + ' ' + msg\n        + '\\n'\n      );\n    }\n  },\n\n  /**\n   * Log emergency `msg`.\n   *\n   * @param  {String} msg\n   * @api public\n   */\n\n  emergency: function(msg){\n    this.log('EMERGENCY', arguments);\n  },\n\n  /**\n   * Log alert `msg`.\n   *\n   * @param  {String} msg\n   * @api public\n   */\n\n  alert: function(msg){\n    this.log('ALERT', arguments);\n  },\n\n  /**\n   * Log critical `msg`.\n   *\n   * @param  {String} msg\n   * @api public\n   */\n\n  critical: function(msg){\n    this.log('CRITICAL', arguments);\n  },\n\n  /**\n   * Log error `msg`.\n   *\n   * @param  {String} msg\n   * @api public\n   */\n\n  error: function(msg){\n    this.log('ERROR', arguments);\n  },\n\n  /**\n   * Log warning `msg`.\n   *\n   * @param  {String} msg\n   * @api public\n   */\n\n  warning: function(msg){\n    this.log('WARNING', arguments);\n  },\n\n  /**\n   * Log notice `msg`.\n   *\n   * @param  {String} msg\n   * @api public\n   */\n\n  notice: function(msg){\n    this.log('NOTICE', arguments);\n  },\n\n  /**\n   * Log info `msg`.\n   *\n   * @param  {String} msg\n   * @api public\n   */\n\n  info: function(msg){\n    this.log('INFO', arguments);\n  },\n\n  /**\n   * Log debug `msg`.\n   *\n   * @param  {String} msg\n   * @api public\n   */\n\n  debug: function(msg){\n    this.log('DEBUG', arguments);\n  }\n};\n\n/**\n * Inherit from `EventEmitter`.\n */\n\nLog.prototype.__proto__ = EventEmitter.prototype;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/jack/projects/~/log/lib/log.js\n// module id = 12\n// module chunks = 0","module.exports = require(\"babel-polyfill\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-polyfill\"\n// module id = 13\n// module chunks = 0","module.exports = require(\"eventemitter3\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"eventemitter3\"\n// module id = 14\n// module chunks = 0","module.exports = require(\"superagent\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"superagent\"\n// module id = 15\n// module chunks = 0","module.exports = require(\"superagent-promise-plugin\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"superagent-promise-plugin\"\n// module id = 16\n// module chunks = 0","import Discord from 'discord.io';\n\nimport Adapter from '../adapter';\nimport User from '../../user';\n\nexport const EVENTS = {\n  ready: 'discordReady',\n  message: 'discordMessage',\n  presence: 'discordPresence',\n  disconnected: 'discordDisconnected',\n};\n\nexport default class DiscordAdapter extends Adapter {\n  channels = {}\n\n  constructor ({ token, botId, username }) {\n    super(...arguments);\n\n    this.botId = botId;\n    this.username = username;\n    this.token = token;\n  }\n\n  register (bot) {\n    super.register(...arguments);\n\n    const { token, botId, username } = this;\n\n    if (!token || !botId || !username) {\n      this.status = Adapter.STATUS.ERROR;\n      bot.log.error('token, botId, and username are required to connect to discord.');\n      return;\n    }\n\n    this.client = new Discord.Client({\n      token,\n      autorun: true,\n    });\n\n    Object.keys(EVENTS).forEach(discordEvent => {\n      const mappedFn = this[EVENTS[discordEvent]];\n      this.client.on(discordEvent, (...args) => mappedFn.bind(this)(...args));\n      this.client.on(discordEvent, (...args) => {\n        this.bot.emitter.emit(`discord-${discordEvent}`, ...args);\n      });\n    });\n  }\n\n  send (message) {\n    this.bot.log.debug(`Sending ${message.text} to ${message.channel}`);\n\n    this.client.sendMessage({\n      to: message.channel,\n      message: message.text,\n    });\n  }\n\n  discordReady = () => {\n    this.status = Adapter.STATUS.CONNECTED;\n\n    this.bot.emitter.emit('connected', this.id);\n    this.bot.log.notice('Connected to Discord.');\n\n    this.client.setPresence({\n      game: 'Exobotting',\n    });\n  }\n\n  discordDisconnected = () => {\n    this.status = Adapter.STATUS.DISCONNECTED;\n    this.bot.log.critical('Disconnected from Discord.');\n  }\n\n  discordMessage (username, userId, channel, text/*, rawEvent*/) {\n    if (username === this.username) { return; }\n\n    const user = new User(username, userId);\n\n    // if it's a whisper, the channel is in directMessages\n    if (this.client.directMessages[channel]) {\n      return super.receiveWhisper({ user, text, channel });\n    }\n\n    this.receive({ user, text, channel });\n  }\n\n  discordPresence (username, userId, status, gameName, rawEvent) {\n    if (userId !== this.botId) {\n      const user = new User(username, userId);\n\n      if (status === 'online') {\n        return super.enter({ user, channel: rawEvent.d.channel_id });\n      } else if (status === 'offline') {\n        return super.leave({ user, channel: rawEvent.d.channel_id });\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/adapters/adapters/discord.js","import readline from 'readline';\n\nimport Adapter from '../adapter';\nimport User from '../../user';\n\nconst SHELL = 'SHELL';\nconst SHELL_USER = new User('shell');\n\nconst EXIT_COMMANDS = [\n  'exit',\n  'quit',\n  'q',\n];\n\nexport default class ShellAdapter extends Adapter {\n  constructor () {\n    super();\n    this.rl = readline.createInterface({\n      input: process.stdin,\n      output: process.stdout,\n    });\n  }\n\n  prompt () {\n    this.rl.question('Chat: ', (answer) => {\n      if (EXIT_COMMANDS.includes(answer)) {\n        return process.exit();\n      }\n\n      super.receive({\n        text: answer,\n        channel: SHELL,\n        user: SHELL_USER,\n      });\n\n      this.prompt();\n    });\n  }\n\n  register (bot) {\n    super.register(bot);\n    this.prompt();\n    this.status = Adapter.STATUS.CONNECTED;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/adapters/adapters/shell.js","import {\n  RtmClient,\n  CLIENT_EVENTS,\n  RTM_EVENTS,\n  //MemoryDataStore,\n} from '@slack/client';\n\nimport Adapter from '../adapter';\nimport User from '../../user';\n\nexport const EVENTS = {\n  [CLIENT_EVENTS.RTM.CONNECTING]: 'slackConnecting',\n  [CLIENT_EVENTS.RTM.RTM_CONNECTION_OPENED]: 'slackConnected',\n  [CLIENT_EVENTS.RTM.AUTHENTICATED]: 'slackAuthenticated',\n  [CLIENT_EVENTS.RTM.DISCONNECT]: 'slackDisconnected',\n  [CLIENT_EVENTS.RTM.UNABLE_TO_RTM_START]: 'slackUnableToStart',\n  [CLIENT_EVENTS.RTM.ATTEMPTING_RECONNECT]: 'slackReconnecting',\n  [RTM_EVENTS.MESSAGE]: 'slackMessage',\n};\n\nexport default class Slack extends Adapter {\n  constructor ({ token }) {\n    super(...arguments);\n    this.token = token;\n  }\n\n  register (bot) {\n    super.register(...arguments);\n    const { token } = this;\n\n    this.client = new RtmClient(token, { logLevel: bot.logLevel });\n\n    Object.keys(EVENTS).forEach(slackEvent => {\n      const mappedFn = this[EVENTS[slackEvent]];\n      this.client.on(slackEvent, (...args) => mappedFn(...args));\n      this.client.on(slackEvent, (...args) => {\n        bot.emitter.emit(`slack-${slackEvent}`, ...args);\n      });\n    });\n\n    this.client.start();\n  }\n\n  send (message) {\n    this.bot.log.debug(`Sending ${message.text} to ${message.channel}`);\n    this.client.sendMessage(message.text, message.channel);\n  }\n\n  slackConnecting = () => {\n    this.bot.log.info('Connecting to Slack.');\n    this.status = Adapter.STATUS.CONNECTING;\n  }\n\n  slackConnected = () => {\n    this.bot.log.info('Connected to Slack.');\n  }\n\n  slackAuthenticated = () => {\n    this.bot.log.notice('Successfully authenticated to Slack.');\n    this.status = Adapter.STATUS.CONNECTED;\n  }\n\n  slackDisconnected = () => {\n    this.bot.log.critical('Disconnected from Slack.');\n    this.status = Adapter.STATUS.DISCONNECTED;\n  }\n\n  slackUnableToStart = () => {\n    this.bot.log.critical('Unable to start Slack.');\n    this.status = Adapter.STATUS.DISCONNECTED;\n  }\n\n  slackReconnecting = () => {\n    this.bot.log.notice('Reconnecting to Slack.');\n    this.status = Adapter.STATUS.RECONNECTING;\n  }\n\n  slackMessage = (message) => {\n    const botId = this.client.activeUserId;\n    if (message.user === botId) { return; }\n\n    const slackUser = this.client.dataStore.getUserById(message.user);\n    let user;\n\n    if (slackUser) {\n      user = new User(slackUser.name, slackUser.id);\n    } else {\n      user = new User(message.user);\n    }\n\n    this.receive({ user, text: message.text, channel: message.channel });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/adapters/adapters/slack.js","import TMI from 'tmi.js';\n\nimport Adapter from '../adapter';\nimport User from '../../user';\n\nexport const EVENTS = {\n  connecting: 'twitchConnecting',\n  connected: 'twitchConnected',\n  logon: 'twitchLogon',\n  disconnected: 'twitchDisconnected',\n  reconnect: 'twitchReconnect',\n  chat: 'twitchChat',\n  emoteonly: 'twitchEmoteonly',\n  join: 'twitchJoin',\n  part: 'twitchPart',\n  mods: 'twitchMods',\n  notice: 'twitchNotice',\n  ping: 'twitchPing',\n  pong: 'twitchPong',\n  roomstate: 'twitchRoomstate',\n  slowmode: 'twitchSlowmode',\n  subscribers: 'twitchSubscribers',\n  subscription: 'twitchSubscription',\n  timeout: 'twitchTimeout',\n  whisper: 'twitchWhisper',\n};\n\nexport default class TwitchAdapter extends Adapter {\n  constructor ({ username, oauthPassword, channels=[] }) {\n    super(...arguments);\n\n    this.username = username;\n    this.oauthPassword = oauthPassword;\n    this.channels = channels;\n  }\n\n  register (bot) {\n    super.register(...arguments);\n\n    const { username, oauthPassword, channels } = this;\n\n    if (!username || !oauthPassword) {\n      bot.log.error('username and oauthPassword are required to connect to Twitch.');\n      return;\n    }\n\n    if (!channels.length) {\n      bot.log.critical('No channels passed to Twitch adapter to connect to.');\n    }\n\n    this.client = new TMI.client({\n      channels,\n      identity: {\n        username,\n        password: oauthPassword,\n      },\n      options: {\n        debug: true,\n      },\n      secure: true,\n      reconnect: true,\n      logger: {\n        info: bot.log.info.bind(bot.log),\n        warn: bot.log.warning.bind(bot.log),\n        error: bot.log.error.bind(bot.log),\n      },\n      connection: {\n        cluster: 'aws',\n      },\n    });\n\n    this.client.connect();\n\n    Object.keys(EVENTS).forEach(twitchEvent => {\n      const mappedFn = this[EVENTS[twitchEvent]];\n      this.client.on(twitchEvent, (...args) => mappedFn(...args));\n      this.client.on(twitchEvent, (...args) => {\n        this.bot.emitter.emit(`twitch-${twitchEvent}`, ...args);\n      });\n    });\n  }\n\n  send (message) {\n    this.bot.log.debug(`Sending ${message.text} to ${message.channel}`);\n\n    if (message.whisper) {\n      return this.client.whisper(message.user.name, message.text);\n    }\n\n    this.client.say(message.channel, message.text);\n  }\n\n  twitchConnecting = () => {\n    this.status = Adapter.STATUS.CONNECTING;\n  }\n\n  twitchConnected = () => {\n    this.status = Adapter.STATUS.CONNECTED;\n    this.bot.emitter.emit('connected', this.id);\n    this.bot.log.notice('Connected to Twitch.');\n  }\n\n  twitchLogon = () => {\n    this.status = Adapter.STATUS.CONNECTED;\n    this.bot.log.notice('Successfully logged on to Twitch.');\n  }\n\n  twitchDisconnected = () => {\n    this.status = Adapter.STATUS.DISCONNECTED;\n    this.bot.log.warning('Disconnected from Twitch.');\n  }\n\n  twitchReconnect = () => {\n    this.status = Adapter.STATUS.RECONNECTING;\n    this.bot.log.notice('Reconnecting to Twitch.');\n  }\n\n  twitchChat = (channel, twitchUser, text) => {\n    if (twitchUser.username === this.username) { return; }\n    const user = new User(twitchUser.username);\n    this.receive({ user, text, channel });\n  }\n\n  twitchEmoteonly = () => {\n  }\n\n  twitchJoin = (channel, username) => {\n    if (username !== this.username) { return; }\n    const user = new User(username);\n    return this.enter({ user, channel });\n  }\n\n  twitchPart = (channel, username) => {\n    if (username !== this.username) { return; }\n    const user = new User(username);\n    return this.leave({ user, channel });\n  }\n\n  twitchPing = () => {\n    this.ping();\n  }\n\n  twitchWhisper = (twitchUser, text) => {\n    if (twitchUser.username === this.username) { return; }\n    const user = new User(twitchUser.username);\n    this.receiveWhisper({ user, text, channel: twitchUser.username });\n  }\n\n  twitchPong = () => { }\n\n  twitchRoomstate = () => { }\n\n  twitchSlowmode = () => { }\n\n  twitchSubscribers = () => { }\n\n  twitchSubscription = () => { }\n\n  twitchTimeout = () => { }\n\n  twitchMods = () => { }\n\n  twitchNotice = () => { }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/adapters/adapters/twitch.js","import Cryptr from 'cryptr';\nimport Low from 'lowdb';\nimport fs from 'fs-extra';\nimport underscoredb from 'underscore-db';\n\nexport const deserialize = cryptr => {\n  return str => {\n    if (!str) { return {}; }\n    const decrypted = cryptr.decrypt(str);\n    const obj = JSON.parse(decrypted);\n    return obj;\n  };\n};\n\nexport const serialize = cryptr => {\n  return obj => {\n    const str = JSON.stringify(obj);\n    const encrypted = cryptr.encrypt(str);\n    return encrypted;\n  };\n};\n\nexport const read = (readFile) => {\n  return (path, deserialize) => {\n    return new Promise((resolve, reject) => {\n      readFile(path).then(data => {\n        try {\n          resolve(deserialize(data));\n        } catch (e) {\n          reject(e);\n        }\n      });\n    });\n  };\n};\n\nexport const write = writeFile => {\n  return (path, obj, serialize) => {\n    return new Promise((resolve, reject) => {\n      try {\n        const data = serialize(obj);\n        writeFile(path, data).then(resolve, reject);\n      } catch (e) {\n        reject(e);\n      }\n    });\n  };\n};\n\nexport const readLocal = (path) => {\n  return new Promise((resolve, reject) => {\n    fs.ensureFile(path, (err) => {\n      if (err) { return reject(err); }\n      fs.readFile(path, 'utf8', (err, data) => {\n        if (err) { return reject(err); }\n        return resolve(data);\n      });\n    });\n  });\n};\n\nexport const writeLocal = (path, data) => {\n  return new Promise((resolve, reject) => {\n    fs.ensureFile(path, (err) => {\n      if (err) { return reject(err); }\n      fs.writeFile(path, data, 'utf8', (err) => {\n        if (err) { return reject(err); }\n        return resolve(data);\n      });\n    });\n  });\n};\n\nexport async function DB ({ path, key, readFile=readLocal, writeFile=writeLocal }) {\n  const cryptr = new Cryptr(key || name);\n  const dbPath = path || `./data/${name}.json`;\n\n  const db = await new Low(dbPath, {\n    storage: {\n      read: read(readFile),\n      write: write(writeFile),\n    },\n    format: {\n      deserialize: deserialize(cryptr),\n      serialize: serialize(cryptr),\n    },\n  });\n\n  db._.mixin(underscoredb);\n  return db;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/db/db.js","import AWS from 'aws-sdk';\n\nexport function readS3 (region, accessKeyId, secretAccessKey, bucket, createBucket=false) {\n  return async function (path) {\n    try {\n      console.log('trying to read');\n      if (createBucket) {\n        await createS3Bucket(region, accessKeyId, secretAccessKey, bucket);\n      }\n\n      const s3bucket = new AWS.S3({\n        region,\n        accessKeyId,\n        secretAccessKey,\n        params: {\n          Bucket: bucket,\n        },\n      });\n\n      return new Promise((resolve, reject) => {\n        s3bucket.getObject({\n          Bucket: bucket,\n          Key: path,\n        }, (err, data) => {\n          if (err && err.statusCode === 404) { return resolve (''); }\n          if (err) { return reject(err); }\n          return resolve(data.Body.toString());\n        });\n      });\n    } catch (e) { console.log(e); }\n  };\n}\n\nexport function writeS3 (region, accessKeyId, secretAccessKey, bucket, createBucket=false) {\n  return async function (path, data) {\n    try {\n      if (createBucket) {\n        await createS3Bucket(region, accessKeyId, secretAccessKey, bucket);\n      }\n\n      const s3bucket = new AWS.S3({\n        region,\n        accessKeyId,\n        secretAccessKey,\n        params: {\n          Bucket: bucket,\n          Key: path,\n        },\n      });\n\n      return new Promise((resolve, reject) => {\n        s3bucket.upload({ Body: data }, (err, data) => {\n          if (err) { return reject(err); }\n          resolve(data);\n        });\n      });\n    } catch(e) { console.log(e); }\n  };\n}\n\nexport async function createS3Bucket (region, accessKeyId, secretAccessKey, bucket) {\n  try {\n    const newBucket = new AWS.S3({\n      region,\n      accessKeyId,\n      secretAccessKey,\n      params: {\n        Bucket: bucket,\n      },\n    });\n\n    return new Promise(resolve => newBucket.createBucket(resolve));\n  } catch(e) { console.log(e); }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/db/s3.js","import 'babel-polyfill';\n\nimport Emitter from 'eventemitter3';\nimport Log from 'log';\nimport superagent from 'superagent';\nimport sapp from 'superagent-promise-plugin';\nsapp.Promise = Promise;\n\nconst http = sapp.patch(superagent);\n\nimport { DB } from './db';\n\nexport class Exobot {\n  plugins = [];\n  adapters = {};\n\n  constructor (name, options={}) {\n    this.name = name;\n    this.alias = options.alias;\n    this.emitter = new Emitter();\n    this.http = http;\n\n    this.initLog(options.logLevel || Log.WARNING);\n    this.initAdapters(options.adapters);\n    this.initPlugins(options.plugins);\n\n    const dbPath = options.dbPath || `./data/${name}.json`;\n    this.initDB(options.key, dbPath, options.readFile, options.writeFile);\n  }\n\n  initAdapters = (adapters=[]) => {\n    adapters.forEach(a => this.addAdapter(a));\n  }\n\n  initPlugins = (plugins=[]) => {\n    plugins.forEach(p => this.addPlugin(p));\n  }\n\n  initLog = (logLevel) => {\n    const log = new Log(logLevel || Log.WARNING);\n    this.log = log;\n    this.logLevel = logLevel;\n\n    if (logLevel === Log.DEBUG) {\n      setInterval(this.logProcess, 10000);\n    }\n  }\n\n  initDB = (key, dbPath, readFile, writeFile) => {\n    if (!key) {\n      this.log.critical('Pass options.key in to bot initializer. Database not initializing.');\n      return;\n    }\n\n    DB({\n      key,\n      readFile,\n      writeFile,\n      path: dbPath,\n      emitter: this.emitter,\n    }).then((db) => {\n      this.db = db;\n      this.emitter.emit('dbLoaded', db);\n    }, this.log.critical);\n  }\n\n  logProcess = () => {\n    this.log.debug(process.memoryUsage(), process.cpuUsage());\n  }\n\n  addPlugin (plugin) {\n    plugin.register(this);\n    this.plugins.push(plugin);\n  }\n\n  addAdapter (adapter) {\n    adapter.register(this);\n    this.adapters[adapter.id] = adapter;\n  }\n\n  prependNameForWhisper (text) {\n    if (\n      text.slice(0, this.name.length).toLowerCase() !== this.name.toLowerCase() &&\n      text.slice(0, this.alias.length).toLowerCase() !== this.alias.toLowerCase()\n    ) {\n      text = `${this.name} ${text}`;\n    }\n\n    return text;\n  }\n}\n\nexport * from './adapters';\nexport * from './messages';\nexport * from './plugins';\nexport * from './db';\nexport { default as User } from './user';\n\n\n\n// WEBPACK FOOTER //\n// ./src/exobot.js","import Plugin from './plugin';\n\nexport default class EventPlugin extends Plugin {\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/event.js","import Plugin from './plugin';\n\nexport default class HTTPPlugin extends Plugin {\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/http.js","import ChatPlugin from '../chat';\n\nexport default class DBPlugin extends ChatPlugin {\n  help = 'dbdump: dump the database. Say \"<botname> dbdump\".';\n\n  constructor () {\n    super(...arguments);\n    this.respond(/^db dump/i, this.dump);\n    this.respond(/^db clear/i, this.clear);\n  }\n\n  async dump () {\n    await this.databaseInitialized();\n    return this.bot.db.getState();\n  }\n\n  async clear () {\n    await this.databaseInitialized();\n\n    this.bot.log.critical('Database clearing. You may need to restart your bot.');\n    this.bot.db.setState();\n\n    // reinitialize plugins so that those with default databases can re-set-up\n    this.bot.initializePlugins();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/plugins/db.js","import ChatPlugin from '../chat';\n\nexport const ENDPOINT = 'http://api.giphy.com/v1/gifs/search';\n\nexport default class GiphyPlugin extends ChatPlugin {\n  help = 'Help: Explains commands. Say \"<botname> help\" for information.';\n\n  constructor (options={}) {\n    const { apiKey } = options;\n    super(...arguments);\n    this.respond(/^(?:gif|giphy)(?:\\sme)?\\s+(.*)/i, this.giphy);\n\n    this.apiKey = apiKey;\n  }\n\n  register (bot) {\n    super.register(...arguments);\n\n    if (!this.apiKey) {\n      bot.log.critical('No apiKey passed to Giphy plugin; plugin will not work.');\n    }\n  }\n\n  async giphy ([, search]) {\n    try {\n      const { body } = await this.bot.http.get(ENDPOINT)\n                     .query({ q: search, api_key: this.apiKey });\n\n      const { data } = body;\n\n      if (data.length) {\n        return data[parseInt(Math.random() * data.length)].images.original.url;\n      }\n    } catch (e) {\n      this.bot.log.notice('Error returned from Giphy request.');\n      this.bot.log.debug(e);\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/plugins/giphy.js","import ChatPlugin from '../chat';\n\nconst GREETINGS = [\n  'hi',\n  'hello',\n  'sup',\n  'greetings',\n  'yo',\n  'hey',\n];\n\nconst FAREWELLS = [\n  'goodbye',\n  'farwell',\n  'bye',\n  'later',\n  'see ya',\n  'cya',\n];\n\nconst regex = (botname, list) => new RegExp(`^(${list.join('|')})[,\\\\s]*${botname}`, 'i');\n\nexport default class GreetingPlugin extends ChatPlugin {\n  help = 'Greetings: says \"hi\" back. Say \"hi <botname>\" for a response.';\n\n  register (bot) {\n    super.register(...arguments);\n\n    this.listen(regex(bot.name, GREETINGS), this.greeting);\n    this.listen((m) => GREETINGS.includes(m.text.toLowerCase()), this.greeting);\n    this.respond((m) => GREETINGS.includes(m.text.toLowerCase()), this.greeting);\n\n    this.listen(regex(bot.name, FAREWELLS), this.farewell);\n    this.listen((m) => FAREWELLS.includes(m.text.toLowerCase()), this.farewell);\n    this.respond((m) => FAREWELLS.includes(m.text.toLowerCase()), this.farewell);\n  }\n\n  greeting (_, message) {\n    const randomGreeting = GREETINGS[parseInt(Math.random() * GREETINGS.length)];\n    return `${randomGreeting}, ${message.user.name}!`;\n  }\n\n  farewell (_, message) {\n    const randomFarewell = FAREWELLS[parseInt(Math.random() * FAREWELLS.length)];\n    return `${randomFarewell}, ${message.user.name}!`;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/plugins/greetings.js","import ChatPlugin from '../chat';\n\nexport default class HelpPlugin extends ChatPlugin {\n  help = 'Help: Explains commands. Say \"<botname> help\" for information.';\n\n  constructor () {\n    super(...arguments);\n    this.respond(/^help$/i, this.pluginHelp);\n  }\n\n  pluginHelp = () => {\n    return this.bot.plugins\n                    .filter(p => p.help)\n                    .map(p => p.help, []).join('\\n');\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/plugins/help.js","import ChatPlugin from '../chat';\n\nexport const nameToId = (name) => {\n  return name.replace(/[^\\w]/g, '');\n}\n\nexport default class HelpPlugin extends ChatPlugin {\n  help = [\n    'Points: add points to things. `thing++` or `thing--` adds or removes',\n    'points. Users are rate-limited from voting on the same thing multiple',\n    'times. Optionally add reasons: `thing++ for my reasons`.',\n  ].join(' ');\n\n  constructor () {\n    super(...arguments);\n\n    this.listen(/^([\\s\\w'@.\\-:]*)\\s*\\+\\+(?:\\s+for (.*))?$/i, (match) => this.changePoints(match, 1));\n    this.listen(/^([\\s\\w'@.\\-:]*)\\s*\\-\\-(?:\\s+for (.*))?$/i, (match) => this.changePoints(match, -1));\n    this.respond(/^tops?\\s*(\\d*)?$/i, this.tops);\n    this.respond(/^score(?: for)?(.*)$/i, this.score);\n  }\n\n  register (bot) {\n    super.register(bot);\n    this.database('points', { things: {}, tops: [] });\n  }\n\n  async changePoints ([match, name, reason], val) {\n    name = name.trim();\n    const id = nameToId(name);\n\n    await this.databaseInitialized();\n\n    let points = this.bot.db.get(`points.things.${id}`).value();\n\n    if (!points) { points = this.buildPoints(name, id); }\n\n    points.points = points.points + val;\n\n    if (reason) {\n      const reasonId = nameToId(reason);\n      const existingReason = points.reasons[reasonId] || { score: 0, reason: reason };\n      existingReason.score++;\n\n      points.reasons[reasonId] = existingReason;\n    }\n\n    this.bot.db.set(`points.things.${id}`, points).value();\n    this.bot.db.write();\n\n    this.updateTops();\n\n    return `${name} has ${points.points} points.`;\n  }\n\n  async tops ([match, n=10]) {\n    await this.databaseInitialized();\n\n    if (n > 25) { n = 25; }\n\n    const scores = this.bot.db.get('points.things').value();\n    const tops = this.bot.db.get('points.tops').slice(0,n).value();\n\n    let text = [`Top ${Math.min(n, tops.length)}:`];\n\n    tops.forEach(t => text.push(`${scores[t].name}: ${scores[t].points}`))\n\n    return text.join('\\n');\n  }\n\n  async score ([match, name]) {\n    name = name.trim();\n    const id = nameToId(name);\n\n    await this.databaseInitialized();\n\n    const points = this.bot.db.get(`points.things.${id}`).value();\n    const { reasons } = points;\n\n    const text = [`${name} has ${points.points} points.`];\n    const reasonKeys = Object.keys(points.reasons);\n\n    if (reasonKeys.length > 0) {\n      text.push('Here are some reasons:');\n\n      reasonKeys.forEach(r => {\n        text.push(`${reasons[r].reason}: ${reasons[r].score} points`);\n      });\n    }\n\n    return text.join('\\n');\n  }\n\n  async updateTops() {\n    await this.databaseInitialized();\n\n    const tops = this.bot.db.get(`points.things`)\n                             .orderBy('points', 'desc')\n                             .map('id')\n                             .value();\n\n    this.bot.db.set('points.tops', tops).value();\n    this.bot.db.write();\n  }\n\n  buildPoints (name, id) {\n    return {\n      name,\n      id,\n      points: 0,\n      reasons: {},\n    };\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/plugins/points.js","module.exports = require(\"@slack/client\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@slack/client\"\n// module id = 33\n// module chunks = 0","module.exports = require(\"aws-sdk\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"aws-sdk\"\n// module id = 34\n// module chunks = 0","module.exports = require(\"cryptr\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cryptr\"\n// module id = 35\n// module chunks = 0","module.exports = require(\"discord.io\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"discord.io\"\n// module id = 36\n// module chunks = 0","module.exports = require(\"events\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"events\"\n// module id = 37\n// module chunks = 0","module.exports = require(\"fs-extra\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs-extra\"\n// module id = 38\n// module chunks = 0","module.exports = require(\"lowdb\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lowdb\"\n// module id = 39\n// module chunks = 0","module.exports = require(\"readline\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"readline\"\n// module id = 40\n// module chunks = 0","module.exports = require(\"tmi.js\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"tmi.js\"\n// module id = 41\n// module chunks = 0","module.exports = require(\"underscore-db\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"underscore-db\"\n// module id = 42\n// module chunks = 0","module.exports = require(\"util\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"util\"\n// module id = 43\n// module chunks = 0"],"sourceRoot":""}