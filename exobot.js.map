{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///exobot.js","webpack:///webpack/bootstrap dc0b97d81df7c0450aae","webpack:///./src/plugins/plugin.js","webpack:///./src/messages/message.js","webpack:///./src/messages/text.js","webpack:///./src/plugins/chat.js","webpack:///./src/user.js","webpack:///./src/adapters/adapter.js","webpack:///./src/messages/presence.js","webpack:///external \"node-uuid\"","webpack:///./src/adapters/index.js","webpack:///./src/plugins/index.js","webpack:///external \"babel-polyfill\"","webpack:///external \"eventemitter3\"","webpack:///external \"log\"","webpack:///external \"superagent\"","webpack:///external \"superagent-promise-plugin\"","webpack:///./src/adapters/adapters/shell.js","webpack:///./src/db/db.js","webpack:///./src/exobot.js","webpack:///./src/plugins/event.js","webpack:///./src/plugins/http.js","webpack:///./src/plugins/plugins/greetings.js","webpack:///./src/plugins/plugins/help.js","webpack:///external \"cryptr\"","webpack:///external \"fs-extra\"","webpack:///external \"lowdb\"","webpack:///external \"readline\"","webpack:///external \"underscore-db\""],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_8__","__WEBPACK_EXTERNAL_MODULE_12__","__WEBPACK_EXTERNAL_MODULE_13__","__WEBPACK_EXTERNAL_MODULE_14__","__WEBPACK_EXTERNAL_MODULE_15__","__WEBPACK_EXTERNAL_MODULE_16__","__WEBPACK_EXTERNAL_MODULE_26__","__WEBPACK_EXTERNAL_MODULE_27__","__WEBPACK_EXTERNAL_MODULE_28__","__WEBPACK_EXTERNAL_MODULE_29__","__WEBPACK_EXTERNAL_MODULE_30__","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","Object","defineProperty","configurable","enumerable","get","o","object","property","prototype","hasOwnProperty","p","s","_asyncToGenerator","fn","gen","apply","arguments","Promise","resolve","reject","step","key","arg","info","error","done","then","err","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","length","descriptor","writable","protoProps","staticProps","Plugin","options","undefined","help","_requiresDatabase","bot","Error","database","_x2","_x3","ref","regeneratorRuntime","mark","_callee","defaultValue","val","wrap","_context","prev","next","databaseInitialized","db","set","stop","_callee2","_this","_context2","abrupt","emitter","on","__WEBPACK_IMPORTED_MODULE_0__db__","__WEBPACK_IMPORT_KEY__","__WEBPACK_IMPORTED_MODULE_0_node_uuid__","__WEBPACK_IMPORTED_MODULE_0_node_uuid___default","__esModule","Message","_ref","user","channel","adapter","_ref$id","id","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","__WEBPACK_IMPORTED_MODULE_0__message__","TextMessage","_Message","text","_ref$whisper","whisper","getPrototypeOf","__WEBPACK_IMPORTED_MODULE_0__plugin__","__WEBPACK_IMPORTED_MODULE_1__messages_text__","_extends","assign","source","DEFAULT_REGEXP","ChatPlugin","_Plugin","regexp","respondFunctions","listenFunctions","_this2","botNameRegex","RegExp","alias","forEach","v","process","validation","response","message","_this3","isResponder","validateBotName","direct","exec","validate","res","_text","t","newMessage","send","regex","bind","push","User","__WEBPACK_IMPORTED_MODULE_2__messages_presence__","Adapter","status","STATUS","UNINITIALIZED","CONNECTING","listen","emit","_ref2","prependNameForWhisper","receive","_ref3","type","TYPES","ENTER","_ref4","LEAVE","console","log","pong","CONNECTED","DISCONNECTED","RECONNECTING","ERROR","PresenceMessage","__WEBPACK_IMPORTED_MODULE_0__adapter__","__WEBPACK_IMPORTED_MODULE_1__adapters__","adapters","__WEBPACK_IMPORTED_MODULE_1__presence__","__WEBPACK_IMPORTED_MODULE_2__text__","__WEBPACK_IMPORTED_MODULE_1__chat__","__WEBPACK_IMPORTED_MODULE_2__event__","__WEBPACK_IMPORTED_MODULE_3__http__","__WEBPACK_IMPORTED_MODULE_4__plugins__","plugins","__WEBPACK_IMPORTED_MODULE_0__shell__","__WEBPACK_IMPORTED_MODULE_0_readline__","__WEBPACK_IMPORTED_MODULE_0_readline___default","__WEBPACK_IMPORTED_MODULE_1__adapter__","__WEBPACK_IMPORTED_MODULE_2__user__","_get","receiver","Function","desc","getOwnPropertyDescriptor","parent","SHELL","SHELL_USER","EXIT_COMMANDS","ShellAdapter","_Adapter","rl","a","createInterface","input","stdin","output","stdout","question","answer","includes","exit","prompt","__WEBPACK_IMPORTED_MODULE_0_cryptr__","__WEBPACK_IMPORTED_MODULE_0_cryptr___default","__WEBPACK_IMPORTED_MODULE_1_lowdb__","__WEBPACK_IMPORTED_MODULE_1_lowdb___default","__WEBPACK_IMPORTED_MODULE_2_fs_extra__","__WEBPACK_IMPORTED_MODULE_2_fs_extra___default","__WEBPACK_IMPORTED_MODULE_3_underscore_db__","__WEBPACK_IMPORTED_MODULE_3_underscore_db___default","deserialize","serialize","read","write","readLocal","writeLocal","DB","cryptr","str","decrypted","decrypt","obj","JSON","parse","stringify","encrypted","encrypt","readFile","path","data","e","writeFile","ensureFile","dbPath","_ref$readFile","_ref$writeFile","storage","format","sent","_","mixin","_x","__WEBPACK_IMPORTED_MODULE_0_eventemitter3__","__WEBPACK_IMPORTED_MODULE_0_eventemitter3___default","__WEBPACK_IMPORTED_MODULE_1_log__","__WEBPACK_IMPORTED_MODULE_1_log___default","__WEBPACK_IMPORTED_MODULE_2_superagent__","__WEBPACK_IMPORTED_MODULE_2_superagent___default","__WEBPACK_IMPORTED_MODULE_3_superagent_promise_plugin__","__WEBPACK_IMPORTED_MODULE_3_superagent_promise_plugin___default","__WEBPACK_IMPORTED_MODULE_4__db__","__WEBPACK_IMPORTED_MODULE_5__adapters__","__WEBPACK_IMPORTED_MODULE_6__messages__","__WEBPACK_IMPORTED_MODULE_7__plugins__","__WEBPACK_IMPORTED_MODULE_8__user__","Exobot","LogLevels","indexOf","global","_babelPolyfill","http","patch","_initialiseProps","initLog","logLevel","WARNING","initAdapters","initPlugins","initDB","plugin","register","slice","toLowerCase","warning","addAdapter","addPlugin","DEBUG","setInterval","logProcess","critical","debug","memoryUsage","cpuUsage","EventPlugin","HTTPPlugin","__WEBPACK_IMPORTED_MODULE_0__chat__","GREETINGS","FAREWELLS","botname","list","join","GreetingPlugin","_ChatPlugin","_Object$getPrototypeO","_temp","_ret","_len","args","Array","_key","concat","greeting","respond","farewell","randomGreeting","parseInt","Math","random","randomFarewell","HelpPlugin","pluginHelp","filter","map","__WEBPACK_IMPORTED_MODULE_0__greetings__","__WEBPACK_IMPORTED_MODULE_1__help__"],"mappings":"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","file":"exobot.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"node-uuid\"), require(\"babel-polyfill\"), require(\"eventemitter3\"), require(\"log\"), require(\"superagent\"), require(\"superagent-promise-plugin\"), require(\"cryptr\"), require(\"fs-extra\"), require(\"lowdb\"), require(\"readline\"), require(\"underscore-db\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"node-uuid\", \"babel-polyfill\", \"eventemitter3\", \"log\", \"superagent\", \"superagent-promise-plugin\", \"cryptr\", \"fs-extra\", \"lowdb\", \"readline\", \"underscore-db\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"exobot.js\"] = factory(require(\"node-uuid\"), require(\"babel-polyfill\"), require(\"eventemitter3\"), require(\"log\"), require(\"superagent\"), require(\"superagent-promise-plugin\"), require(\"cryptr\"), require(\"fs-extra\"), require(\"lowdb\"), require(\"readline\"), require(\"underscore-db\"));\n\telse\n\t\troot[\"exobot.js\"] = factory(root[\"node-uuid\"], root[\"babel-polyfill\"], root[\"eventemitter3\"], root[\"log\"], root[\"superagent\"], root[\"superagent-promise-plugin\"], root[\"cryptr\"], root[\"fs-extra\"], root[\"lowdb\"], root[\"readline\"], root[\"underscore-db\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_8__, __WEBPACK_EXTERNAL_MODULE_12__, __WEBPACK_EXTERNAL_MODULE_13__, __WEBPACK_EXTERNAL_MODULE_14__, __WEBPACK_EXTERNAL_MODULE_15__, __WEBPACK_EXTERNAL_MODULE_16__, __WEBPACK_EXTERNAL_MODULE_26__, __WEBPACK_EXTERNAL_MODULE_27__, __WEBPACK_EXTERNAL_MODULE_28__, __WEBPACK_EXTERNAL_MODULE_29__, __WEBPACK_EXTERNAL_MODULE_30__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"node-uuid\"), require(\"babel-polyfill\"), require(\"eventemitter3\"), require(\"log\"), require(\"superagent\"), require(\"superagent-promise-plugin\"), require(\"cryptr\"), require(\"fs-extra\"), require(\"lowdb\"), require(\"readline\"), require(\"underscore-db\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"node-uuid\", \"babel-polyfill\", \"eventemitter3\", \"log\", \"superagent\", \"superagent-promise-plugin\", \"cryptr\", \"fs-extra\", \"lowdb\", \"readline\", \"underscore-db\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"exobot.js\"] = factory(require(\"node-uuid\"), require(\"babel-polyfill\"), require(\"eventemitter3\"), require(\"log\"), require(\"superagent\"), require(\"superagent-promise-plugin\"), require(\"cryptr\"), require(\"fs-extra\"), require(\"lowdb\"), require(\"readline\"), require(\"underscore-db\"));\n\telse\n\t\troot[\"exobot.js\"] = factory(root[\"node-uuid\"], root[\"babel-polyfill\"], root[\"eventemitter3\"], root[\"log\"], root[\"superagent\"], root[\"superagent-promise-plugin\"], root[\"cryptr\"], root[\"fs-extra\"], root[\"lowdb\"], root[\"readline\"], root[\"underscore-db\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_8__, __WEBPACK_EXTERNAL_MODULE_12__, __WEBPACK_EXTERNAL_MODULE_13__, __WEBPACK_EXTERNAL_MODULE_14__, __WEBPACK_EXTERNAL_MODULE_15__, __WEBPACK_EXTERNAL_MODULE_16__, __WEBPACK_EXTERNAL_MODULE_26__, __WEBPACK_EXTERNAL_MODULE_27__, __WEBPACK_EXTERNAL_MODULE_28__, __WEBPACK_EXTERNAL_MODULE_29__, __WEBPACK_EXTERNAL_MODULE_30__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmory imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmory exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tObject.defineProperty(exports, name, {\n/******/ \t\t\tconfigurable: false,\n/******/ \t\t\tenumerable: true,\n/******/ \t\t\tget: getter\n/******/ \t\t});\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 20);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { return step(\"next\", value); }, function (err) { return step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Plugin = function () {\n\t  function Plugin() {\n\t    var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\t\n\t    _classCallCheck(this, Plugin);\n\t\n\t    this.help = undefined;\n\t    this._requiresDatabase = false;\n\t\n\t    this.options = options;\n\t  }\n\t\n\t  _createClass(Plugin, [{\n\t    key: 'register',\n\t    value: function register(bot) {\n\t      if (!bot) {\n\t        throw new Error('No bot passed to register; fatal.');\n\t      }\n\t\n\t      this.bot = bot;\n\t    }\n\t  }, {\n\t    key: 'listen',\n\t    value: function listen() {\n\t      if (!this.bot) {\n\t        throw new Error('No bot to listen on; fatal.');\n\t      }\n\t    }\n\t  }, {\n\t    key: 'database',\n\t    value: function () {\n\t      var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(name, defaultValue) {\n\t        var val;\n\t        return regeneratorRuntime.wrap(function _callee$(_context) {\n\t          while (1) {\n\t            switch (_context.prev = _context.next) {\n\t              case 0:\n\t                _context.next = 2;\n\t                return this.databaseInitialized();\n\t\n\t              case 2:\n\t                val = this.bot.db.get(name).value();\n\t\n\t\n\t                if (typeof val === 'undefined') {\n\t                  this.bot.db.set(name, defaultValue).value();\n\t                }\n\t\n\t              case 4:\n\t              case 'end':\n\t                return _context.stop();\n\t            }\n\t          }\n\t        }, _callee, this);\n\t      }));\n\t\n\t      function database(_x2, _x3) {\n\t        return ref.apply(this, arguments);\n\t      }\n\t\n\t      return database;\n\t    }()\n\t  }, {\n\t    key: 'databaseInitialized',\n\t    value: function () {\n\t      var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n\t        var _this = this;\n\t\n\t        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n\t          while (1) {\n\t            switch (_context2.prev = _context2.next) {\n\t              case 0:\n\t                this._requiresDatabase = true;\n\t\n\t                if (!(this._requiresDatabase && this.bot.db)) {\n\t                  _context2.next = 3;\n\t                  break;\n\t                }\n\t\n\t                return _context2.abrupt('return', true);\n\t\n\t              case 3:\n\t                return _context2.abrupt('return', new Promise(function (resolve) {\n\t                  _this.bot.emitter.on('dbLoaded', resolve);\n\t                }));\n\t\n\t              case 4:\n\t              case 'end':\n\t                return _context2.stop();\n\t            }\n\t          }\n\t        }, _callee2, this);\n\t      }));\n\t\n\t      function databaseInitialized() {\n\t        return ref.apply(this, arguments);\n\t      }\n\t\n\t      return databaseInitialized;\n\t    }()\n\t  }]);\n\t\n\t  return Plugin;\n\t}();\n\t\n\t/* harmony default export */ exports[\"a\"] = Plugin;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__db__ = __webpack_require__(19);\n\t/* harmony namespace reexport */ for(var __WEBPACK_IMPORT_KEY__ in __WEBPACK_IMPORTED_MODULE_0__db__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(exports, key, function() { return __WEBPACK_IMPORTED_MODULE_0__db__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_node_uuid__ = __webpack_require__(8);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_node_uuid___default = __WEBPACK_IMPORTED_MODULE_0_node_uuid__ && __WEBPACK_IMPORTED_MODULE_0_node_uuid__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_0_node_uuid__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_0_node_uuid__; };\n\t/* harmony import */ __webpack_require__.d(__WEBPACK_IMPORTED_MODULE_0_node_uuid___default, 'a', __WEBPACK_IMPORTED_MODULE_0_node_uuid___default);\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t\n\t\n\tvar Message = function Message(_ref) {\n\t  var user = _ref.user;\n\t  var channel = _ref.channel;\n\t  var adapter = _ref.adapter;\n\t  var _ref$id = _ref.id;\n\t  var id = _ref$id === undefined ? __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_node_uuid__[\"v4\"])() : _ref$id;\n\t\n\t  _classCallCheck(this, Message);\n\t\n\t  this.user = user;\n\t  this.channel = channel;\n\t  this.adapter = adapter;\n\t  this.id = id;\n\t};\n\t\n\t/* harmony default export */ exports[\"a\"] = Message;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__message__ = __webpack_require__(2);\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t\n\t\n\tvar TextMessage = function (_Message) {\n\t  _inherits(TextMessage, _Message);\n\t\n\t  function TextMessage(_ref) {\n\t    var text = _ref.text;\n\t    var _ref$whisper = _ref.whisper;\n\t    var whisper = _ref$whisper === undefined ? false : _ref$whisper;\n\t\n\t    _classCallCheck(this, TextMessage);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(TextMessage).apply(this, arguments));\n\t\n\t    _this.text = text;\n\t    _this.whisper = whisper;\n\t    return _this;\n\t  }\n\t\n\t  return TextMessage;\n\t}(__WEBPACK_IMPORTED_MODULE_0__message__[\"a\" /* default */]);\n\t\n\t/* harmony default export */ exports[\"a\"] = TextMessage;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__plugin__ = __webpack_require__(0);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__messages_text__ = __webpack_require__(3);\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t\n\t\n\t\n\tvar DEFAULT_REGEXP = /.+/;\n\t\n\tvar ChatPlugin = function (_Plugin) {\n\t  _inherits(ChatPlugin, _Plugin);\n\t\n\t  function ChatPlugin() {\n\t    _classCallCheck(this, ChatPlugin);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(ChatPlugin).call(this));\n\t\n\t    _this.regexp = DEFAULT_REGEXP;\n\t    _this.respondFunctions = [];\n\t    _this.listenFunctions = [];\n\t    return _this;\n\t  }\n\t\n\t  _createClass(ChatPlugin, [{\n\t    key: 'register',\n\t    value: function register(bot) {\n\t      var _this2 = this;\n\t\n\t      this.bot = bot;\n\t      this.botNameRegex = new RegExp('^(?:(?:' + bot.name + '|' + bot.alias + ')[,\\\\s:.-]*)(.+)');\n\t\n\t      bot.emitter.on('receive-message', function (m) {\n\t        _this2.respondFunctions.forEach(function (v) {\n\t          return _this2.process(v[0], v[1], m, true);\n\t        });\n\t        _this2.listenFunctions.forEach(function (v) {\n\t          return _this2.process(v[0], v[1], m);\n\t        });\n\t      });\n\t    }\n\t  }, {\n\t    key: 'process',\n\t    value: function process(validation, response, message) {\n\t      var _this3 = this;\n\t\n\t      var isResponder = arguments.length <= 3 || arguments[3] === undefined ? false : arguments[3];\n\t\n\t      if (isResponder) {\n\t        var text = this.validateBotName(message);\n\t\n\t        if (text) {\n\t          message = new __WEBPACK_IMPORTED_MODULE_1__messages_text__[\"a\" /* default */](_extends({}, message, { text: text, direct: true }));\n\t        } else {\n\t          return;\n\t        }\n\t      }\n\t\n\t      if (validation.exec) {\n\t        validation = this.validate(validation);\n\t      }\n\t\n\t      var res = validation(message);\n\t\n\t      if (res) {\n\t        var _text = response(res, message);\n\t\n\t        if (_text) {\n\t          if (_text instanceof Promise) {\n\t            _text.then(function (t) {\n\t              var newMessage = new __WEBPACK_IMPORTED_MODULE_1__messages_text__[\"a\" /* default */](_extends({}, message, { text: t }));\n\t              _this3.bot.send(newMessage);\n\t            });\n\t          } else {\n\t            var newMessage = new __WEBPACK_IMPORTED_MODULE_1__messages_text__[\"a\" /* default */](_extends({}, message, { text: _text }));\n\t            this.bot.send(newMessage);\n\t          }\n\t        }\n\t      }\n\t    }\n\t  }, {\n\t    key: 'validate',\n\t    value: function validate(regex) {\n\t      return function (message) {\n\t        return regex.exec(message.text);\n\t      };\n\t    }\n\t  }, {\n\t    key: 'validateBotName',\n\t    value: function validateBotName(message) {\n\t      var exec = this.botNameRegex.exec(message.text);\n\t      if (!exec) {\n\t        return;\n\t      }\n\t\n\t      return exec[1];\n\t    }\n\t  }, {\n\t    key: 'respond',\n\t    value: function respond(validation, fn) {\n\t      if (fn) {\n\t        fn = fn.bind(this);\n\t      }\n\t      this.respondFunctions.push([validation, fn]);\n\t    }\n\t  }, {\n\t    key: 'listen',\n\t    value: function listen(validation, fn) {\n\t      if (fn) {\n\t        fn = fn.bind(this);\n\t      }\n\t      this.listenFunctions.push([validation, fn]);\n\t    }\n\t  }]);\n\t\n\t  return ChatPlugin;\n\t}(__WEBPACK_IMPORTED_MODULE_0__plugin__[\"a\" /* default */]);\n\t\n\t/* harmony default export */ exports[\"a\"] = ChatPlugin;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar User = function User(name) {\n\t  var id = arguments.length <= 1 || arguments[1] === undefined ? name : arguments[1];\n\t\n\t  _classCallCheck(this, User);\n\t\n\t  this.name = name;\n\t  this.id = id;\n\t};\n\t\n\t/* harmony default export */ exports[\"a\"] = User;\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_node_uuid__ = __webpack_require__(8);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_node_uuid___default = __WEBPACK_IMPORTED_MODULE_0_node_uuid__ && __WEBPACK_IMPORTED_MODULE_0_node_uuid__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_0_node_uuid__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_0_node_uuid__; };\n\t/* harmony import */ __webpack_require__.d(__WEBPACK_IMPORTED_MODULE_0_node_uuid___default, 'a', __WEBPACK_IMPORTED_MODULE_0_node_uuid___default);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__messages_text__ = __webpack_require__(3);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__messages_presence__ = __webpack_require__(7);\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t\n\t\n\t\n\t\n\t\n\tvar Adapter = function () {\n\t  function Adapter() {\n\t    var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\t\n\t    _classCallCheck(this, Adapter);\n\t\n\t    this.options = options;\n\t    this.id = options.id || __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_node_uuid__[\"v4\"])();\n\t    this.status = Adapter.STATUS.UNINITIALIZED;\n\t  }\n\t\n\t  _createClass(Adapter, [{\n\t    key: 'register',\n\t    value: function register(bot) {\n\t      if (!bot) {\n\t        throw new Error('No bot passed to register; fatal.');\n\t      }\n\t\n\t      this.bot = bot;\n\t\n\t      this.status = Adapter.STATUS.CONNECTING;\n\t      this.listen();\n\t    }\n\t  }, {\n\t    key: 'listen',\n\t    value: function listen() {\n\t      if (!this.bot) {\n\t        throw new Error('No bot to listen on; fatal.');\n\t      }\n\t    }\n\t  }, {\n\t    key: 'receive',\n\t    value: function receive(_ref) {\n\t      var user = _ref.user;\n\t      var text = _ref.text;\n\t      var channel = _ref.channel;\n\t      var whisper = _ref.whisper;\n\t\n\t      var message = new __WEBPACK_IMPORTED_MODULE_1__messages_text__[\"a\" /* default */]({ user: user, text: text, channel: channel, whisper: whisper, adapter: this.id });\n\t      this.bot.emitter.emit('receive-message', message);\n\t    }\n\t  }, {\n\t    key: 'receiveWhisper',\n\t    value: function receiveWhisper(_ref2) {\n\t      var user = _ref2.user;\n\t      var text = _ref2.text;\n\t      var channel = _ref2.channel;\n\t\n\t      text = this.bot.prependNameForWhisper(text);\n\t      this.receive({ user: user, text: text, channel: channel, whisper: true });\n\t    }\n\t  }, {\n\t    key: 'enter',\n\t    value: function enter(_ref3) {\n\t      var user = _ref3.user;\n\t      var channel = _ref3.channel;\n\t\n\t      var message = new __WEBPACK_IMPORTED_MODULE_2__messages_presence__[\"a\" /* default */]({\n\t        user: user,\n\t        channel: channel,\n\t        adapter: this.id,\n\t        type: __WEBPACK_IMPORTED_MODULE_2__messages_presence__[\"a\" /* default */].TYPES.ENTER\n\t      });\n\t\n\t      this.bot.emitter.emit('enter', message);\n\t    }\n\t  }, {\n\t    key: 'leave',\n\t    value: function leave(_ref4) {\n\t      var user = _ref4.user;\n\t      var channel = _ref4.channel;\n\t\n\t      var message = new __WEBPACK_IMPORTED_MODULE_2__messages_presence__[\"a\" /* default */]({\n\t        user: user,\n\t        channel: channel,\n\t        adapter: this.id,\n\t        type: __WEBPACK_IMPORTED_MODULE_2__messages_presence__[\"a\" /* default */].TYPES.LEAVE\n\t      });\n\t\n\t      this.bot.emitter.emit('leave', message);\n\t    }\n\t  }, {\n\t    key: 'send',\n\t    value: function send(message) {\n\t      console.log(message.text);\n\t    }\n\t  }, {\n\t    key: 'ping',\n\t    value: function ping() {\n\t      this.pong();\n\t    }\n\t  }, {\n\t    key: 'pong',\n\t    value: function pong() {\n\t      console.log('Ping received, this.pong() not implemented.');\n\t    }\n\t  }]);\n\t\n\t  return Adapter;\n\t}();\n\t\n\tAdapter.STATUS = {\n\t  UNINITIALIZED: 0,\n\t  CONNECTING: 1,\n\t  CONNECTED: 2,\n\t  DISCONNECTED: 3,\n\t  RECONNECTING: 4,\n\t  ERROR: 5\n\t};\n\t/* harmony default export */ exports[\"a\"] = Adapter;\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__message__ = __webpack_require__(2);\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t\n\t\n\tvar PresenceMessage = function (_Message) {\n\t  _inherits(PresenceMessage, _Message);\n\t\n\t  function PresenceMessage(_ref) {\n\t    var type = _ref.type;\n\t\n\t    _classCallCheck(this, PresenceMessage);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(PresenceMessage).apply(this, arguments));\n\t\n\t    _this.type = type;\n\t    return _this;\n\t  }\n\t\n\t  return PresenceMessage;\n\t}(__WEBPACK_IMPORTED_MODULE_0__message__[\"a\" /* default */]);\n\t\n\tPresenceMessage.TYPES = {\n\t  ENTER: 0,\n\t  LEAVE: 1\n\t};\n\t/* harmony default export */ exports[\"a\"] = PresenceMessage;\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"node-uuid\");\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__adapter__ = __webpack_require__(6);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__adapters__ = __webpack_require__(17);\n\t\n\t/* harmony export */ __webpack_require__.d(exports, \"adapters\", function() { return adapters; });/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_0__adapter__, \"a\")) __webpack_require__.d(exports, \"Adapter\", function() { return __WEBPACK_IMPORTED_MODULE_0__adapter__[\"a\"]; });\n\t\n\t\n\t\n\tvar adapters = __WEBPACK_IMPORTED_MODULE_1__adapters__;\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__message__ = __webpack_require__(2);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__presence__ = __webpack_require__(7);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__text__ = __webpack_require__(3);\n\t/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_0__message__, \"a\")) __webpack_require__.d(exports, \"Message\", function() { return __WEBPACK_IMPORTED_MODULE_0__message__[\"a\"]; });\n\t/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_1__presence__, \"a\")) __webpack_require__.d(exports, \"PresenceMessage\", function() { return __WEBPACK_IMPORTED_MODULE_1__presence__[\"a\"]; });\n\t/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_2__text__, \"a\")) __webpack_require__.d(exports, \"TextMessage\", function() { return __WEBPACK_IMPORTED_MODULE_2__text__[\"a\"]; });\n\t\n\t\n\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__plugin__ = __webpack_require__(0);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__chat__ = __webpack_require__(4);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__event__ = __webpack_require__(21);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__http__ = __webpack_require__(22);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__plugins__ = __webpack_require__(25);\n\t\n\t/* harmony export */ __webpack_require__.d(exports, \"plugins\", function() { return plugins; });/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_0__plugin__, \"a\")) __webpack_require__.d(exports, \"Plugin\", function() { return __WEBPACK_IMPORTED_MODULE_0__plugin__[\"a\"]; });\n\t/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_1__chat__, \"a\")) __webpack_require__.d(exports, \"ChatPlugin\", function() { return __WEBPACK_IMPORTED_MODULE_1__chat__[\"a\"]; });\n\t/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_2__event__, \"a\")) __webpack_require__.d(exports, \"EventPlugin\", function() { return __WEBPACK_IMPORTED_MODULE_2__event__[\"a\"]; });\n\t/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_3__http__, \"a\")) __webpack_require__.d(exports, \"HTTPPlugin\", function() { return __WEBPACK_IMPORTED_MODULE_3__http__[\"a\"]; });\n\t\n\t\n\t\n\t\n\t\n\t\n\tvar plugins = __WEBPACK_IMPORTED_MODULE_4__plugins__;\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"babel-polyfill\");\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"eventemitter3\");\n\n/***/ },\n/* 14 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"log\");\n\n/***/ },\n/* 15 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"superagent\");\n\n/***/ },\n/* 16 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"superagent-promise-plugin\");\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__shell__ = __webpack_require__(18);\n\t/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_0__shell__, \"a\")) __webpack_require__.d(exports, \"Shell\", function() { return __WEBPACK_IMPORTED_MODULE_0__shell__[\"a\"]; });\n\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_readline__ = __webpack_require__(29);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_readline___default = __WEBPACK_IMPORTED_MODULE_0_readline__ && __WEBPACK_IMPORTED_MODULE_0_readline__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_0_readline__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_0_readline__; };\n\t/* harmony import */ __webpack_require__.d(__WEBPACK_IMPORTED_MODULE_0_readline___default, 'a', __WEBPACK_IMPORTED_MODULE_0_readline___default);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__adapter__ = __webpack_require__(6);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__user__ = __webpack_require__(5);\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t\n\t\n\t\n\t\n\t\n\tvar SHELL = 'SHELL';\n\tvar SHELL_USER = new __WEBPACK_IMPORTED_MODULE_2__user__[\"a\" /* default */]('shell');\n\t\n\tvar EXIT_COMMANDS = ['exit', 'quit', 'q'];\n\t\n\tvar ShellAdapter = function (_Adapter) {\n\t  _inherits(ShellAdapter, _Adapter);\n\t\n\t  function ShellAdapter() {\n\t    _classCallCheck(this, ShellAdapter);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(ShellAdapter).call(this));\n\t\n\t    _this.rl = __WEBPACK_IMPORTED_MODULE_0_readline___default.a.createInterface({\n\t      input: process.stdin,\n\t      output: process.stdout\n\t    });\n\t    return _this;\n\t  }\n\t\n\t  _createClass(ShellAdapter, [{\n\t    key: 'prompt',\n\t    value: function prompt() {\n\t      var _this2 = this;\n\t\n\t      this.rl.question('Chat: ', function (answer) {\n\t        if (EXIT_COMMANDS.includes(answer)) {\n\t          return process.exit();\n\t        }\n\t\n\t        _get(Object.getPrototypeOf(ShellAdapter.prototype), 'receive', _this2).call(_this2, {\n\t          text: answer,\n\t          channel: SHELL,\n\t          user: SHELL_USER\n\t        });\n\t\n\t        _this2.prompt();\n\t      });\n\t    }\n\t  }, {\n\t    key: 'register',\n\t    value: function register(bot) {\n\t      _get(Object.getPrototypeOf(ShellAdapter.prototype), 'register', this).call(this, bot);\n\t      this.prompt();\n\t      this.status = __WEBPACK_IMPORTED_MODULE_1__adapter__[\"a\" /* default */].STATUS.CONNECTED;\n\t    }\n\t  }]);\n\t\n\t  return ShellAdapter;\n\t}(__WEBPACK_IMPORTED_MODULE_1__adapter__[\"a\" /* default */]);\n\t\n\t/* harmony default export */ exports[\"a\"] = ShellAdapter;\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_cryptr__ = __webpack_require__(26);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_cryptr___default = __WEBPACK_IMPORTED_MODULE_0_cryptr__ && __WEBPACK_IMPORTED_MODULE_0_cryptr__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_0_cryptr__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_0_cryptr__; };\n\t/* harmony import */ __webpack_require__.d(__WEBPACK_IMPORTED_MODULE_0_cryptr___default, 'a', __WEBPACK_IMPORTED_MODULE_0_cryptr___default);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lowdb__ = __webpack_require__(28);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lowdb___default = __WEBPACK_IMPORTED_MODULE_1_lowdb__ && __WEBPACK_IMPORTED_MODULE_1_lowdb__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_1_lowdb__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_1_lowdb__; };\n\t/* harmony import */ __webpack_require__.d(__WEBPACK_IMPORTED_MODULE_1_lowdb___default, 'a', __WEBPACK_IMPORTED_MODULE_1_lowdb___default);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_fs_extra__ = __webpack_require__(27);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_fs_extra___default = __WEBPACK_IMPORTED_MODULE_2_fs_extra__ && __WEBPACK_IMPORTED_MODULE_2_fs_extra__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_2_fs_extra__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_2_fs_extra__; };\n\t/* harmony import */ __webpack_require__.d(__WEBPACK_IMPORTED_MODULE_2_fs_extra___default, 'a', __WEBPACK_IMPORTED_MODULE_2_fs_extra___default);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_underscore_db__ = __webpack_require__(30);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_underscore_db___default = __WEBPACK_IMPORTED_MODULE_3_underscore_db__ && __WEBPACK_IMPORTED_MODULE_3_underscore_db__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_3_underscore_db__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_3_underscore_db__; };\n\t/* harmony import */ __webpack_require__.d(__WEBPACK_IMPORTED_MODULE_3_underscore_db___default, 'a', __WEBPACK_IMPORTED_MODULE_3_underscore_db___default);\n\t\n\t/* harmony export */ __webpack_require__.d(exports, \"deserialize\", function() { return deserialize; });\n\t/* harmony export */ __webpack_require__.d(exports, \"serialize\", function() { return serialize; });\n\t/* harmony export */ __webpack_require__.d(exports, \"read\", function() { return read; });\n\t/* harmony export */ __webpack_require__.d(exports, \"write\", function() { return write; });\n\t/* harmony export */ __webpack_require__.d(exports, \"readLocal\", function() { return readLocal; });\n\t/* harmony export */ __webpack_require__.d(exports, \"writeLocal\", function() { return writeLocal; });\n\t/* harmony export */ __webpack_require__.d(exports, \"DB\", function() { return DB; });function _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { return step(\"next\", value); }, function (err) { return step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\t\n\t\n\t\n\t\n\t\n\t\n\tvar deserialize = function deserialize(cryptr) {\n\t  return function (str) {\n\t    if (!str) {\n\t      return {};\n\t    }\n\t    var decrypted = cryptr.decrypt(str);\n\t    var obj = JSON.parse(decrypted);\n\t    return obj;\n\t  };\n\t};\n\t\n\tvar serialize = function serialize(cryptr) {\n\t  return function (obj) {\n\t    var str = JSON.stringify(obj);\n\t    var encrypted = cryptr.encrypt(str);\n\t    return encrypted;\n\t  };\n\t};\n\t\n\tvar read = function read(readFile) {\n\t  return function (path, deserialize) {\n\t    return new Promise(function (resolve, reject) {\n\t      readFile(path).then(function (data) {\n\t        try {\n\t          resolve(deserialize(data));\n\t        } catch (e) {\n\t          reject(e);\n\t        }\n\t      });\n\t    });\n\t  };\n\t};\n\t\n\tvar write = function write(writeFile) {\n\t  return function (path, obj, serialize) {\n\t    return new Promise(function (resolve, reject) {\n\t      try {\n\t        var data = serialize(obj);\n\t        writeFile(path, data).then(resolve, reject);\n\t      } catch (e) {\n\t        reject(e);\n\t      }\n\t    });\n\t  };\n\t};\n\t\n\tvar readLocal = function readLocal(path) {\n\t  return new Promise(function (resolve, reject) {\n\t    __WEBPACK_IMPORTED_MODULE_2_fs_extra___default.a.ensureFile(path, function (err) {\n\t      if (err) {\n\t        return reject(err);\n\t      }\n\t      __WEBPACK_IMPORTED_MODULE_2_fs_extra___default.a.readFile(path, 'utf8', function (err, data) {\n\t        if (err) {\n\t          return reject(err);\n\t        }\n\t        return resolve(data);\n\t      });\n\t    });\n\t  });\n\t};\n\t\n\tvar writeLocal = function writeLocal(path, data) {\n\t  return new Promise(function (resolve, reject) {\n\t    __WEBPACK_IMPORTED_MODULE_2_fs_extra___default.a.ensureFile(path, function (err) {\n\t      if (err) {\n\t        return reject(err);\n\t      }\n\t      __WEBPACK_IMPORTED_MODULE_2_fs_extra___default.a.writeFile(path, data, 'utf8', function (err) {\n\t        if (err) {\n\t          return reject(err);\n\t        }\n\t        return resolve(data);\n\t      });\n\t    });\n\t  });\n\t};\n\t\n\tvar DB = function () {\n\t  var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(_ref) {\n\t    var path = _ref.path;\n\t    var key = _ref.key;\n\t    var _ref$readFile = _ref.readFile;\n\t    var readFile = _ref$readFile === undefined ? readLocal : _ref$readFile;\n\t    var _ref$writeFile = _ref.writeFile;\n\t    var writeFile = _ref$writeFile === undefined ? writeLocal : _ref$writeFile;\n\t    var cryptr, dbPath, db;\n\t    return regeneratorRuntime.wrap(function _callee$(_context) {\n\t      while (1) {\n\t        switch (_context.prev = _context.next) {\n\t          case 0:\n\t            cryptr = new __WEBPACK_IMPORTED_MODULE_0_cryptr___default.a(key || name);\n\t            dbPath = path || './data/' + name + '.json';\n\t            _context.next = 4;\n\t            return new __WEBPACK_IMPORTED_MODULE_1_lowdb___default.a(dbPath, {\n\t              storage: {\n\t                read: read(readFile),\n\t                write: write(writeFile)\n\t              },\n\t              format: {\n\t                deserialize: deserialize(cryptr),\n\t                serialize: serialize(cryptr)\n\t              }\n\t            });\n\t\n\t          case 4:\n\t            db = _context.sent;\n\t\n\t\n\t            db._.mixin(__WEBPACK_IMPORTED_MODULE_3_underscore_db___default.a);\n\t            return _context.abrupt('return', db);\n\t\n\t          case 7:\n\t          case 'end':\n\t            return _context.stop();\n\t        }\n\t      }\n\t    }, _callee, this);\n\t  }));\n\t\n\t  return function DB(_x) {\n\t    return ref.apply(this, arguments);\n\t  };\n\t}();\n\n/***/ },\n/* 20 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_eventemitter3__ = __webpack_require__(13);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_eventemitter3___default = __WEBPACK_IMPORTED_MODULE_0_eventemitter3__ && __WEBPACK_IMPORTED_MODULE_0_eventemitter3__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_0_eventemitter3__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_0_eventemitter3__; };\n\t/* harmony import */ __webpack_require__.d(__WEBPACK_IMPORTED_MODULE_0_eventemitter3___default, 'a', __WEBPACK_IMPORTED_MODULE_0_eventemitter3___default);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_log__ = __webpack_require__(14);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_log___default = __WEBPACK_IMPORTED_MODULE_1_log__ && __WEBPACK_IMPORTED_MODULE_1_log__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_1_log__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_1_log__; };\n\t/* harmony import */ __webpack_require__.d(__WEBPACK_IMPORTED_MODULE_1_log___default, 'a', __WEBPACK_IMPORTED_MODULE_1_log___default);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_superagent__ = __webpack_require__(15);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_superagent___default = __WEBPACK_IMPORTED_MODULE_2_superagent__ && __WEBPACK_IMPORTED_MODULE_2_superagent__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_2_superagent__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_2_superagent__; };\n\t/* harmony import */ __webpack_require__.d(__WEBPACK_IMPORTED_MODULE_2_superagent___default, 'a', __WEBPACK_IMPORTED_MODULE_2_superagent___default);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_superagent_promise_plugin__ = __webpack_require__(16);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_superagent_promise_plugin___default = __WEBPACK_IMPORTED_MODULE_3_superagent_promise_plugin__ && __WEBPACK_IMPORTED_MODULE_3_superagent_promise_plugin__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_3_superagent_promise_plugin__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_3_superagent_promise_plugin__; };\n\t/* harmony import */ __webpack_require__.d(__WEBPACK_IMPORTED_MODULE_3_superagent_promise_plugin___default, 'a', __WEBPACK_IMPORTED_MODULE_3_superagent_promise_plugin___default);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__db__ = __webpack_require__(1);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__adapters__ = __webpack_require__(9);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__messages__ = __webpack_require__(10);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__plugins__ = __webpack_require__(11);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__user__ = __webpack_require__(5);\n\t\n\t/* harmony export */ __webpack_require__.d(exports, \"Exobot\", function() { return Exobot; });\n\t/* harmony export */ __webpack_require__.d(exports, \"LogLevels\", function() { return LogLevels; });/* harmony namespace reexport */ for(var __WEBPACK_IMPORT_KEY__ in __WEBPACK_IMPORTED_MODULE_5__adapters__) if([\"Exobot\",\"User\",\"LogLevels\",\"default\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(exports, key, function() { return __WEBPACK_IMPORTED_MODULE_5__adapters__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n\t/* harmony namespace reexport */ for(var __WEBPACK_IMPORT_KEY__ in __WEBPACK_IMPORTED_MODULE_6__messages__) if([\"Exobot\",\"User\",\"LogLevels\",\"default\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(exports, key, function() { return __WEBPACK_IMPORTED_MODULE_6__messages__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n\t/* harmony namespace reexport */ for(var __WEBPACK_IMPORT_KEY__ in __WEBPACK_IMPORTED_MODULE_7__plugins__) if([\"Exobot\",\"User\",\"LogLevels\",\"default\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(exports, key, function() { return __WEBPACK_IMPORTED_MODULE_7__plugins__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n\t/* harmony namespace reexport */ for(var __WEBPACK_IMPORT_KEY__ in __WEBPACK_IMPORTED_MODULE_4__db__) if([\"Exobot\",\"User\",\"LogLevels\",\"default\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(exports, key, function() { return __WEBPACK_IMPORTED_MODULE_4__db__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n\t/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_8__user__, \"a\")) __webpack_require__.d(exports, \"User\", function() { return __WEBPACK_IMPORTED_MODULE_8__user__[\"a\"]; });\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tif (!global._babelPolyfill) {\n\t  __webpack_require__(12);\n\t}\n\t\n\t\n\t\n\t\n\t\n\t__WEBPACK_IMPORTED_MODULE_3_superagent_promise_plugin___default.a.Promise = Promise;\n\t\n\tvar http = __WEBPACK_IMPORTED_MODULE_3_superagent_promise_plugin___default.a.patch(__WEBPACK_IMPORTED_MODULE_2_superagent___default.a);\n\t\n\t\n\t\n\tvar Exobot = function () {\n\t  function Exobot(name) {\n\t    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\t\n\t    _classCallCheck(this, Exobot);\n\t\n\t    _initialiseProps.call(this);\n\t\n\t    this.name = name;\n\t    this.alias = options.alias;\n\t    this.emitter = new __WEBPACK_IMPORTED_MODULE_0_eventemitter3___default.a();\n\t    this.http = http;\n\t\n\t    this.initLog(options.logLevel || __WEBPACK_IMPORTED_MODULE_1_log___default.a.WARNING);\n\t    this.initAdapters(options.adapters);\n\t    this.initPlugins(options.plugins);\n\t\n\t    var dbPath = options.dbPath || './data/' + name + '.json';\n\t    this.initDB(options.key, dbPath, options.readFile, options.writeFile);\n\t  }\n\t\n\t  _createClass(Exobot, [{\n\t    key: 'addPlugin',\n\t    value: function addPlugin(plugin) {\n\t      plugin.register(this);\n\t      this.plugins.push(plugin);\n\t    }\n\t  }, {\n\t    key: 'addAdapter',\n\t    value: function addAdapter(adapter) {\n\t      adapter.register(this);\n\t      this.adapters[adapter.id] = adapter;\n\t    }\n\t  }, {\n\t    key: 'prependNameForWhisper',\n\t    value: function prependNameForWhisper(text) {\n\t      if (text.slice(0, this.name.length).toLowerCase() !== this.name.toLowerCase() && text.slice(0, this.alias.length).toLowerCase() !== this.alias.toLowerCase()) {\n\t        text = this.name + ' ' + text;\n\t      }\n\t\n\t      return text;\n\t    }\n\t  }, {\n\t    key: 'send',\n\t    value: function send(message) {\n\t      var adapter = this.adapters[message.adapter];\n\t\n\t      if (!adapter) {\n\t        this.bot.log.warning('Message sent with invalid adapter: ' + message.adapter);\n\t        return;\n\t      }\n\t\n\t      adapter.send(message);\n\t    }\n\t  }]);\n\t\n\t  return Exobot;\n\t}();\n\t\n\tvar _initialiseProps = function _initialiseProps() {\n\t  var _this = this;\n\t\n\t  this.plugins = [];\n\t  this.adapters = {};\n\t\n\t  this.initAdapters = function () {\n\t    var adapters = arguments.length <= 0 || arguments[0] === undefined ? [] : arguments[0];\n\t\n\t    adapters.forEach(function (a) {\n\t      return _this.addAdapter(a);\n\t    });\n\t  };\n\t\n\t  this.initPlugins = function () {\n\t    var plugins = arguments.length <= 0 || arguments[0] === undefined ? [] : arguments[0];\n\t\n\t    plugins.forEach(function (p) {\n\t      return _this.addPlugin(p);\n\t    });\n\t  };\n\t\n\t  this.initLog = function (logLevel) {\n\t    var log = new __WEBPACK_IMPORTED_MODULE_1_log___default.a(logLevel || __WEBPACK_IMPORTED_MODULE_1_log___default.a.WARNING);\n\t    _this.log = log;\n\t    _this.logLevel = logLevel;\n\t\n\t    if (logLevel === __WEBPACK_IMPORTED_MODULE_1_log___default.a.DEBUG) {\n\t      setInterval(_this.logProcess, 10000);\n\t    }\n\t  };\n\t\n\t  this.initDB = function (key, dbPath, readFile, writeFile) {\n\t    if (!key) {\n\t      _this.log.critical('Pass options.key in to bot initializer. Database not initializing.');\n\t      return;\n\t    }\n\t\n\t    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__db__[\"DB\"])({\n\t      key: key,\n\t      readFile: readFile,\n\t      writeFile: writeFile,\n\t      path: dbPath,\n\t      emitter: _this.emitter\n\t    }).then(function (db) {\n\t      _this.db = db;\n\t      _this.emitter.emit('dbLoaded', db);\n\t    }, _this.log.critical);\n\t  };\n\t\n\t  this.logProcess = function () {\n\t    _this.log.debug(process.memoryUsage(), process.cpuUsage());\n\t  };\n\t};\n\t\n\t\n\t\n\t\n\t\n\t\n\tvar LogLevels = __WEBPACK_IMPORTED_MODULE_1_log___default.a;\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__plugin__ = __webpack_require__(0);\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t\n\t\n\tvar EventPlugin = function (_Plugin) {\n\t  _inherits(EventPlugin, _Plugin);\n\t\n\t  function EventPlugin() {\n\t    _classCallCheck(this, EventPlugin);\n\t\n\t    return _possibleConstructorReturn(this, Object.getPrototypeOf(EventPlugin).apply(this, arguments));\n\t  }\n\t\n\t  return EventPlugin;\n\t}(__WEBPACK_IMPORTED_MODULE_0__plugin__[\"a\" /* default */]);\n\t\n\t/* harmony default export */ exports[\"a\"] = EventPlugin;\n\n/***/ },\n/* 22 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__plugin__ = __webpack_require__(0);\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t\n\t\n\tvar HTTPPlugin = function (_Plugin) {\n\t  _inherits(HTTPPlugin, _Plugin);\n\t\n\t  function HTTPPlugin() {\n\t    _classCallCheck(this, HTTPPlugin);\n\t\n\t    return _possibleConstructorReturn(this, Object.getPrototypeOf(HTTPPlugin).apply(this, arguments));\n\t  }\n\t\n\t  return HTTPPlugin;\n\t}(__WEBPACK_IMPORTED_MODULE_0__plugin__[\"a\" /* default */]);\n\t\n\t/* harmony default export */ exports[\"a\"] = HTTPPlugin;\n\n/***/ },\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__chat__ = __webpack_require__(4);\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t\n\t\n\tvar GREETINGS = ['hi', 'hello', 'sup', 'greetings', 'yo', 'hey'];\n\t\n\tvar FAREWELLS = ['goodbye', 'farwell', 'bye', 'later', 'see ya', 'cya'];\n\t\n\tvar regex = function regex(botname, list) {\n\t  return new RegExp('^(' + list.join('|') + ')[,\\\\s]*' + botname, 'i');\n\t};\n\t\n\tvar GreetingPlugin = function (_ChatPlugin) {\n\t  _inherits(GreetingPlugin, _ChatPlugin);\n\t\n\t  function GreetingPlugin() {\n\t    var _Object$getPrototypeO;\n\t\n\t    var _temp, _this, _ret;\n\t\n\t    _classCallCheck(this, GreetingPlugin);\n\t\n\t    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t      args[_key] = arguments[_key];\n\t    }\n\t\n\t    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_Object$getPrototypeO = Object.getPrototypeOf(GreetingPlugin)).call.apply(_Object$getPrototypeO, [this].concat(args))), _this), _this.help = 'Greetings: says \"hi\" back. Say \"hi <botname>\" for a response.', _temp), _possibleConstructorReturn(_this, _ret);\n\t  }\n\t\n\t  _createClass(GreetingPlugin, [{\n\t    key: 'register',\n\t    value: function register(bot) {\n\t      _get(Object.getPrototypeOf(GreetingPlugin.prototype), 'register', this).apply(this, arguments);\n\t\n\t      this.listen(regex(bot.name, GREETINGS), this.greeting);\n\t      this.listen(function (m) {\n\t        return GREETINGS.includes(m.text.toLowerCase());\n\t      }, this.greeting);\n\t      this.respond(function (m) {\n\t        return GREETINGS.includes(m.text.toLowerCase());\n\t      }, this.greeting);\n\t\n\t      this.listen(regex(bot.name, FAREWELLS), this.farewell);\n\t      this.listen(function (m) {\n\t        return FAREWELLS.includes(m.text.toLowerCase());\n\t      }, this.farewell);\n\t      this.respond(function (m) {\n\t        return FAREWELLS.includes(m.text.toLowerCase());\n\t      }, this.farewell);\n\t    }\n\t  }, {\n\t    key: 'greeting',\n\t    value: function greeting(_, message) {\n\t      var randomGreeting = GREETINGS[parseInt(Math.random() * GREETINGS.length)];\n\t      return randomGreeting + ', ' + message.user.name + '!';\n\t    }\n\t  }, {\n\t    key: 'farewell',\n\t    value: function farewell(_, message) {\n\t      var randomFarewell = FAREWELLS[parseInt(Math.random() * FAREWELLS.length)];\n\t      return randomFarewell + ', ' + message.user.name + '!';\n\t    }\n\t  }]);\n\t\n\t  return GreetingPlugin;\n\t}(__WEBPACK_IMPORTED_MODULE_0__chat__[\"a\" /* default */]);\n\t\n\t/* harmony default export */ exports[\"a\"] = GreetingPlugin;\n\n/***/ },\n/* 24 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__chat__ = __webpack_require__(4);\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t\n\t\n\tvar HelpPlugin = function (_ChatPlugin) {\n\t  _inherits(HelpPlugin, _ChatPlugin);\n\t\n\t  function HelpPlugin() {\n\t    _classCallCheck(this, HelpPlugin);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(HelpPlugin).apply(this, arguments));\n\t\n\t    _this.help = 'Help: Explains commands. Say \"<botname> help\" for information.';\n\t\n\t    _this.pluginHelp = function () {\n\t      return _this.bot.plugins.filter(function (p) {\n\t        return p.help;\n\t      }).map(function (p) {\n\t        return p.help;\n\t      }, []).join('\\n');\n\t    };\n\t\n\t    _this.respond(/^help$/i, _this.pluginHelp);\n\t    return _this;\n\t  }\n\t\n\t  return HelpPlugin;\n\t}(__WEBPACK_IMPORTED_MODULE_0__chat__[\"a\" /* default */]);\n\t\n\t/* harmony default export */ exports[\"a\"] = HelpPlugin;\n\n/***/ },\n/* 25 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__greetings__ = __webpack_require__(23);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__help__ = __webpack_require__(24);\n\t/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_0__greetings__, \"a\")) __webpack_require__.d(exports, \"Greetings\", function() { return __WEBPACK_IMPORTED_MODULE_0__greetings__[\"a\"]; });\n\t/* harmony reexport */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_1__help__, \"a\")) __webpack_require__.d(exports, \"Help\", function() { return __WEBPACK_IMPORTED_MODULE_1__help__[\"a\"]; });\n\t\n\n\n/***/ },\n/* 26 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"cryptr\");\n\n/***/ },\n/* 27 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"fs-extra\");\n\n/***/ },\n/* 28 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"lowdb\");\n\n/***/ },\n/* 29 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"readline\");\n\n/***/ },\n/* 30 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"underscore-db\");\n\n/***/ }\n/******/ ])\n});\n;\n\n\n// WEBPACK FOOTER //\n// exobot.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmory imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmory exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tObject.defineProperty(exports, name, {\n \t\t\tconfigurable: false,\n \t\t\tenumerable: true,\n \t\t\tget: getter\n \t\t});\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 20);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap dc0b97d81df7c0450aae","export default class Plugin {\n  help = undefined;\n  _requiresDatabase = false;\n\n  constructor (options={}) {\n    this.options = options;\n  }\n\n  register (bot) {\n    if (!bot) { throw new Error('No bot passed to register; fatal.'); }\n\n    this.bot = bot;\n  }\n\n  listen () {\n    if (!this.bot) { throw new Error('No bot to listen on; fatal.'); }\n  }\n\n  async database (name, defaultValue) {\n    await this.databaseInitialized();\n    const val = this.bot.db.get(name).value();\n\n    if (typeof val === 'undefined') {\n      this.bot.db.set(name, defaultValue).value();\n    }\n  }\n\n  async databaseInitialized () {\n    this._requiresDatabase = true;\n\n    if (this._requiresDatabase && this.bot.db) {\n      return true;\n    }\n\n    return new Promise((resolve) => {\n      this.bot.emitter.on('dbLoaded', resolve);\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/plugin.js","import { v4 as uuid } from 'node-uuid';\n\nexport default class Message {\n  constructor ({ user, channel, adapter, id=uuid() }) {\n    this.user = user;\n    this.channel = channel;\n    this.adapter = adapter;\n    this.id = id;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/messages/message.js","import Message from './message';\n\nexport default class TextMessage extends Message {\n  constructor ({ text, whisper=false }) {\n    super(...arguments);\n    this.text = text;\n    this.whisper = whisper;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/messages/text.js","import Plugin from './plugin';\nimport TextMessage from '../messages/text';\n\nconst DEFAULT_REGEXP = /.+/;\n\nexport default class ChatPlugin extends Plugin {\n  regexp = DEFAULT_REGEXP;\n\n  respondFunctions = [];\n  listenFunctions = [];\n\n  constructor () {\n    super();\n  }\n\n  register (bot) {\n    this.bot = bot;\n    this.botNameRegex = new RegExp(`^(?:(?:${bot.name}|${bot.alias})[,\\\\s:.-]*)(.+)`);\n\n    bot.emitter.on('receive-message', m => {\n      this.respondFunctions.forEach(v => this.process(v[0], v[1], m, true));\n      this.listenFunctions.forEach(v => this.process(v[0], v[1], m));\n    });\n  }\n\n  process (validation, response, message, isResponder=false) {\n    if (isResponder) {\n      const text = this.validateBotName(message);\n\n      if (text) {\n        message = new TextMessage({ ...message, text, direct: true });\n      } else {\n        return;\n      }\n    }\n\n    if (validation.exec) { validation = this.validate(validation); }\n\n    const res = validation(message);\n\n    if (res) {\n      const text = response(res, message);\n\n      if (text) {\n        if (text instanceof Promise) {\n          text.then(t => {\n            const newMessage = new TextMessage({ ...message, text: t });\n            this.bot.send(newMessage);\n          });\n        } else {\n          const newMessage = new TextMessage({ ...message, text });\n          this.bot.send(newMessage);\n        }\n      }\n    }\n  }\n\n  validate (regex) {\n    return message => regex.exec(message.text);\n  }\n\n  validateBotName (message) {\n    const exec = this.botNameRegex.exec(message.text);\n    if (!exec) { return; }\n\n    return exec[1];\n  }\n\n  respond (validation, fn) {\n    if (fn) { fn = fn.bind(this); }\n    this.respondFunctions.push([validation, fn]);\n  }\n\n  listen (validation, fn) {\n    if (fn) { fn = fn.bind(this); }\n    this.listenFunctions.push([validation, fn]);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/chat.js","export default class User {\n  constructor (name, id=name) {\n    this.name = name;\n    this.id = id;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/user.js","import { v4 as uuid } from 'node-uuid';\n\nimport TextMessage from '../messages/text';\nimport PresenceMessage from '../messages/presence';\n\nexport default class Adapter {\n  static STATUS = {\n    UNINITIALIZED: 0,\n    CONNECTING: 1,\n    CONNECTED: 2,\n    DISCONNECTED: 3,\n    RECONNECTING: 4,\n    ERROR: 5,\n  }\n\n  constructor (options={}) {\n    this.options = options;\n    this.id = options.id || uuid();\n    this.status = Adapter.STATUS.UNINITIALIZED;\n  }\n\n  register (bot) {\n    if (!bot) { throw new Error('No bot passed to register; fatal.'); }\n\n    this.bot = bot;\n\n    this.status = Adapter.STATUS.CONNECTING;\n    this.listen();\n  }\n\n  listen () {\n    if (!this.bot) { throw new Error('No bot to listen on; fatal.'); }\n  }\n\n  receive ({ user, text, channel, whisper }) {\n    const message = new TextMessage({ user, text, channel, whisper, adapter: this.id });\n    this.bot.emitter.emit('receive-message', message);\n  }\n\n  receiveWhisper ({ user, text, channel }) {\n    text = this.bot.prependNameForWhisper(text);\n    this.receive({ user, text, channel, whisper: true });\n  }\n\n  enter ({ user, channel }) {\n    const message = new PresenceMessage({\n      user,\n      channel,\n      adapter: this.id,\n      type: PresenceMessage.TYPES.ENTER,\n    });\n\n    this.bot.emitter.emit('enter', message);\n  }\n\n  leave ({ user, channel }) {\n    const message = new PresenceMessage({\n      user,\n      channel,\n      adapter: this.id,\n      type: PresenceMessage.TYPES.LEAVE,\n    });\n\n    this.bot.emitter.emit('leave', message);\n  }\n\n  send (message) {\n    console.log(message.text);\n  }\n\n  ping () {\n    this.pong();\n  }\n\n  pong () {\n    console.log('Ping received, this.pong() not implemented.');\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/adapters/adapter.js","import Message from './message';\n\nexport default class PresenceMessage extends Message {\n  static TYPES = {\n    ENTER: 0,\n    LEAVE: 1,\n  }\n\n  constructor ({ type }) {\n    super(...arguments);\n    this.type = type;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/messages/presence.js","module.exports = require(\"node-uuid\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"node-uuid\"\n// module id = 8\n// module chunks = 0","export { default as Adapter } from './adapter';\n\nimport * as a from './adapters';\nexport const adapters = a;\n\n\n\n// WEBPACK FOOTER //\n// ./src/adapters/index.js","export { default as Plugin } from './plugin';\nexport { default as ChatPlugin } from './chat';\nexport { default as EventPlugin } from './event';\nexport { default as HTTPPlugin } from './http';\n\nimport * as p from './plugins';\nexport const plugins = p;\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/index.js","module.exports = require(\"babel-polyfill\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-polyfill\"\n// module id = 12\n// module chunks = 0","module.exports = require(\"eventemitter3\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"eventemitter3\"\n// module id = 13\n// module chunks = 0","module.exports = require(\"log\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"log\"\n// module id = 14\n// module chunks = 0","module.exports = require(\"superagent\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"superagent\"\n// module id = 15\n// module chunks = 0","module.exports = require(\"superagent-promise-plugin\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"superagent-promise-plugin\"\n// module id = 16\n// module chunks = 0","import readline from 'readline';\n\nimport Adapter from '../adapter';\nimport User from '../../user';\n\nconst SHELL = 'SHELL';\nconst SHELL_USER = new User('shell');\n\nconst EXIT_COMMANDS = [\n  'exit',\n  'quit',\n  'q',\n];\n\nexport default class ShellAdapter extends Adapter {\n  constructor () {\n    super();\n    this.rl = readline.createInterface({\n      input: process.stdin,\n      output: process.stdout,\n    });\n  }\n\n  prompt () {\n    this.rl.question('Chat: ', (answer) => {\n      if (EXIT_COMMANDS.includes(answer)) {\n        return process.exit();\n      }\n\n      super.receive({\n        text: answer,\n        channel: SHELL,\n        user: SHELL_USER,\n      });\n\n      this.prompt();\n    });\n  }\n\n  register (bot) {\n    super.register(bot);\n    this.prompt();\n    this.status = Adapter.STATUS.CONNECTED;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/adapters/adapters/shell.js","import Cryptr from 'cryptr';\nimport Low from 'lowdb';\nimport fs from 'fs-extra';\nimport underscoredb from 'underscore-db';\n\nexport const deserialize = cryptr => {\n  return str => {\n    if (!str) { return {}; }\n    const decrypted = cryptr.decrypt(str);\n    const obj = JSON.parse(decrypted);\n    return obj;\n  };\n};\n\nexport const serialize = cryptr => {\n  return obj => {\n    const str = JSON.stringify(obj);\n    const encrypted = cryptr.encrypt(str);\n    return encrypted;\n  };\n};\n\nexport const read = (readFile) => {\n  return (path, deserialize) => {\n    return new Promise((resolve, reject) => {\n      readFile(path).then(data => {\n        try {\n          resolve(deserialize(data));\n        } catch (e) {\n          reject(e);\n        }\n      });\n    });\n  };\n};\n\nexport const write = writeFile => {\n  return (path, obj, serialize) => {\n    return new Promise((resolve, reject) => {\n      try {\n        const data = serialize(obj);\n        writeFile(path, data).then(resolve, reject);\n      } catch (e) {\n        reject(e);\n      }\n    });\n  };\n};\n\nexport const readLocal = (path) => {\n  return new Promise((resolve, reject) => {\n    fs.ensureFile(path, (err) => {\n      if (err) { return reject(err); }\n      fs.readFile(path, 'utf8', (err, data) => {\n        if (err) { return reject(err); }\n        return resolve(data);\n      });\n    });\n  });\n};\n\nexport const writeLocal = (path, data) => {\n  return new Promise((resolve, reject) => {\n    fs.ensureFile(path, (err) => {\n      if (err) { return reject(err); }\n      fs.writeFile(path, data, 'utf8', (err) => {\n        if (err) { return reject(err); }\n        return resolve(data);\n      });\n    });\n  });\n};\n\nexport async function DB ({ path, key, readFile=readLocal, writeFile=writeLocal }) {\n  const cryptr = new Cryptr(key || name);\n  const dbPath = path || `./data/${name}.json`;\n\n  const db = await new Low(dbPath, {\n    storage: {\n      read: read(readFile),\n      write: write(writeFile),\n    },\n    format: {\n      deserialize: deserialize(cryptr),\n      serialize: serialize(cryptr),\n    },\n  });\n\n  db._.mixin(underscoredb);\n  return db;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/db/db.js","if (!global._babelPolyfill) {\n  require('babel-polyfill');\n}\n\nimport Emitter from 'eventemitter3';\nimport Log from 'log';\nimport superagent from 'superagent';\nimport sapp from 'superagent-promise-plugin';\nsapp.Promise = Promise;\n\nconst http = sapp.patch(superagent);\n\nimport { DB } from './db';\n\nexport class Exobot {\n  plugins = [];\n  adapters = {};\n\n  constructor (name, options={}) {\n    this.name = name;\n    this.alias = options.alias;\n    this.emitter = new Emitter();\n    this.http = http;\n\n    this.initLog(options.logLevel || Log.WARNING);\n    this.initAdapters(options.adapters);\n    this.initPlugins(options.plugins);\n\n    const dbPath = options.dbPath || `./data/${name}.json`;\n    this.initDB(options.key, dbPath, options.readFile, options.writeFile);\n  }\n\n  initAdapters = (adapters=[]) => {\n    adapters.forEach(a => this.addAdapter(a));\n  }\n\n  initPlugins = (plugins=[]) => {\n    plugins.forEach(p => this.addPlugin(p));\n  }\n\n  initLog = (logLevel) => {\n    const log = new Log(logLevel || Log.WARNING);\n    this.log = log;\n    this.logLevel = logLevel;\n\n    if (logLevel === Log.DEBUG) {\n      setInterval(this.logProcess, 10000);\n    }\n  }\n\n  initDB = (key, dbPath, readFile, writeFile) => {\n    if (!key) {\n      this.log.critical('Pass options.key in to bot initializer. Database not initializing.');\n      return;\n    }\n\n    DB({\n      key,\n      readFile,\n      writeFile,\n      path: dbPath,\n      emitter: this.emitter,\n    }).then((db) => {\n      this.db = db;\n      this.emitter.emit('dbLoaded', db);\n    }, this.log.critical);\n  }\n\n  logProcess = () => {\n    this.log.debug(process.memoryUsage(), process.cpuUsage());\n  }\n\n  addPlugin (plugin) {\n    plugin.register(this);\n    this.plugins.push(plugin);\n  }\n\n  addAdapter (adapter) {\n    adapter.register(this);\n    this.adapters[adapter.id] = adapter;\n  }\n\n  prependNameForWhisper (text) {\n    if (\n      text.slice(0, this.name.length).toLowerCase() !== this.name.toLowerCase() &&\n      text.slice(0, this.alias.length).toLowerCase() !== this.alias.toLowerCase()\n    ) {\n      text = `${this.name} ${text}`;\n    }\n\n    return text;\n  }\n\n  send (message) {\n    const adapter = this.adapters[message.adapter];\n\n    if (!adapter) {\n      this.bot.log.warning(`Message sent with invalid adapter: ${message.adapter}`);\n      return;\n    }\n\n    adapter.send(message);\n  }\n}\n\nexport * from './adapters';\nexport * from './messages';\nexport * from './plugins';\nexport * from './db';\nexport { default as User } from './user';\nexport const LogLevels = Log;\n\n\n\n// WEBPACK FOOTER //\n// ./src/exobot.js","import Plugin from './plugin';\n\nexport default class EventPlugin extends Plugin {\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/event.js","import Plugin from './plugin';\n\nexport default class HTTPPlugin extends Plugin {\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/http.js","import ChatPlugin from '../chat';\n\nconst GREETINGS = [\n  'hi',\n  'hello',\n  'sup',\n  'greetings',\n  'yo',\n  'hey',\n];\n\nconst FAREWELLS = [\n  'goodbye',\n  'farwell',\n  'bye',\n  'later',\n  'see ya',\n  'cya',\n];\n\nconst regex = (botname, list) => new RegExp(`^(${list.join('|')})[,\\\\s]*${botname}`, 'i');\n\nexport default class GreetingPlugin extends ChatPlugin {\n  help = 'Greetings: says \"hi\" back. Say \"hi <botname>\" for a response.';\n\n  register (bot) {\n    super.register(...arguments);\n\n    this.listen(regex(bot.name, GREETINGS), this.greeting);\n    this.listen((m) => GREETINGS.includes(m.text.toLowerCase()), this.greeting);\n    this.respond((m) => GREETINGS.includes(m.text.toLowerCase()), this.greeting);\n\n    this.listen(regex(bot.name, FAREWELLS), this.farewell);\n    this.listen((m) => FAREWELLS.includes(m.text.toLowerCase()), this.farewell);\n    this.respond((m) => FAREWELLS.includes(m.text.toLowerCase()), this.farewell);\n  }\n\n  greeting (_, message) {\n    const randomGreeting = GREETINGS[parseInt(Math.random() * GREETINGS.length)];\n    return `${randomGreeting}, ${message.user.name}!`;\n  }\n\n  farewell (_, message) {\n    const randomFarewell = FAREWELLS[parseInt(Math.random() * FAREWELLS.length)];\n    return `${randomFarewell}, ${message.user.name}!`;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/plugins/greetings.js","import ChatPlugin from '../chat';\n\nexport default class HelpPlugin extends ChatPlugin {\n  help = 'Help: Explains commands. Say \"<botname> help\" for information.';\n\n  constructor () {\n    super(...arguments);\n    this.respond(/^help$/i, this.pluginHelp);\n  }\n\n  pluginHelp = () => {\n    return this.bot.plugins\n                    .filter(p => p.help)\n                    .map(p => p.help, []).join('\\n');\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/plugins/help.js","module.exports = require(\"cryptr\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cryptr\"\n// module id = 26\n// module chunks = 0","module.exports = require(\"fs-extra\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs-extra\"\n// module id = 27\n// module chunks = 0","module.exports = require(\"lowdb\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lowdb\"\n// module id = 28\n// module chunks = 0","module.exports = require(\"readline\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"readline\"\n// module id = 29\n// module chunks = 0","module.exports = require(\"underscore-db\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"underscore-db\"\n// module id = 30\n// module chunks = 0"],"sourceRoot":""}